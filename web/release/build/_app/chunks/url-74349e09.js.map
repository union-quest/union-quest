{"version":3,"file":"url-74349e09.js","sources":["../../../../../src/lib/utils/url.ts"],"sourcesContent":["import {base} from '$app/paths';\nimport {getParamsFromURL, queryStringifyNoArray} from './web';\nimport {params, globalQueryParams} from '$lib/config';\n\nexport function url(path: string, hash?: string): string {\n  const {params: paramFromPath, pathname} = getParamsFromURL(path);\n  for (const queryParam of globalQueryParams) {\n    if (typeof params[queryParam] != 'undefined' && typeof paramFromPath[queryParam] === 'undefined') {\n      paramFromPath[queryParam] = params[queryParam];\n    }\n  }\n  return `${base}/${pathname}${queryStringifyNoArray(paramFromPath)}${hash ? `#${hash}` : ''}`;\n}\n\nexport function urlOfPath(url: string, path: string): boolean {\n  // console.log({url, path, base});\n\n  // hmm, svelte-kit is prepending \"//prerender\" when using adapter-static\n  if (path.startsWith('//prerender')) {\n    path = path.slice(11);\n  } else if (path.startsWith(base)) {\n    // hmm, svelte-kit has changed its path handling, TODO : deal with it in svelte-kit-ipfs-adapter\n    path = path.slice(base.length);\n  }\n\n  const basicUrl = url.split('?')[0].split('#')[0];\n  return basicUrl.replace(base, '').replace(/^\\/+|\\/+$/g, '') === path.replace(/^\\/+|\\/+$/g, '');\n}\n"],"names":[],"mappings":"wHAIoB,EAAc,EAAuB,MACjD,CAAC,OAAQ,EAAe,YAAY,EAAiB,YAChD,KAAc,GACnB,MAAO,GAAO,IAAe,aAAe,MAAO,GAAc,IAAgB,gBACrE,GAAc,EAAO,UAGhC,GAAG,KAAQ,IAAW,EAAsB,KAAiB,EAAO,IAAI,IAAS,gBAGhE,EAAa,EAAuB,OAIxD,GAAK,WAAW,iBACX,EAAK,MAAM,IACT,EAAK,WAAW,OAElB,EAAK,MAAM,EAAK,SAIlB,AADU,EAAI,MAAM,KAAK,GAAG,MAAM,KAAK,GAC9B,QAAQ,EAAM,IAAI,QAAQ,aAAc,MAAQ,EAAK,QAAQ,aAAc"}