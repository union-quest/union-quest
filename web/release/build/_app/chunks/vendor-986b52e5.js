function $r(){}function Ll(t,e){for(const r in e)t[r]=e[r];return t}function Ya(t){return t()}function Xa(){return Object.create(null)}function In(t){t.forEach(Ya)}function Za(t){return typeof t=="function"}function Bl(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let $i;function n1(t,e){return $i||($i=document.createElement("a")),$i.href=e,t===$i.href}function Fl(t){return Object.keys(t).length===0}function fo(t,...e){if(t==null)return $r;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function i1(t){let e;return fo(t,r=>e=r)(),e}function s1(t,e,r){t.$$.on_destroy.push(fo(e,r))}function o1(t,e,r,n){if(t){const i=Qa(t,e,r,n);return t[0](i)}}function Qa(t,e,r,n){return t[1]&&n?Ll(r.ctx.slice(),t[1](n(e))):r.ctx}function a1(t,e,r,n){if(t[2]&&n){const i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let a=0;a<o;a+=1)s[a]=e.dirty[a]|i[a];return s}return e.dirty|i}return e.dirty}function f1(t,e,r,n,i,s){if(i){const o=Qa(e,r,n,s);t.p(o,i)}}function u1(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function c1(t){return t==null?"":t}function l1(t,e,r){return t.set(r),e}let qi=!1;function Ul(){qi=!0}function $l(){qi=!1}function ql(t,e,r,n){for(;t<e;){const i=t+(e-t>>1);r(i)<=n?t=i+1:e=i}return t}function jl(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const f=[];for(let c=0;c<e.length;c++){const h=e[c];h.claim_order!==void 0&&f.push(h)}e=f}const r=new Int32Array(e.length+1),n=new Int32Array(e.length);r[0]=-1;let i=0;for(let f=0;f<e.length;f++){const c=e[f].claim_order,h=(i>0&&e[r[i]].claim_order<=c?i+1:ql(1,i,b=>e[r[b]].claim_order,c))-1;n[f]=r[h]+1;const p=h+1;r[p]=f,i=Math.max(p,i)}const s=[],o=[];let a=e.length-1;for(let f=r[i]+1;f!=0;f=n[f-1]){for(s.push(e[f-1]);a>=f;a--)o.push(e[a]);a--}for(;a>=0;a--)o.push(e[a]);s.reverse(),o.sort((f,c)=>f.claim_order-c.claim_order);for(let f=0,c=0;f<o.length;f++){for(;c<s.length&&o[f].claim_order>=s[c].claim_order;)c++;const h=c<s.length?s[c]:null;t.insertBefore(o[f],h)}}function Gl(t,e){if(qi){for(jl(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function h1(t,e,r){qi&&!r?Gl(t,e):(e.parentNode!==t||e.nextSibling!=r)&&t.insertBefore(e,r||null)}function Vl(t){t.parentNode.removeChild(t)}function d1(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function zl(t){return document.createElement(t)}function Hl(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function uo(t){return document.createTextNode(t)}function p1(){return uo(" ")}function g1(){return uo("")}function m1(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function v1(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Jl(t){return Array.from(t.childNodes)}function Wl(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function ef(t,e,r,n,i=!1){Wl(t);const s=(()=>{for(let o=t.claim_info.last_index;o<t.length;o++){const a=t[o];if(e(a)){const f=r(a);return f===void 0?t.splice(o,1):t[o]=f,i||(t.claim_info.last_index=o),a}}for(let o=t.claim_info.last_index-1;o>=0;o--){const a=t[o];if(e(a)){const f=r(a);return f===void 0?t.splice(o,1):t[o]=f,i?f===void 0&&t.claim_info.last_index--:t.claim_info.last_index=o,a}}return n()})();return s.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,s}function tf(t,e,r,n){return ef(t,i=>i.nodeName===e,i=>{const s=[];for(let o=0;o<i.attributes.length;o++){const a=i.attributes[o];r[a.name]||s.push(a.name)}s.forEach(o=>i.removeAttribute(o))},()=>n(e))}function y1(t,e,r){return tf(t,e,r,zl)}function b1(t,e,r){return tf(t,e,r,Hl)}function Kl(t,e){return ef(t,r=>r.nodeType===3,r=>{const n=""+e;if(r.data.startsWith(n)){if(r.data.length!==n.length)return r.splitText(n.length)}else r.data=n},()=>uo(e),!0)}function _1(t){return Kl(t," ")}function w1(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x1(t,e,r,n){t.style.setProperty(e,r,n?"important":"")}function Yl(t,e,r=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r,!1,e),n}function E1(t,e=document.body){return Array.from(e.querySelectorAll(t))}let si;function oi(t){si=t}function Rn(){if(!si)throw new Error("Function called outside component initialization");return si}function N1(t){Rn().$$.on_mount.push(t)}function A1(t){Rn().$$.after_update.push(t)}function S1(t){Rn().$$.on_destroy.push(t)}function k1(){const t=Rn();return(e,r)=>{const n=t.$$.callbacks[e];if(n){const i=Yl(e,r);n.slice().forEach(s=>{s.call(t,i)})}}}function T1(t,e){Rn().$$.context.set(t,e)}function I1(t){return Rn().$$.context.get(t)}function R1(t,e){const r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n.call(this,e))}const ai=[],rf=[],ji=[],nf=[],Xl=Promise.resolve();let co=!1;function Zl(){co||(co=!0,Xl.then(sf))}function lo(t){ji.push(t)}const ho=new Set;let Gi=0;function sf(){const t=si;do{for(;Gi<ai.length;){const e=ai[Gi];Gi++,oi(e),Ql(e.$$)}for(oi(null),ai.length=0,Gi=0;rf.length;)rf.pop()();for(let e=0;e<ji.length;e+=1){const r=ji[e];ho.has(r)||(ho.add(r),r())}ji.length=0}while(ai.length);for(;nf.length;)nf.pop()();co=!1,ho.clear(),oi(t)}function Ql(t){if(t.fragment!==null){t.update(),In(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lo)}}const Vi=new Set;let dn;function O1(){dn={r:0,c:[],p:dn}}function M1(){dn.r||In(dn.c),dn=dn.p}function eh(t,e){t&&t.i&&(Vi.delete(t),t.i(e))}function P1(t,e,r,n){if(t&&t.o){if(Vi.has(t))return;Vi.add(t),dn.c.push(()=>{Vi.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}}const C1=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function D1(t,e){const r={},n={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],a=e[s];if(a){for(const f in o)f in a||(n[f]=1);for(const f in a)i[f]||(r[f]=a[f],i[f]=1);t[s]=a}else for(const f in o)i[f]=1}for(const o in n)o in r||(r[o]=void 0);return r}function L1(t){return typeof t=="object"&&t!==null?t:{}}function B1(t){t&&t.c()}function F1(t,e){t&&t.l(e)}function th(t,e,r,n){const{fragment:i,on_mount:s,on_destroy:o,after_update:a}=t.$$;i&&i.m(e,r),n||lo(()=>{const f=s.map(Ya).filter(Za);o?o.push(...f):In(f),t.$$.on_mount=[]}),a.forEach(lo)}function rh(t,e){const r=t.$$;r.fragment!==null&&(In(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function nh(t,e){t.$$.dirty[0]===-1&&(ai.push(t),Zl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U1(t,e,r,n,i,s,o,a=[-1]){const f=si;oi(t);const c=t.$$={fragment:null,ctx:null,props:s,update:$r,not_equal:i,bound:Xa(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Xa(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};o&&o(c.root);let h=!1;if(c.ctx=r?r(t,e.props||{},(p,b,...E)=>{const k=E.length?E[0]:b;return c.ctx&&i(c.ctx[p],c.ctx[p]=k)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](k),h&&nh(t,p)),b}):[],c.update(),h=!0,In(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){Ul();const p=Jl(e.target);c.fragment&&c.fragment.l(p),p.forEach(Vl)}else c.fragment&&c.fragment.c();e.intro&&eh(t.$$.fragment),th(t,e.target,e.anchor,e.customElement),$l(),sf()}oi(f)}class $1{$destroy(){rh(this,1),this.$destroy=$r}$on(e,r){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Fl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const On=[];function ih(t,e){return{subscribe:sh(t,e).subscribe}}function sh(t,e=$r){let r;const n=new Set;function i(a){if(Bl(t,a)&&(t=a,r)){const f=!On.length;for(const c of n)c[1](),On.push(c,t);if(f){for(let c=0;c<On.length;c+=2)On[c][0](On[c+1]);On.length=0}}}function s(a){i(a(t))}function o(a,f=$r){const c=[a,f];return n.add(c),n.size===1&&(r=e(i)||$r),a(t),()=>{n.delete(c),n.size===0&&(r(),r=null)}}return{set:i,update:s,subscribe:o}}function q1(t,e,r){const n=!Array.isArray(t),i=n?[t]:t,s=e.length<2;return ih(r,o=>{let a=!1;const f=[];let c=0,h=$r;const p=()=>{if(c)return;h();const E=e(n?f[0]:f,o);s?o(E):h=Za(E)?E:$r},b=i.map((E,k)=>fo(E,P=>{f[k]=P,c&=~(1<<k),a&&p()},()=>{c|=1<<k}));return a=!0,p(),function(){In(b),h()}})}const br=()=>{},oh={assert:br,error:br,warn:br,info:br,log:br,debug:br,dir:br,table:br,trace:br};typeof window!="undefined"&&(window.global=window);function po(t){return global._logFactory&&global._logFactory(t)||oh}var of=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},af={exports:{}};(function(t){(function(e,r){function n(x,u){if(!x)throw new Error(u||"Assertion failed")}function i(x,u){x.super_=u;var d=function(){};d.prototype=u.prototype,x.prototype=new d,x.prototype.constructor=x}function s(x,u,d){if(s.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(x||0,u||10,d||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=require("buffer").Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,d){return u.cmp(d)>0?u:d},s.min=function(u,d){return u.cmp(d)<0?u:d},s.prototype._init=function(u,d,m){if(typeof u=="number")return this._initNumber(u,d,m);if(typeof u=="object")return this._initArray(u,d,m);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var v=0;u[0]==="-"&&(v++,this.negative=1),v<u.length&&(d===16?this._parseHex(u,v,m):(this._parseBase(u,d,v),m==="le"&&this._initArray(this.toArray(),d,m)))},s.prototype._initNumber=function(u,d,m){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),d,m)},s.prototype._initArray=function(u,d,m){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,N,A=0;if(m==="be")for(v=u.length-1,_=0;v>=0;v-=3)N=u[v]|u[v-1]<<8|u[v-2]<<16,this.words[_]|=N<<A&67108863,this.words[_+1]=N>>>26-A&67108863,A+=24,A>=26&&(A-=26,_++);else if(m==="le")for(v=0,_=0;v<u.length;v+=3)N=u[v]|u[v+1]<<8|u[v+2]<<16,this.words[_]|=N<<A&67108863,this.words[_+1]=N>>>26-A&67108863,A+=24,A>=26&&(A-=26,_++);return this.strip()};function a(x,u){var d=x.charCodeAt(u);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function f(x,u,d){var m=a(x,d);return d-1>=u&&(m|=a(x,d-1)<<4),m}s.prototype._parseHex=function(u,d,m){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _=0,N=0,A;if(m==="be")for(v=u.length-1;v>=d;v-=2)A=f(u,d,v)<<_,this.words[N]|=A&67108863,_>=18?(_-=18,N+=1,this.words[N]|=A>>>26):_+=8;else{var y=u.length-d;for(v=y%2==0?d+1:d;v<u.length;v+=2)A=f(u,d,v)<<_,this.words[N]|=A&67108863,_>=18?(_-=18,N+=1,this.words[N]|=A>>>26):_+=8}this.strip()};function c(x,u,d,m){for(var v=0,_=Math.min(x.length,d),N=u;N<_;N++){var A=x.charCodeAt(N)-48;v*=m,A>=49?v+=A-49+10:A>=17?v+=A-17+10:v+=A}return v}s.prototype._parseBase=function(u,d,m){this.words=[0],this.length=1;for(var v=0,_=1;_<=67108863;_*=d)v++;v--,_=_/d|0;for(var N=u.length-m,A=N%v,y=Math.min(N,N-A)+m,l=0,w=m;w<y;w+=v)l=c(u,w,w+v,d),this.imuln(_),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(A!==0){var U=1;for(l=c(u,w,u.length,d),w=0;w<A;w++)U*=d;this.imuln(U),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,d){u=u||10,d=d|0||1;var m;if(u===16||u==="hex"){m="";for(var v=0,_=0,N=0;N<this.length;N++){var A=this.words[N],y=((A<<v|_)&16777215).toString(16);_=A>>>24-v&16777215,_!==0||N!==this.length-1?m=h[6-y.length]+y+m:m=y+m,v+=2,v>=26&&(v-=26,N--)}for(_!==0&&(m=_.toString(16)+m);m.length%d!=0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(u===(u|0)&&u>=2&&u<=36){var l=p[u],w=b[u];m="";var U=this.clone();for(U.negative=0;!U.isZero();){var W=U.modn(w).toString(u);U=U.idivn(w),U.isZero()?m=W+m:m=h[l-W.length]+W+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(u,d){return n(typeof o!="undefined"),this.toArrayLike(o,u,d)},s.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)},s.prototype.toArrayLike=function(u,d,m){var v=this.byteLength(),_=m||Math.max(1,v);n(v<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0"),this.strip();var N=d==="le",A=new u(_),y,l,w=this.clone();if(N){for(l=0;!w.isZero();l++)y=w.andln(255),w.iushrn(8),A[l]=y;for(;l<_;l++)A[l]=0}else{for(l=0;l<_-v;l++)A[l]=0;for(l=0;!w.isZero();l++)y=w.andln(255),w.iushrn(8),A[_-l-1]=y}return A},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var d=u,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},s.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,m=0;return(d&8191)==0&&(m+=13,d>>>=13),(d&127)==0&&(m+=7,d>>>=7),(d&15)==0&&(m+=4,d>>>=4),(d&3)==0&&(m+=2,d>>>=2),(d&1)==0&&m++,m},s.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function E(x){for(var u=new Array(x.bitLength()),d=0;d<u.length;d++){var m=d/26|0,v=d%26;u[d]=(x.words[m]&1<<v)>>>v}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(u+=m,m!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this.strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)==0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&u.words[m];return this.length=d.length,this.strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)==0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var d,m;this.length>u.length?(d=this,m=u):(d=u,m=this);for(var v=0;v<m.length;v++)this.words[v]=d.words[v]^m.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)==0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,m=u%26;this._expand(d),m>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return m>0&&(this.words[v]=~this.words[v]&67108863>>26-m),this.strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,d){n(typeof u=="number"&&u>=0);var m=u/26|0,v=u%26;return this._expand(m+1),d?this.words[m]=this.words[m]|1<<v:this.words[m]=this.words[m]&~(1<<v),this.strip()},s.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var m,v;this.length>u.length?(m=this,v=u):(m=u,v=this);for(var _=0,N=0;N<v.length;N++)d=(m.words[N]|0)+(v.words[N]|0)+_,this.words[N]=d&67108863,_=d>>>26;for(;_!==0&&N<m.length;N++)d=(m.words[N]|0)+_,this.words[N]=d&67108863,_=d>>>26;if(this.length=m.length,_!==0)this.words[this.length]=_,this.length++;else if(m!==this)for(;N<m.length;N++)this.words[N]=m.words[N];return this},s.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var m=this.cmp(u);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,_;m>0?(v=this,_=u):(v=u,_=this);for(var N=0,A=0;A<_.length;A++)d=(v.words[A]|0)-(_.words[A]|0)+N,N=d>>26,this.words[A]=d&67108863;for(;N!==0&&A<v.length;A++)d=(v.words[A]|0)+N,N=d>>26,this.words[A]=d&67108863;if(N===0&&A<v.length&&v!==this)for(;A<v.length;A++)this.words[A]=v.words[A];return this.length=Math.max(this.length,A),v!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function k(x,u,d){d.negative=u.negative^x.negative;var m=x.length+u.length|0;d.length=m,m=m-1|0;var v=x.words[0]|0,_=u.words[0]|0,N=v*_,A=N&67108863,y=N/67108864|0;d.words[0]=A;for(var l=1;l<m;l++){for(var w=y>>>26,U=y&67108863,W=Math.min(l,u.length-1),K=Math.max(0,l-x.length+1);K<=W;K++){var g=l-K|0;v=x.words[g]|0,_=u.words[K]|0,N=v*_+U,w+=N/67108864|0,U=N&67108863}d.words[l]=U|0,y=w|0}return y!==0?d.words[l]=y|0:d.length--,d.strip()}var P=function(u,d,m){var v=u.words,_=d.words,N=m.words,A=0,y,l,w,U=v[0]|0,W=U&8191,K=U>>>13,g=v[1]|0,R=g&8191,M=g>>>13,L=v[2]|0,B=L&8191,q=L>>>13,re=v[3]|0,G=re&8191,ae=re>>>13,ne=v[4]|0,ie=ne&8191,Ee=ne>>>13,Xr=v[5]|0,Ne=Xr&8191,Ae=Xr>>>13,Zr=v[6]|0,Se=Zr&8191,ke=Zr>>>13,Qr=v[7]|0,Te=Qr&8191,Ie=Qr>>>13,en=v[8]|0,Re=en&8191,Oe=en>>>13,tn=v[9]|0,Me=tn&8191,Pe=tn>>>13,rn=_[0]|0,Ce=rn&8191,De=rn>>>13,nn=_[1]|0,Le=nn&8191,Be=nn>>>13,sn=_[2]|0,Fe=sn&8191,Ue=sn>>>13,on=_[3]|0,$e=on&8191,qe=on>>>13,an=_[4]|0,je=an&8191,Ge=an>>>13,fn=_[5]|0,Ve=fn&8191,ze=fn>>>13,un=_[6]|0,He=un&8191,Je=un>>>13,cn=_[7]|0,We=cn&8191,Ke=cn>>>13,ln=_[8]|0,Ye=ln&8191,Xe=ln>>>13,hn=_[9]|0,Ze=hn&8191,Qe=hn>>>13;m.negative=u.negative^d.negative,m.length=19,y=Math.imul(W,Ce),l=Math.imul(W,De),l=l+Math.imul(K,Ce)|0,w=Math.imul(K,De);var Pr=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,y=Math.imul(R,Ce),l=Math.imul(R,De),l=l+Math.imul(M,Ce)|0,w=Math.imul(M,De),y=y+Math.imul(W,Le)|0,l=l+Math.imul(W,Be)|0,l=l+Math.imul(K,Le)|0,w=w+Math.imul(K,Be)|0;var Cr=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,y=Math.imul(B,Ce),l=Math.imul(B,De),l=l+Math.imul(q,Ce)|0,w=Math.imul(q,De),y=y+Math.imul(R,Le)|0,l=l+Math.imul(R,Be)|0,l=l+Math.imul(M,Le)|0,w=w+Math.imul(M,Be)|0,y=y+Math.imul(W,Fe)|0,l=l+Math.imul(W,Ue)|0,l=l+Math.imul(K,Fe)|0,w=w+Math.imul(K,Ue)|0;var Dr=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,y=Math.imul(G,Ce),l=Math.imul(G,De),l=l+Math.imul(ae,Ce)|0,w=Math.imul(ae,De),y=y+Math.imul(B,Le)|0,l=l+Math.imul(B,Be)|0,l=l+Math.imul(q,Le)|0,w=w+Math.imul(q,Be)|0,y=y+Math.imul(R,Fe)|0,l=l+Math.imul(R,Ue)|0,l=l+Math.imul(M,Fe)|0,w=w+Math.imul(M,Ue)|0,y=y+Math.imul(W,$e)|0,l=l+Math.imul(W,qe)|0,l=l+Math.imul(K,$e)|0,w=w+Math.imul(K,qe)|0;var Lr=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,y=Math.imul(ie,Ce),l=Math.imul(ie,De),l=l+Math.imul(Ee,Ce)|0,w=Math.imul(Ee,De),y=y+Math.imul(G,Le)|0,l=l+Math.imul(G,Be)|0,l=l+Math.imul(ae,Le)|0,w=w+Math.imul(ae,Be)|0,y=y+Math.imul(B,Fe)|0,l=l+Math.imul(B,Ue)|0,l=l+Math.imul(q,Fe)|0,w=w+Math.imul(q,Ue)|0,y=y+Math.imul(R,$e)|0,l=l+Math.imul(R,qe)|0,l=l+Math.imul(M,$e)|0,w=w+Math.imul(M,qe)|0,y=y+Math.imul(W,je)|0,l=l+Math.imul(W,Ge)|0,l=l+Math.imul(K,je)|0,w=w+Math.imul(K,Ge)|0;var Br=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(Br>>>26)|0,Br&=67108863,y=Math.imul(Ne,Ce),l=Math.imul(Ne,De),l=l+Math.imul(Ae,Ce)|0,w=Math.imul(Ae,De),y=y+Math.imul(ie,Le)|0,l=l+Math.imul(ie,Be)|0,l=l+Math.imul(Ee,Le)|0,w=w+Math.imul(Ee,Be)|0,y=y+Math.imul(G,Fe)|0,l=l+Math.imul(G,Ue)|0,l=l+Math.imul(ae,Fe)|0,w=w+Math.imul(ae,Ue)|0,y=y+Math.imul(B,$e)|0,l=l+Math.imul(B,qe)|0,l=l+Math.imul(q,$e)|0,w=w+Math.imul(q,qe)|0,y=y+Math.imul(R,je)|0,l=l+Math.imul(R,Ge)|0,l=l+Math.imul(M,je)|0,w=w+Math.imul(M,Ge)|0,y=y+Math.imul(W,Ve)|0,l=l+Math.imul(W,ze)|0,l=l+Math.imul(K,Ve)|0,w=w+Math.imul(K,ze)|0;var Fr=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,y=Math.imul(Se,Ce),l=Math.imul(Se,De),l=l+Math.imul(ke,Ce)|0,w=Math.imul(ke,De),y=y+Math.imul(Ne,Le)|0,l=l+Math.imul(Ne,Be)|0,l=l+Math.imul(Ae,Le)|0,w=w+Math.imul(Ae,Be)|0,y=y+Math.imul(ie,Fe)|0,l=l+Math.imul(ie,Ue)|0,l=l+Math.imul(Ee,Fe)|0,w=w+Math.imul(Ee,Ue)|0,y=y+Math.imul(G,$e)|0,l=l+Math.imul(G,qe)|0,l=l+Math.imul(ae,$e)|0,w=w+Math.imul(ae,qe)|0,y=y+Math.imul(B,je)|0,l=l+Math.imul(B,Ge)|0,l=l+Math.imul(q,je)|0,w=w+Math.imul(q,Ge)|0,y=y+Math.imul(R,Ve)|0,l=l+Math.imul(R,ze)|0,l=l+Math.imul(M,Ve)|0,w=w+Math.imul(M,ze)|0,y=y+Math.imul(W,He)|0,l=l+Math.imul(W,Je)|0,l=l+Math.imul(K,He)|0,w=w+Math.imul(K,Je)|0;var Ur=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,y=Math.imul(Te,Ce),l=Math.imul(Te,De),l=l+Math.imul(Ie,Ce)|0,w=Math.imul(Ie,De),y=y+Math.imul(Se,Le)|0,l=l+Math.imul(Se,Be)|0,l=l+Math.imul(ke,Le)|0,w=w+Math.imul(ke,Be)|0,y=y+Math.imul(Ne,Fe)|0,l=l+Math.imul(Ne,Ue)|0,l=l+Math.imul(Ae,Fe)|0,w=w+Math.imul(Ae,Ue)|0,y=y+Math.imul(ie,$e)|0,l=l+Math.imul(ie,qe)|0,l=l+Math.imul(Ee,$e)|0,w=w+Math.imul(Ee,qe)|0,y=y+Math.imul(G,je)|0,l=l+Math.imul(G,Ge)|0,l=l+Math.imul(ae,je)|0,w=w+Math.imul(ae,Ge)|0,y=y+Math.imul(B,Ve)|0,l=l+Math.imul(B,ze)|0,l=l+Math.imul(q,Ve)|0,w=w+Math.imul(q,ze)|0,y=y+Math.imul(R,He)|0,l=l+Math.imul(R,Je)|0,l=l+Math.imul(M,He)|0,w=w+Math.imul(M,Je)|0,y=y+Math.imul(W,We)|0,l=l+Math.imul(W,Ke)|0,l=l+Math.imul(K,We)|0,w=w+Math.imul(K,Ke)|0;var Ys=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(Ys>>>26)|0,Ys&=67108863,y=Math.imul(Re,Ce),l=Math.imul(Re,De),l=l+Math.imul(Oe,Ce)|0,w=Math.imul(Oe,De),y=y+Math.imul(Te,Le)|0,l=l+Math.imul(Te,Be)|0,l=l+Math.imul(Ie,Le)|0,w=w+Math.imul(Ie,Be)|0,y=y+Math.imul(Se,Fe)|0,l=l+Math.imul(Se,Ue)|0,l=l+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,Ue)|0,y=y+Math.imul(Ne,$e)|0,l=l+Math.imul(Ne,qe)|0,l=l+Math.imul(Ae,$e)|0,w=w+Math.imul(Ae,qe)|0,y=y+Math.imul(ie,je)|0,l=l+Math.imul(ie,Ge)|0,l=l+Math.imul(Ee,je)|0,w=w+Math.imul(Ee,Ge)|0,y=y+Math.imul(G,Ve)|0,l=l+Math.imul(G,ze)|0,l=l+Math.imul(ae,Ve)|0,w=w+Math.imul(ae,ze)|0,y=y+Math.imul(B,He)|0,l=l+Math.imul(B,Je)|0,l=l+Math.imul(q,He)|0,w=w+Math.imul(q,Je)|0,y=y+Math.imul(R,We)|0,l=l+Math.imul(R,Ke)|0,l=l+Math.imul(M,We)|0,w=w+Math.imul(M,Ke)|0,y=y+Math.imul(W,Ye)|0,l=l+Math.imul(W,Xe)|0,l=l+Math.imul(K,Ye)|0,w=w+Math.imul(K,Xe)|0;var Xs=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(Xs>>>26)|0,Xs&=67108863,y=Math.imul(Me,Ce),l=Math.imul(Me,De),l=l+Math.imul(Pe,Ce)|0,w=Math.imul(Pe,De),y=y+Math.imul(Re,Le)|0,l=l+Math.imul(Re,Be)|0,l=l+Math.imul(Oe,Le)|0,w=w+Math.imul(Oe,Be)|0,y=y+Math.imul(Te,Fe)|0,l=l+Math.imul(Te,Ue)|0,l=l+Math.imul(Ie,Fe)|0,w=w+Math.imul(Ie,Ue)|0,y=y+Math.imul(Se,$e)|0,l=l+Math.imul(Se,qe)|0,l=l+Math.imul(ke,$e)|0,w=w+Math.imul(ke,qe)|0,y=y+Math.imul(Ne,je)|0,l=l+Math.imul(Ne,Ge)|0,l=l+Math.imul(Ae,je)|0,w=w+Math.imul(Ae,Ge)|0,y=y+Math.imul(ie,Ve)|0,l=l+Math.imul(ie,ze)|0,l=l+Math.imul(Ee,Ve)|0,w=w+Math.imul(Ee,ze)|0,y=y+Math.imul(G,He)|0,l=l+Math.imul(G,Je)|0,l=l+Math.imul(ae,He)|0,w=w+Math.imul(ae,Je)|0,y=y+Math.imul(B,We)|0,l=l+Math.imul(B,Ke)|0,l=l+Math.imul(q,We)|0,w=w+Math.imul(q,Ke)|0,y=y+Math.imul(R,Ye)|0,l=l+Math.imul(R,Xe)|0,l=l+Math.imul(M,Ye)|0,w=w+Math.imul(M,Xe)|0,y=y+Math.imul(W,Ze)|0,l=l+Math.imul(W,Qe)|0,l=l+Math.imul(K,Ze)|0,w=w+Math.imul(K,Qe)|0;var Zs=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(Zs>>>26)|0,Zs&=67108863,y=Math.imul(Me,Le),l=Math.imul(Me,Be),l=l+Math.imul(Pe,Le)|0,w=Math.imul(Pe,Be),y=y+Math.imul(Re,Fe)|0,l=l+Math.imul(Re,Ue)|0,l=l+Math.imul(Oe,Fe)|0,w=w+Math.imul(Oe,Ue)|0,y=y+Math.imul(Te,$e)|0,l=l+Math.imul(Te,qe)|0,l=l+Math.imul(Ie,$e)|0,w=w+Math.imul(Ie,qe)|0,y=y+Math.imul(Se,je)|0,l=l+Math.imul(Se,Ge)|0,l=l+Math.imul(ke,je)|0,w=w+Math.imul(ke,Ge)|0,y=y+Math.imul(Ne,Ve)|0,l=l+Math.imul(Ne,ze)|0,l=l+Math.imul(Ae,Ve)|0,w=w+Math.imul(Ae,ze)|0,y=y+Math.imul(ie,He)|0,l=l+Math.imul(ie,Je)|0,l=l+Math.imul(Ee,He)|0,w=w+Math.imul(Ee,Je)|0,y=y+Math.imul(G,We)|0,l=l+Math.imul(G,Ke)|0,l=l+Math.imul(ae,We)|0,w=w+Math.imul(ae,Ke)|0,y=y+Math.imul(B,Ye)|0,l=l+Math.imul(B,Xe)|0,l=l+Math.imul(q,Ye)|0,w=w+Math.imul(q,Xe)|0,y=y+Math.imul(R,Ze)|0,l=l+Math.imul(R,Qe)|0,l=l+Math.imul(M,Ze)|0,w=w+Math.imul(M,Qe)|0;var Qs=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(Qs>>>26)|0,Qs&=67108863,y=Math.imul(Me,Fe),l=Math.imul(Me,Ue),l=l+Math.imul(Pe,Fe)|0,w=Math.imul(Pe,Ue),y=y+Math.imul(Re,$e)|0,l=l+Math.imul(Re,qe)|0,l=l+Math.imul(Oe,$e)|0,w=w+Math.imul(Oe,qe)|0,y=y+Math.imul(Te,je)|0,l=l+Math.imul(Te,Ge)|0,l=l+Math.imul(Ie,je)|0,w=w+Math.imul(Ie,Ge)|0,y=y+Math.imul(Se,Ve)|0,l=l+Math.imul(Se,ze)|0,l=l+Math.imul(ke,Ve)|0,w=w+Math.imul(ke,ze)|0,y=y+Math.imul(Ne,He)|0,l=l+Math.imul(Ne,Je)|0,l=l+Math.imul(Ae,He)|0,w=w+Math.imul(Ae,Je)|0,y=y+Math.imul(ie,We)|0,l=l+Math.imul(ie,Ke)|0,l=l+Math.imul(Ee,We)|0,w=w+Math.imul(Ee,Ke)|0,y=y+Math.imul(G,Ye)|0,l=l+Math.imul(G,Xe)|0,l=l+Math.imul(ae,Ye)|0,w=w+Math.imul(ae,Xe)|0,y=y+Math.imul(B,Ze)|0,l=l+Math.imul(B,Qe)|0,l=l+Math.imul(q,Ze)|0,w=w+Math.imul(q,Qe)|0;var eo=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(eo>>>26)|0,eo&=67108863,y=Math.imul(Me,$e),l=Math.imul(Me,qe),l=l+Math.imul(Pe,$e)|0,w=Math.imul(Pe,qe),y=y+Math.imul(Re,je)|0,l=l+Math.imul(Re,Ge)|0,l=l+Math.imul(Oe,je)|0,w=w+Math.imul(Oe,Ge)|0,y=y+Math.imul(Te,Ve)|0,l=l+Math.imul(Te,ze)|0,l=l+Math.imul(Ie,Ve)|0,w=w+Math.imul(Ie,ze)|0,y=y+Math.imul(Se,He)|0,l=l+Math.imul(Se,Je)|0,l=l+Math.imul(ke,He)|0,w=w+Math.imul(ke,Je)|0,y=y+Math.imul(Ne,We)|0,l=l+Math.imul(Ne,Ke)|0,l=l+Math.imul(Ae,We)|0,w=w+Math.imul(Ae,Ke)|0,y=y+Math.imul(ie,Ye)|0,l=l+Math.imul(ie,Xe)|0,l=l+Math.imul(Ee,Ye)|0,w=w+Math.imul(Ee,Xe)|0,y=y+Math.imul(G,Ze)|0,l=l+Math.imul(G,Qe)|0,l=l+Math.imul(ae,Ze)|0,w=w+Math.imul(ae,Qe)|0;var to=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(to>>>26)|0,to&=67108863,y=Math.imul(Me,je),l=Math.imul(Me,Ge),l=l+Math.imul(Pe,je)|0,w=Math.imul(Pe,Ge),y=y+Math.imul(Re,Ve)|0,l=l+Math.imul(Re,ze)|0,l=l+Math.imul(Oe,Ve)|0,w=w+Math.imul(Oe,ze)|0,y=y+Math.imul(Te,He)|0,l=l+Math.imul(Te,Je)|0,l=l+Math.imul(Ie,He)|0,w=w+Math.imul(Ie,Je)|0,y=y+Math.imul(Se,We)|0,l=l+Math.imul(Se,Ke)|0,l=l+Math.imul(ke,We)|0,w=w+Math.imul(ke,Ke)|0,y=y+Math.imul(Ne,Ye)|0,l=l+Math.imul(Ne,Xe)|0,l=l+Math.imul(Ae,Ye)|0,w=w+Math.imul(Ae,Xe)|0,y=y+Math.imul(ie,Ze)|0,l=l+Math.imul(ie,Qe)|0,l=l+Math.imul(Ee,Ze)|0,w=w+Math.imul(Ee,Qe)|0;var ro=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(ro>>>26)|0,ro&=67108863,y=Math.imul(Me,Ve),l=Math.imul(Me,ze),l=l+Math.imul(Pe,Ve)|0,w=Math.imul(Pe,ze),y=y+Math.imul(Re,He)|0,l=l+Math.imul(Re,Je)|0,l=l+Math.imul(Oe,He)|0,w=w+Math.imul(Oe,Je)|0,y=y+Math.imul(Te,We)|0,l=l+Math.imul(Te,Ke)|0,l=l+Math.imul(Ie,We)|0,w=w+Math.imul(Ie,Ke)|0,y=y+Math.imul(Se,Ye)|0,l=l+Math.imul(Se,Xe)|0,l=l+Math.imul(ke,Ye)|0,w=w+Math.imul(ke,Xe)|0,y=y+Math.imul(Ne,Ze)|0,l=l+Math.imul(Ne,Qe)|0,l=l+Math.imul(Ae,Ze)|0,w=w+Math.imul(Ae,Qe)|0;var no=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(no>>>26)|0,no&=67108863,y=Math.imul(Me,He),l=Math.imul(Me,Je),l=l+Math.imul(Pe,He)|0,w=Math.imul(Pe,Je),y=y+Math.imul(Re,We)|0,l=l+Math.imul(Re,Ke)|0,l=l+Math.imul(Oe,We)|0,w=w+Math.imul(Oe,Ke)|0,y=y+Math.imul(Te,Ye)|0,l=l+Math.imul(Te,Xe)|0,l=l+Math.imul(Ie,Ye)|0,w=w+Math.imul(Ie,Xe)|0,y=y+Math.imul(Se,Ze)|0,l=l+Math.imul(Se,Qe)|0,l=l+Math.imul(ke,Ze)|0,w=w+Math.imul(ke,Qe)|0;var io=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(io>>>26)|0,io&=67108863,y=Math.imul(Me,We),l=Math.imul(Me,Ke),l=l+Math.imul(Pe,We)|0,w=Math.imul(Pe,Ke),y=y+Math.imul(Re,Ye)|0,l=l+Math.imul(Re,Xe)|0,l=l+Math.imul(Oe,Ye)|0,w=w+Math.imul(Oe,Xe)|0,y=y+Math.imul(Te,Ze)|0,l=l+Math.imul(Te,Qe)|0,l=l+Math.imul(Ie,Ze)|0,w=w+Math.imul(Ie,Qe)|0;var so=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(so>>>26)|0,so&=67108863,y=Math.imul(Me,Ye),l=Math.imul(Me,Xe),l=l+Math.imul(Pe,Ye)|0,w=Math.imul(Pe,Xe),y=y+Math.imul(Re,Ze)|0,l=l+Math.imul(Re,Qe)|0,l=l+Math.imul(Oe,Ze)|0,w=w+Math.imul(Oe,Qe)|0;var oo=(A+y|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(oo>>>26)|0,oo&=67108863,y=Math.imul(Me,Ze),l=Math.imul(Me,Qe),l=l+Math.imul(Pe,Ze)|0,w=Math.imul(Pe,Qe);var ao=(A+y|0)+((l&8191)<<13)|0;return A=(w+(l>>>13)|0)+(ao>>>26)|0,ao&=67108863,N[0]=Pr,N[1]=Cr,N[2]=Dr,N[3]=Lr,N[4]=Br,N[5]=Fr,N[6]=Ur,N[7]=Ys,N[8]=Xs,N[9]=Zs,N[10]=Qs,N[11]=eo,N[12]=to,N[13]=ro,N[14]=no,N[15]=io,N[16]=so,N[17]=oo,N[18]=ao,A!==0&&(N[19]=A,m.length++),m};Math.imul||(P=k);function T(x,u,d){d.negative=u.negative^x.negative,d.length=x.length+u.length;for(var m=0,v=0,_=0;_<d.length-1;_++){var N=v;v=0;for(var A=m&67108863,y=Math.min(_,u.length-1),l=Math.max(0,_-x.length+1);l<=y;l++){var w=_-l,U=x.words[w]|0,W=u.words[l]|0,K=U*W,g=K&67108863;N=N+(K/67108864|0)|0,g=g+A|0,A=g&67108863,N=N+(g>>>26)|0,v+=N>>>26,N&=67108863}d.words[_]=A,m=N,N=v}return m!==0?d.words[_]=m:d.length--,d.strip()}function S(x,u,d){var m=new O;return m.mulp(x,u,d)}s.prototype.mulTo=function(u,d){var m,v=this.length+u.length;return this.length===10&&u.length===10?m=P(this,u,d):v<63?m=k(this,u,d):v<1024?m=T(this,u,d):m=S(this,u,d),m};function O(x,u){this.x=x,this.y=u}O.prototype.makeRBT=function(u){for(var d=new Array(u),m=s.prototype._countBits(u)-1,v=0;v<u;v++)d[v]=this.revBin(v,m,u);return d},O.prototype.revBin=function(u,d,m){if(u===0||u===m-1)return u;for(var v=0,_=0;_<d;_++)v|=(u&1)<<d-_-1,u>>=1;return v},O.prototype.permute=function(u,d,m,v,_,N){for(var A=0;A<N;A++)v[A]=d[u[A]],_[A]=m[u[A]]},O.prototype.transform=function(u,d,m,v,_,N){this.permute(N,u,d,m,v,_);for(var A=1;A<_;A<<=1)for(var y=A<<1,l=Math.cos(2*Math.PI/y),w=Math.sin(2*Math.PI/y),U=0;U<_;U+=y)for(var W=l,K=w,g=0;g<A;g++){var R=m[U+g],M=v[U+g],L=m[U+g+A],B=v[U+g+A],q=W*L-K*B;B=W*B+K*L,L=q,m[U+g]=R+L,v[U+g]=M+B,m[U+g+A]=R-L,v[U+g+A]=M-B,g!==y&&(q=l*W-w*K,K=l*K+w*W,W=q)}},O.prototype.guessLen13b=function(u,d){var m=Math.max(d,u)|1,v=m&1,_=0;for(m=m/2|0;m;m=m>>>1)_++;return 1<<_+1+v},O.prototype.conjugate=function(u,d,m){if(!(m<=1))for(var v=0;v<m/2;v++){var _=u[v];u[v]=u[m-v-1],u[m-v-1]=_,_=d[v],d[v]=-d[m-v-1],d[m-v-1]=-_}},O.prototype.normalize13b=function(u,d){for(var m=0,v=0;v<d/2;v++){var _=Math.round(u[2*v+1]/d)*8192+Math.round(u[2*v]/d)+m;u[v]=_&67108863,_<67108864?m=0:m=_/67108864|0}return u},O.prototype.convert13b=function(u,d,m,v){for(var _=0,N=0;N<d;N++)_=_+(u[N]|0),m[2*N]=_&8191,_=_>>>13,m[2*N+1]=_&8191,_=_>>>13;for(N=2*d;N<v;++N)m[N]=0;n(_===0),n((_&~8191)==0)},O.prototype.stub=function(u){for(var d=new Array(u),m=0;m<u;m++)d[m]=0;return d},O.prototype.mulp=function(u,d,m){var v=2*this.guessLen13b(u.length,d.length),_=this.makeRBT(v),N=this.stub(v),A=new Array(v),y=new Array(v),l=new Array(v),w=new Array(v),U=new Array(v),W=new Array(v),K=m.words;K.length=v,this.convert13b(u.words,u.length,A,v),this.convert13b(d.words,d.length,w,v),this.transform(A,N,y,l,v,_),this.transform(w,N,U,W,v,_);for(var g=0;g<v;g++){var R=y[g]*U[g]-l[g]*W[g];l[g]=y[g]*W[g]+l[g]*U[g],y[g]=R}return this.conjugate(y,l,v),this.transform(y,l,K,N,v,_),this.conjugate(K,N,v),this.normalize13b(K,v),m.negative=u.negative^d.negative,m.length=u.length+d.length,m.strip()},s.prototype.mul=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},s.prototype.mulf=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),S(this,u,d)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){n(typeof u=="number"),n(u<67108864);for(var d=0,m=0;m<this.length;m++){var v=(this.words[m]|0)*u,_=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=_>>>26,this.words[m]=_&67108863}return d!==0&&(this.words[m]=d,this.length++),this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var d=E(u);if(d.length===0)return new s(1);for(var m=this,v=0;v<d.length&&d[v]===0;v++,m=m.sqr());if(++v<d.length)for(var _=m.sqr();v<d.length;v++,_=_.sqr())d[v]!==0&&(m=m.mul(_));return m},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var d=u%26,m=(u-d)/26,v=67108863>>>26-d<<26-d,_;if(d!==0){var N=0;for(_=0;_<this.length;_++){var A=this.words[_]&v,y=(this.words[_]|0)-A<<d;this.words[_]=y|N,N=A>>>26-d}N&&(this.words[_]=N,this.length++)}if(m!==0){for(_=this.length-1;_>=0;_--)this.words[_+m]=this.words[_];for(_=0;_<m;_++)this.words[_]=0;this.length+=m}return this.strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,d,m){n(typeof u=="number"&&u>=0);var v;d?v=(d-d%26)/26:v=0;var _=u%26,N=Math.min((u-_)/26,this.length),A=67108863^67108863>>>_<<_,y=m;if(v-=N,v=Math.max(0,v),y){for(var l=0;l<N;l++)y.words[l]=this.words[l];y.length=N}if(N!==0)if(this.length>N)for(this.length-=N,l=0;l<this.length;l++)this.words[l]=this.words[l+N];else this.words[0]=0,this.length=1;var w=0;for(l=this.length-1;l>=0&&(w!==0||l>=v);l--){var U=this.words[l]|0;this.words[l]=w<<26-_|U>>>_,w=U&A}return y&&w!==0&&(y.words[y.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(u,d,m){return n(this.negative===0),this.iushrn(u,d,m)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,m=(u-d)/26,v=1<<d;if(this.length<=m)return!1;var _=this.words[m];return!!(_&v)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,m=(u-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(d!==0&&m++,this.length=Math.min(m,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,d,m){var v=u.length+m,_;this._expand(v);var N,A=0;for(_=0;_<u.length;_++){N=(this.words[_+m]|0)+A;var y=(u.words[_]|0)*d;N-=y&67108863,A=(N>>26)-(y/67108864|0),this.words[_+m]=N&67108863}for(;_<this.length-m;_++)N=(this.words[_+m]|0)+A,A=N>>26,this.words[_+m]=N&67108863;if(A===0)return this.strip();for(n(A===-1),A=0,_=0;_<this.length;_++)N=-(this.words[_]|0)+A,A=N>>26,this.words[_]=N&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(u,d){var m=this.length-u.length,v=this.clone(),_=u,N=_.words[_.length-1]|0,A=this._countBits(N);m=26-A,m!==0&&(_=_.ushln(m),v.iushln(m),N=_.words[_.length-1]|0);var y=v.length-_.length,l;if(d!=="mod"){l=new s(null),l.length=y+1,l.words=new Array(l.length);for(var w=0;w<l.length;w++)l.words[w]=0}var U=v.clone()._ishlnsubmul(_,1,y);U.negative===0&&(v=U,l&&(l.words[y]=1));for(var W=y-1;W>=0;W--){var K=(v.words[_.length+W]|0)*67108864+(v.words[_.length+W-1]|0);for(K=Math.min(K/N|0,67108863),v._ishlnsubmul(_,K,W);v.negative!==0;)K--,v.negative=0,v._ishlnsubmul(_,1,W),v.isZero()||(v.negative^=1);l&&(l.words[W]=K)}return l&&l.strip(),v.strip(),d!=="div"&&m!==0&&v.iushrn(m),{div:l||null,mod:v}},s.prototype.divmod=function(u,d,m){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var v,_,N;return this.negative!==0&&u.negative===0?(N=this.neg().divmod(u,d),d!=="mod"&&(v=N.div.neg()),d!=="div"&&(_=N.mod.neg(),m&&_.negative!==0&&_.iadd(u)),{div:v,mod:_}):this.negative===0&&u.negative!==0?(N=this.divmod(u.neg(),d),d!=="mod"&&(v=N.div.neg()),{div:v,mod:N.mod}):(this.negative&u.negative)!=0?(N=this.neg().divmod(u.neg(),d),d!=="div"&&(_=N.mod.neg(),m&&_.negative!==0&&_.isub(u)),{div:N.div,mod:_}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modn(u.words[0]))}:this._wordDiv(u,d)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var m=d.div.negative!==0?d.mod.isub(u):d.mod,v=u.ushrn(1),_=u.andln(1),N=m.cmp(v);return N<0||_===1&&N===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modn=function(u){n(u<=67108863);for(var d=(1<<26)%u,m=0,v=this.length-1;v>=0;v--)m=(d*m+(this.words[v]|0))%u;return m},s.prototype.idivn=function(u){n(u<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var v=(this.words[m]|0)+d*67108864;this.words[m]=v/u|0,d=v%u}return this.strip()},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var d=this,m=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var v=new s(1),_=new s(0),N=new s(0),A=new s(1),y=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++y;for(var l=m.clone(),w=d.clone();!d.isZero();){for(var U=0,W=1;(d.words[0]&W)==0&&U<26;++U,W<<=1);if(U>0)for(d.iushrn(U);U-- >0;)(v.isOdd()||_.isOdd())&&(v.iadd(l),_.isub(w)),v.iushrn(1),_.iushrn(1);for(var K=0,g=1;(m.words[0]&g)==0&&K<26;++K,g<<=1);if(K>0)for(m.iushrn(K);K-- >0;)(N.isOdd()||A.isOdd())&&(N.iadd(l),A.isub(w)),N.iushrn(1),A.iushrn(1);d.cmp(m)>=0?(d.isub(m),v.isub(N),_.isub(A)):(m.isub(d),N.isub(v),A.isub(_))}return{a:N,b:A,gcd:m.iushln(y)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var d=this,m=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var v=new s(1),_=new s(0),N=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var A=0,y=1;(d.words[0]&y)==0&&A<26;++A,y<<=1);if(A>0)for(d.iushrn(A);A-- >0;)v.isOdd()&&v.iadd(N),v.iushrn(1);for(var l=0,w=1;(m.words[0]&w)==0&&l<26;++l,w<<=1);if(l>0)for(m.iushrn(l);l-- >0;)_.isOdd()&&_.iadd(N),_.iushrn(1);d.cmp(m)>=0?(d.isub(m),v.isub(_)):(m.isub(d),_.isub(v))}var U;return d.cmpn(1)===0?U=v:U=_,U.cmpn(0)<0&&U.iadd(u),U},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),m=u.clone();d.negative=0,m.negative=0;for(var v=0;d.isEven()&&m.isEven();v++)d.iushrn(1),m.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var _=d.cmp(m);if(_<0){var N=d;d=m,m=N}else if(_===0||m.cmpn(1)===0)break;d.isub(m)}while(!0);return m.iushln(v)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)==0},s.prototype.isOdd=function(){return(this.words[0]&1)==1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var d=u%26,m=(u-d)/26,v=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=v,this;for(var _=v,N=m;_!==0&&N<this.length;N++){var A=this.words[N]|0;A+=_,_=A>>>26,A&=67108863,this.words[N]=A}return _!==0&&(this.words[N]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var m;if(this.length>1)m=1;else{d&&(u=-u),n(u<=67108863,"Number is too big");var v=this.words[0]|0;m=v===u?0:v<u?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var v=this.words[m]|0,_=u.words[m]|0;if(v!==_){v<_?d=-1:v>_&&(d=1);break}}return d},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new oe(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var D={k256:null,p224:null,p192:null,p25519:null};function V(x,u){this.name=x,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},V.prototype.ireduce=function(u){var d=u,m;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),m=d.bitLength();while(m>this.n);var v=m<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},V.prototype.split=function(u,d){u.iushrn(this.n,0,d)},V.prototype.imulK=function(u){return u.imul(this.k)};function Y(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(Y,V),Y.prototype.split=function(u,d){for(var m=4194303,v=Math.min(u.length,9),_=0;_<v;_++)d.words[_]=u.words[_];if(d.length=v,u.length<=9){u.words[0]=0,u.length=1;return}var N=u.words[9];for(d.words[d.length++]=N&m,_=10;_<u.length;_++){var A=u.words[_]|0;u.words[_-10]=(A&m)<<4|N>>>22,N=A}N>>>=22,u.words[_-10]=N,N===0&&u.length>10?u.length-=10:u.length-=9},Y.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,m=0;m<u.length;m++){var v=u.words[m]|0;d+=v*977,u.words[m]=d&67108863,d=v*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function _e(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(_e,V);function be(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(be,V);function we(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(we,V),we.prototype.imulK=function(u){for(var d=0,m=0;m<u.length;m++){var v=(u.words[m]|0)*19+d,_=v&67108863;v>>>=26,u.words[m]=_,d=v}return d!==0&&(u.words[u.length++]=d),u},s._prime=function(u){if(D[u])return D[u];var d;if(u==="k256")d=new Y;else if(u==="p224")d=new _e;else if(u==="p192")d=new be;else if(u==="p25519")d=new we;else throw new Error("Unknown prime "+u);return D[u]=d,d};function oe(x){if(typeof x=="string"){var u=s._prime(x);this.m=u.p,this.prime=u}else n(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}oe.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},oe.prototype._verify2=function(u,d){n((u.negative|d.negative)==0,"red works only with positives"),n(u.red&&u.red===d.red,"red works only with red numbers")},oe.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},oe.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},oe.prototype.add=function(u,d){this._verify2(u,d);var m=u.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},oe.prototype.iadd=function(u,d){this._verify2(u,d);var m=u.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},oe.prototype.sub=function(u,d){this._verify2(u,d);var m=u.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},oe.prototype.isub=function(u,d){this._verify2(u,d);var m=u.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},oe.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},oe.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},oe.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},oe.prototype.isqr=function(u){return this.imul(u,u.clone())},oe.prototype.sqr=function(u){return this.mul(u,u)},oe.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(n(d%2==1),d===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(u,m)}for(var v=this.m.subn(1),_=0;!v.isZero()&&v.andln(1)===0;)_++,v.iushrn(1);n(!v.isZero());var N=new s(1).toRed(this),A=N.redNeg(),y=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,y).cmp(A)!==0;)l.redIAdd(A);for(var w=this.pow(l,v),U=this.pow(u,v.addn(1).iushrn(1)),W=this.pow(u,v),K=_;W.cmp(N)!==0;){for(var g=W,R=0;g.cmp(N)!==0;R++)g=g.redSqr();n(R<K);var M=this.pow(w,new s(1).iushln(K-R-1));U=U.redMul(M),w=M.redSqr(),W=W.redMul(w),K=R}return U},oe.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},oe.prototype.pow=function(u,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var m=4,v=new Array(1<<m);v[0]=new s(1).toRed(this),v[1]=u;for(var _=2;_<v.length;_++)v[_]=this.mul(v[_-1],u);var N=v[0],A=0,y=0,l=d.bitLength()%26;for(l===0&&(l=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],U=l-1;U>=0;U--){var W=w>>U&1;if(N!==v[0]&&(N=this.sqr(N)),W===0&&A===0){y=0;continue}A<<=1,A|=W,y++,!(y!==m&&(_!==0||U!==0))&&(N=this.mul(N,v[A]),y=0,A=0)}l=26}return N},oe.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},oe.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},s.mont=function(u){return new pt(u)};function pt(x){oe.call(this,x),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(pt,oe),pt.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},pt.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},pt.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var m=u.imul(d),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=m.isub(v).iushrn(this.shift),N=_;return _.cmp(this.m)>=0?N=_.isub(this.m):_.cmpn(0)<0&&(N=_.iadd(this.m)),N._forceRed(this)},pt.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new s(0)._forceRed(this);var m=u.mul(d),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=m.isub(v).iushrn(this.shift),N=_;return _.cmp(this.m)>=0?N=_.isub(this.m):_.cmpn(0)<0&&(N=_.iadd(this.m)),N._forceRed(this)},pt.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,of)})(af);var se=af.exports;const ah="logger/5.5.0";let ff=!1,uf=!1;const zi={debug:1,default:2,info:2,warning:3,error:4,off:5};let cf=zi.default,go=null;function fh(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const lf=fh();var mo;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(mo||(mo={}));var vo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(vo||(vo={}));const hf="0123456789abcdef";class I{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();zi[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(cf>zi[n])&&console.log.apply(console,r)}debug(...e){this._log(I.levels.DEBUG,e)}info(...e){this._log(I.levels.INFO,e)}warn(...e){this._log(I.levels.WARNING,e)}makeError(e,r,n){if(uf)return this.makeError("censored error",r,{});r||(r=I.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(a=>{const f=n[a];try{if(f instanceof Uint8Array){let c="";for(let h=0;h<f.length;h++)c+=hf[f[h]>>4],c+=hf[f[h]&15];i.push(a+"=Uint8Array(0x"+c+")")}else i.push(a+"="+JSON.stringify(f))}catch{i.push(a+"="+JSON.stringify(n[a].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=s,o.code=r,Object.keys(n).forEach(function(a){o[a]=n[a]}),o}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,I.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){lf&&this.throwError("platform missing String.prototype.normalize",I.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:lf})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,I.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,I.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,I.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,I.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",I.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",I.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",I.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return go||(go=new I(ah)),go}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",I.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ff){if(!e)return;this.globalLogger().throwError("error censorship permanent",I.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}uf=!!e,ff=!!r}static setLogLevel(e){const r=zi[e.toLowerCase()];if(r==null){I.globalLogger().warn("invalid log level - "+e);return}cf=r}static from(e){return new I(e)}}I.errors=vo;I.levels=mo;const uh="bytes/5.5.0",ot=new I(uh);function df(t){return!!t.toHexString}function Mn(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Mn(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function yo(t){return ge(t)&&!(t.length%2)||Hi(t)}function pf(t){return typeof t=="number"&&t==t&&t%1==0}function Hi(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!pf(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!pf(r)||r<0||r>=256)return!1}return!0}function ee(t,e){if(e||(e={}),typeof t=="number"){ot.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Mn(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),df(t)&&(t=t.toHexString()),ge(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":ot.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Mn(new Uint8Array(n))}return Hi(t)?Mn(new Uint8Array(t)):ot.throwArgumentError("invalid arrayify value","value",t)}function Rt(t){const e=t.map(i=>ee(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Mn(n)}function Pn(t){let e=ee(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function Ji(t,e){t=ee(t),t.length>e&&ot.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Mn(r)}function ge(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const bo="0123456789abcdef";function Z(t,e){if(e||(e={}),typeof t=="number"){ot.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=bo[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),df(t))return t.toHexString();if(ge(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":ot.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Hi(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=bo[(i&240)>>4]+bo[i&15]}return r}return ot.throwArgumentError("invalid hexlify value","value",t)}function fi(t){if(typeof t!="string")t=Z(t);else if(!ge(t)||t.length%2)return null;return(t.length-2)/2}function _r(t,e,r){return typeof t!="string"?t=Z(t):(!ge(t)||t.length%2)&&ot.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Ht(t){let e="0x";return t.forEach(r=>{e+=Z(r).substring(2)}),e}function _o(t){const e=ch(Z(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function ch(t){typeof t!="string"&&(t=Z(t)),ge(t)||ot.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function ut(t,e){for(typeof t!="string"?t=Z(t):ge(t)||ot.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&ot.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Wi(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(yo(t)){const r=ee(t);r.length!==65&&ot.throwArgumentError("invalid signature string; must be 65 bytes","signature",t),e.r=Z(r.slice(0,32)),e.s=Z(r.slice(32,64)),e.v=r[64],e.v<27&&(e.v===0||e.v===1?e.v+=27:ot.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Z(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Ji(ee(e._vs),32);e._vs=Z(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&ot.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=Z(i);e.s==null?e.s=o:e.s!==o&&ot.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?ot.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&ot.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!ge(e.r)?ot.throwArgumentError("signature missing or invalid r","signature",t):e.r=ut(e.r,32),e.s==null||!ge(e.s)?ot.throwArgumentError("signature missing or invalid s","signature",t):e.s=ut(e.s,32);const r=ee(e.s);r[0]>=128&&ot.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Z(r);e._vs&&(ge(e._vs)||ot.throwArgumentError("signature invalid _vs","signature",t),e._vs=ut(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&ot.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e}const lh="bignumber/5.5.0";var Ki=se.BN;const rr=new I(lh),wo={},gf=9007199254740991;let mf=!1;class j{constructor(e,r){rr.checkNew(new.target,j),e!==wo&&rr.throwError("cannot call constructor directly; use BigNumber.from",I.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ot(ue(this).fromTwos(e))}toTwos(e){return Ot(ue(this).toTwos(e))}abs(){return this._hex[0]==="-"?j.from(this._hex.substring(1)):this}add(e){return Ot(ue(this).add(ue(e)))}sub(e){return Ot(ue(this).sub(ue(e)))}div(e){return j.from(e).isZero()&&$t("division by zero","div"),Ot(ue(this).div(ue(e)))}mul(e){return Ot(ue(this).mul(ue(e)))}mod(e){const r=ue(e);return r.isNeg()&&$t("cannot modulo negative values","mod"),Ot(ue(this).umod(r))}pow(e){const r=ue(e);return r.isNeg()&&$t("cannot raise to negative values","pow"),Ot(ue(this).pow(r))}and(e){const r=ue(e);return(this.isNegative()||r.isNeg())&&$t("cannot 'and' negative values","and"),Ot(ue(this).and(r))}or(e){const r=ue(e);return(this.isNegative()||r.isNeg())&&$t("cannot 'or' negative values","or"),Ot(ue(this).or(r))}xor(e){const r=ue(e);return(this.isNegative()||r.isNeg())&&$t("cannot 'xor' negative values","xor"),Ot(ue(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&$t("cannot mask negative values","mask"),Ot(ue(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&$t("cannot shift negative values","shl"),Ot(ue(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&$t("cannot shift negative values","shr"),Ot(ue(this).shrn(e))}eq(e){return ue(this).eq(ue(e))}lt(e){return ue(this).lt(ue(e))}lte(e){return ue(this).lte(ue(e))}gt(e){return ue(this).gt(ue(e))}gte(e){return ue(this).gte(ue(e))}isNegative(){return this._hex[0]==="-"}isZero(){return ue(this).isZero()}toNumber(){try{return ue(this).toNumber()}catch{$t("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return rr.throwError("this platform does not support BigInt",I.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?mf||(mf=!0,rr.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?rr.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",I.errors.UNEXPECTED_ARGUMENT,{}):rr.throwError("BigNumber.toString does not accept parameters",I.errors.UNEXPECTED_ARGUMENT,{})),ue(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof j)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new j(wo,ui(e)):e.match(/^-?[0-9]+$/)?new j(wo,ui(new Ki(e))):rr.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&$t("underflow","BigNumber.from",e),(e>=gf||e<=-gf)&&$t("overflow","BigNumber.from",e),j.from(String(e));const r=e;if(typeof r=="bigint")return j.from(r.toString());if(Hi(r))return j.from(Z(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return j.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(ge(n)||n[0]==="-"&&ge(n.substring(1))))return j.from(n)}return rr.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function ui(t){if(typeof t!="string")return ui(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&rr.throwArgumentError("invalid hex","value",t),t=ui(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Ot(t){return j.from(ui(t))}function ue(t){const e=j.from(t).toHexString();return e[0]==="-"?new Ki("-"+e.substring(3),16):new Ki(e.substring(2),16)}function $t(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),rr.throwError(t,I.errors.NUMERIC_FAULT,n)}function hh(t){return new Ki(t,36).toString(16)}const dh="properties/5.5.0";var ph=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};const Yi=new I(dh);function F(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function nr(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Nt(t){return ph(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function gh(t,e){(!t||typeof t!="object")&&Yi.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Yi.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function bt(t){const e={};for(const r in t)e[r]=t[r];return e}const mh={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function vf(t){if(t==null||mh[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!vf(n))return!1}return!0}return Yi.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function vh(t){if(vf(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>wr(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&F(e,r,wr(n))}return e}return Yi.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function wr(t){return vh(t)}class ci{constructor(e){for(const r in e)this[r]=wr(e[r])}}const yh="abstract-provider/5.5.1";var bh=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};const _h=new I(yh);class wh extends ci{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class li{constructor(){_h.checkAbstract(new.target,li),F(this,"_isProvider",!0)}getFeeData(){return bh(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield Nt({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,i=null;return e&&e.baseFeePerGas&&(i=j.from("2500000000"),n=e.baseFeePerGas.mul(2).add(i)),{maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const xh="networks/5.5.1",yf=new I(xh);function Eh(t){return t&&typeof t.renetwork=="function"}function Cn(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider)try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider)try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider)try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider){const s=["goerli","ropsten","rinkeby"];try{const o=new r.PocketProvider(t);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider)try{i.push(new r.CloudflareProvider(t))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Cn(r)},e}function Xi(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return Xi(t,n)},r}const bf={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Cn("homestead")},_f={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Cn("ropsten")},wf={chainId:63,name:"classicMordor",_defaultProvider:Xi("https://www.ethercluster.com/mordor","classicMordor")},Zi={unspecified:{chainId:0,name:"unspecified"},homestead:bf,mainnet:bf,morden:{chainId:2,name:"morden"},ropsten:_f,testnet:_f,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Cn("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Cn("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Cn("goerli")},classic:{chainId:61,name:"classic",_defaultProvider:Xi("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:wf,classicTestnet:wf,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Xi("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Nh(t){if(t==null)return null;if(typeof t=="number"){for(const n in Zi){const i=Zi[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Zi[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Zi[t.name];if(!e)return typeof t.chainId!="number"&&yf.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&yf.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(Eh(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}class xf{constructor(e){F(this,"alphabet",e),F(this,"base",e.length),F(this,"_alphabetMap",{}),F(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=ee(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return ee(new Uint8Array(r.reverse()))}}new xf("abcdefghijklmnopqrstuvwxyz234567");const Ef=new xf("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Ah="0x0000000000000000000000000000000000000000",Sh=j.from(-1),Nf=j.from(0),kh=j.from(1),Th=j.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ih="0x0000000000000000000000000000000000000000000000000000000000000000";var Af={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=of:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,f=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",c="0123456789abcdef".split(""),h=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],b=[1,256,65536,16777216],E=[6,1536,393216,100663296],k=[0,8,16,24],P=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],T=[224,256,384,512],S=[128,256],O=["hex","buffer","arrayBuffer","array","digest"],D={"128":168,"256":136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(g){return Object.prototype.toString.call(g)==="[object Array]"}),f&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(g){return typeof g=="object"&&g.buffer&&g.buffer.constructor===ArrayBuffer});for(var V=function(g,R,M){return function(L){return new U(g,R,g).update(L)[M]()}},Y=function(g,R,M){return function(L,B){return new U(g,R,B).update(L)[M]()}},_e=function(g,R,M){return function(L,B,q,re){return m["cshake"+g].update(L,B,q,re)[M]()}},be=function(g,R,M){return function(L,B,q,re){return m["kmac"+g].update(L,B,q,re)[M]()}},we=function(g,R,M,L){for(var B=0;B<O.length;++B){var q=O[B];g[q]=R(M,L,q)}return g},oe=function(g,R){var M=V(g,R,"hex");return M.create=function(){return new U(g,R,g)},M.update=function(L){return M.create().update(L)},we(M,V,g,R)},pt=function(g,R){var M=Y(g,R,"hex");return M.create=function(L){return new U(g,R,L)},M.update=function(L,B){return M.create(B).update(L)},we(M,Y,g,R)},x=function(g,R){var M=D[g],L=_e(g,R,"hex");return L.create=function(B,q,re){return!q&&!re?m["shake"+g].create(B):new U(g,R,B).bytepad([q,re],M)},L.update=function(B,q,re,G){return L.create(q,re,G).update(B)},we(L,_e,g,R)},u=function(g,R){var M=D[g],L=be(g,R,"hex");return L.create=function(B,q,re){return new W(g,R,q).bytepad(["KMAC",re],M).bytepad([B],M)},L.update=function(B,q,re,G){return L.create(B,re,G).update(q)},we(L,be,g,R)},d=[{name:"keccak",padding:b,bits:T,createMethod:oe},{name:"sha3",padding:E,bits:T,createMethod:oe},{name:"shake",padding:h,bits:S,createMethod:pt},{name:"cshake",padding:p,bits:S,createMethod:x},{name:"kmac",padding:p,bits:S,createMethod:u}],m={},v=[],_=0;_<d.length;++_)for(var N=d[_],A=N.bits,y=0;y<A.length;++y){var l=N.name+"_"+A[y];if(v.push(l),m[l]=N.createMethod(A[y],N.padding),N.name!=="sha3"){var w=N.name+A[y];v.push(w),m[w]=m[l]}}function U(g,R,M){this.blocks=[],this.s=[],this.padding=R,this.outputBits=M,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(g<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=M>>5,this.extraBytes=(M&31)>>3;for(var L=0;L<50;++L)this.s[L]=0}U.prototype.update=function(g){if(this.finalized)throw new Error(r);var R,M=typeof g;if(M!=="string"){if(M==="object"){if(g===null)throw new Error(e);if(f&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!f||!ArrayBuffer.isView(g)))throw new Error(e)}else throw new Error(e);R=!0}for(var L=this.blocks,B=this.byteCount,q=g.length,re=this.blockCount,G=0,ae=this.s,ne,ie;G<q;){if(this.reset)for(this.reset=!1,L[0]=this.block,ne=1;ne<re+1;++ne)L[ne]=0;if(R)for(ne=this.start;G<q&&ne<B;++G)L[ne>>2]|=g[G]<<k[ne++&3];else for(ne=this.start;G<q&&ne<B;++G)ie=g.charCodeAt(G),ie<128?L[ne>>2]|=ie<<k[ne++&3]:ie<2048?(L[ne>>2]|=(192|ie>>6)<<k[ne++&3],L[ne>>2]|=(128|ie&63)<<k[ne++&3]):ie<55296||ie>=57344?(L[ne>>2]|=(224|ie>>12)<<k[ne++&3],L[ne>>2]|=(128|ie>>6&63)<<k[ne++&3],L[ne>>2]|=(128|ie&63)<<k[ne++&3]):(ie=65536+((ie&1023)<<10|g.charCodeAt(++G)&1023),L[ne>>2]|=(240|ie>>18)<<k[ne++&3],L[ne>>2]|=(128|ie>>12&63)<<k[ne++&3],L[ne>>2]|=(128|ie>>6&63)<<k[ne++&3],L[ne>>2]|=(128|ie&63)<<k[ne++&3]);if(this.lastByteIndex=ne,ne>=B){for(this.start=ne-B,this.block=L[re],ne=0;ne<re;++ne)ae[ne]^=L[ne];K(ae),this.reset=!0}else this.start=ne}return this},U.prototype.encode=function(g,R){var M=g&255,L=1,B=[M];for(g=g>>8,M=g&255;M>0;)B.unshift(M),g=g>>8,M=g&255,++L;return R?B.push(L):B.unshift(L),this.update(B),B.length},U.prototype.encodeString=function(g){var R,M=typeof g;if(M!=="string"){if(M==="object"){if(g===null)throw new Error(e);if(f&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!f||!ArrayBuffer.isView(g)))throw new Error(e)}else throw new Error(e);R=!0}var L=0,B=g.length;if(R)L=B;else for(var q=0;q<g.length;++q){var re=g.charCodeAt(q);re<128?L+=1:re<2048?L+=2:re<55296||re>=57344?L+=3:(re=65536+((re&1023)<<10|g.charCodeAt(++q)&1023),L+=4)}return L+=this.encode(L*8),this.update(g),L},U.prototype.bytepad=function(g,R){for(var M=this.encode(R),L=0;L<g.length;++L)M+=this.encodeString(g[L]);var B=R-M%R,q=[];return q.length=B,this.update(q),this},U.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var g=this.blocks,R=this.lastByteIndex,M=this.blockCount,L=this.s;if(g[R>>2]|=this.padding[R&3],this.lastByteIndex===this.byteCount)for(g[0]=g[M],R=1;R<M+1;++R)g[R]=0;for(g[M-1]|=2147483648,R=0;R<M;++R)L[R]^=g[R];K(L)}},U.prototype.toString=U.prototype.hex=function(){this.finalize();for(var g=this.blockCount,R=this.s,M=this.outputBlocks,L=this.extraBytes,B=0,q=0,re="",G;q<M;){for(B=0;B<g&&q<M;++B,++q)G=R[B],re+=c[G>>4&15]+c[G&15]+c[G>>12&15]+c[G>>8&15]+c[G>>20&15]+c[G>>16&15]+c[G>>28&15]+c[G>>24&15];q%g==0&&(K(R),B=0)}return L&&(G=R[B],re+=c[G>>4&15]+c[G&15],L>1&&(re+=c[G>>12&15]+c[G>>8&15]),L>2&&(re+=c[G>>20&15]+c[G>>16&15])),re},U.prototype.arrayBuffer=function(){this.finalize();var g=this.blockCount,R=this.s,M=this.outputBlocks,L=this.extraBytes,B=0,q=0,re=this.outputBits>>3,G;L?G=new ArrayBuffer(M+1<<2):G=new ArrayBuffer(re);for(var ae=new Uint32Array(G);q<M;){for(B=0;B<g&&q<M;++B,++q)ae[q]=R[B];q%g==0&&K(R)}return L&&(ae[B]=R[B],G=G.slice(0,re)),G},U.prototype.buffer=U.prototype.arrayBuffer,U.prototype.digest=U.prototype.array=function(){this.finalize();for(var g=this.blockCount,R=this.s,M=this.outputBlocks,L=this.extraBytes,B=0,q=0,re=[],G,ae;q<M;){for(B=0;B<g&&q<M;++B,++q)G=q<<2,ae=R[B],re[G]=ae&255,re[G+1]=ae>>8&255,re[G+2]=ae>>16&255,re[G+3]=ae>>24&255;q%g==0&&K(R)}return L&&(G=q<<2,ae=R[B],re[G]=ae&255,L>1&&(re[G+1]=ae>>8&255),L>2&&(re[G+2]=ae>>16&255)),re};function W(g,R,M){U.call(this,g,R,M)}W.prototype=new U,W.prototype.finalize=function(){return this.encode(this.outputBits,!0),U.prototype.finalize.call(this)};var K=function(g){var R,M,L,B,q,re,G,ae,ne,ie,Ee,Xr,Ne,Ae,Zr,Se,ke,Qr,Te,Ie,en,Re,Oe,tn,Me,Pe,rn,Ce,De,nn,Le,Be,sn,Fe,Ue,on,$e,qe,an,je,Ge,fn,Ve,ze,un,He,Je,cn,We,Ke,ln,Ye,Xe,hn,Ze,Qe,Pr,Cr,Dr,Lr,Br,Fr,Ur;for(L=0;L<48;L+=2)B=g[0]^g[10]^g[20]^g[30]^g[40],q=g[1]^g[11]^g[21]^g[31]^g[41],re=g[2]^g[12]^g[22]^g[32]^g[42],G=g[3]^g[13]^g[23]^g[33]^g[43],ae=g[4]^g[14]^g[24]^g[34]^g[44],ne=g[5]^g[15]^g[25]^g[35]^g[45],ie=g[6]^g[16]^g[26]^g[36]^g[46],Ee=g[7]^g[17]^g[27]^g[37]^g[47],Xr=g[8]^g[18]^g[28]^g[38]^g[48],Ne=g[9]^g[19]^g[29]^g[39]^g[49],R=Xr^(re<<1|G>>>31),M=Ne^(G<<1|re>>>31),g[0]^=R,g[1]^=M,g[10]^=R,g[11]^=M,g[20]^=R,g[21]^=M,g[30]^=R,g[31]^=M,g[40]^=R,g[41]^=M,R=B^(ae<<1|ne>>>31),M=q^(ne<<1|ae>>>31),g[2]^=R,g[3]^=M,g[12]^=R,g[13]^=M,g[22]^=R,g[23]^=M,g[32]^=R,g[33]^=M,g[42]^=R,g[43]^=M,R=re^(ie<<1|Ee>>>31),M=G^(Ee<<1|ie>>>31),g[4]^=R,g[5]^=M,g[14]^=R,g[15]^=M,g[24]^=R,g[25]^=M,g[34]^=R,g[35]^=M,g[44]^=R,g[45]^=M,R=ae^(Xr<<1|Ne>>>31),M=ne^(Ne<<1|Xr>>>31),g[6]^=R,g[7]^=M,g[16]^=R,g[17]^=M,g[26]^=R,g[27]^=M,g[36]^=R,g[37]^=M,g[46]^=R,g[47]^=M,R=ie^(B<<1|q>>>31),M=Ee^(q<<1|B>>>31),g[8]^=R,g[9]^=M,g[18]^=R,g[19]^=M,g[28]^=R,g[29]^=M,g[38]^=R,g[39]^=M,g[48]^=R,g[49]^=M,Ae=g[0],Zr=g[1],He=g[11]<<4|g[10]>>>28,Je=g[10]<<4|g[11]>>>28,Ce=g[20]<<3|g[21]>>>29,De=g[21]<<3|g[20]>>>29,Lr=g[31]<<9|g[30]>>>23,Br=g[30]<<9|g[31]>>>23,fn=g[40]<<18|g[41]>>>14,Ve=g[41]<<18|g[40]>>>14,Fe=g[2]<<1|g[3]>>>31,Ue=g[3]<<1|g[2]>>>31,Se=g[13]<<12|g[12]>>>20,ke=g[12]<<12|g[13]>>>20,cn=g[22]<<10|g[23]>>>22,We=g[23]<<10|g[22]>>>22,nn=g[33]<<13|g[32]>>>19,Le=g[32]<<13|g[33]>>>19,Fr=g[42]<<2|g[43]>>>30,Ur=g[43]<<2|g[42]>>>30,hn=g[5]<<30|g[4]>>>2,Ze=g[4]<<30|g[5]>>>2,on=g[14]<<6|g[15]>>>26,$e=g[15]<<6|g[14]>>>26,Qr=g[25]<<11|g[24]>>>21,Te=g[24]<<11|g[25]>>>21,Ke=g[34]<<15|g[35]>>>17,ln=g[35]<<15|g[34]>>>17,Be=g[45]<<29|g[44]>>>3,sn=g[44]<<29|g[45]>>>3,tn=g[6]<<28|g[7]>>>4,Me=g[7]<<28|g[6]>>>4,Qe=g[17]<<23|g[16]>>>9,Pr=g[16]<<23|g[17]>>>9,qe=g[26]<<25|g[27]>>>7,an=g[27]<<25|g[26]>>>7,Ie=g[36]<<21|g[37]>>>11,en=g[37]<<21|g[36]>>>11,Ye=g[47]<<24|g[46]>>>8,Xe=g[46]<<24|g[47]>>>8,ze=g[8]<<27|g[9]>>>5,un=g[9]<<27|g[8]>>>5,Pe=g[18]<<20|g[19]>>>12,rn=g[19]<<20|g[18]>>>12,Cr=g[29]<<7|g[28]>>>25,Dr=g[28]<<7|g[29]>>>25,je=g[38]<<8|g[39]>>>24,Ge=g[39]<<8|g[38]>>>24,Re=g[48]<<14|g[49]>>>18,Oe=g[49]<<14|g[48]>>>18,g[0]=Ae^~Se&Qr,g[1]=Zr^~ke&Te,g[10]=tn^~Pe&Ce,g[11]=Me^~rn&De,g[20]=Fe^~on&qe,g[21]=Ue^~$e&an,g[30]=ze^~He&cn,g[31]=un^~Je&We,g[40]=hn^~Qe&Cr,g[41]=Ze^~Pr&Dr,g[2]=Se^~Qr&Ie,g[3]=ke^~Te&en,g[12]=Pe^~Ce&nn,g[13]=rn^~De&Le,g[22]=on^~qe&je,g[23]=$e^~an&Ge,g[32]=He^~cn&Ke,g[33]=Je^~We&ln,g[42]=Qe^~Cr&Lr,g[43]=Pr^~Dr&Br,g[4]=Qr^~Ie&Re,g[5]=Te^~en&Oe,g[14]=Ce^~nn&Be,g[15]=De^~Le&sn,g[24]=qe^~je&fn,g[25]=an^~Ge&Ve,g[34]=cn^~Ke&Ye,g[35]=We^~ln&Xe,g[44]=Cr^~Lr&Fr,g[45]=Dr^~Br&Ur,g[6]=Ie^~Re&Ae,g[7]=en^~Oe&Zr,g[16]=nn^~Be&tn,g[17]=Le^~sn&Me,g[26]=je^~fn&Fe,g[27]=Ge^~Ve&Ue,g[36]=Ke^~Ye&ze,g[37]=ln^~Xe&un,g[46]=Lr^~Fr&hn,g[47]=Br^~Ur&Ze,g[8]=Re^~Ae&Se,g[9]=Oe^~Zr&ke,g[18]=Be^~tn&Pe,g[19]=sn^~Me&rn,g[28]=fn^~Fe&on,g[29]=Ve^~Ue&$e,g[38]=Ye^~ze&He,g[39]=Xe^~un&Je,g[48]=Fr^~hn&Qe,g[49]=Ur^~Ze&Pr,g[0]^=P[L],g[1]^=P[L+1]};if(a)t.exports=m;else for(_=0;_<v.length;++_)i[v[_]]=m[v[_]]})()})(Af);var Rh=Af.exports;function lt(t){return"0x"+Rh.keccak_256(ee(t))}const Oh="strings/5.5.0",Sf=new I(Oh);var Dn;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Dn||(Dn={}));var Ct;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Ct||(Ct={}));function Mh(t,e,r,n,i){return Sf.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function kf(t,e,r,n,i){if(t===Ct.BAD_PREFIX||t===Ct.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6==2;o++)s++;return s}return t===Ct.OVERRUN?r.length-e-1:0}function Ph(t,e,r,n,i){return t===Ct.OVERLONG?(n.push(i),0):(n.push(65533),kf(t,e,r))}const Ch=Object.freeze({error:Mh,ignore:kf,replace:Ph});function Tf(t,e){e==null&&(e=Ch.error),t=ee(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let s=null,o=null;if((i&224)==192)s=1,o=127;else if((i&240)==224)s=2,o=2047;else if((i&248)==240)s=3,o=65535;else{(i&192)==128?n+=e(Ct.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Ct.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Ct.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let f=0;f<s;f++){let c=t[n];if((c&192)!=128){n+=e(Ct.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|c&63,n++}if(a!==null){if(a>1114111){n+=e(Ct.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Ct.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Ct.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function ir(t,e=Dn.current){e!=Dn.current&&(Sf.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!=56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return ee(r)}function xo(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ln(t,e){return xo(Tf(t,e))}function If(t,e=Dn.current){return Tf(ir(t,e))}function Dh(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function Eo(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=e(s[1])}),n}function Rf(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function No(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)==0){if(i.e&&i.e.indexOf(t-r)!==-1)continue;return i}}return null}const Lh=Rf("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Bh="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),Fh=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Uh=Eo("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),$h=Eo("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),qh=Eo("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Dh),jh=Rf("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Gh(t){return t.reduce((e,r)=>(r.forEach(n=>{e.push(n)}),e),[])}function Vh(t){return!!No(t,Lh)}function zh(t){let e=No(t,Fh);if(e)return[t+e.s];let r=Uh[t];if(r)return r;let n=$h[t];if(n)return[t+n[0]];let i=qh[t];return i||null}function Hh(t){return!!No(t,jh)}function Jh(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=If(t);e=Gh(e.map(n=>{if(Bh.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=zh(n);return i||[n]})),e=If(xo(e),Dn.NFKC),e.forEach(n=>{if(Hh(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(Vh(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=xo(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");if(r.length>63)throw new Error("too long");return r}function Bn(t){return lt(ir(t))}const Of="hash/5.5.0",Mf=new I(Of),Pf=new Uint8Array(32);Pf.fill(0);const Wh=new RegExp("^((.*)\\.)?([^.]+)$");function Qi(t){typeof t!="string"&&Mf.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,r=Pf;for(;e.length;){const n=e.match(Wh);(n==null||n[2]==="")&&Mf.throwArgumentError("invalid ENS address; missing component","name",t);const i=ir(Jh(n[3]));r=lt(Rt([r,lt(i)])),e=n[2]||""}return Z(r)}const Kh="rlp/5.5.0",sr=new I(Kh);function Cf(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Df(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function Lf(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(Lf(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=Cf(n.length);return i.unshift(247+i.length),i.concat(n)}yo(t)||sr.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(ee(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Cf(e.length);return r.unshift(183+r.length),r.concat(e)}function es(t){return Z(Lf(t))}function Bf(t,e,r,n){const i=[];for(;r<e+1+n;){const s=Ff(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&sr.throwError("child data too short",I.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Ff(t,e){if(t.length===0&&sr.throwError("data too short",I.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&sr.throwError("data short segment too short",I.errors.BUFFER_OVERRUN,{});const n=Df(t,e+1,r);return e+1+r+n>t.length&&sr.throwError("data long segment too short",I.errors.BUFFER_OVERRUN,{}),Bf(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&sr.throwError("data array too short",I.errors.BUFFER_OVERRUN,{}),Bf(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&sr.throwError("data array too short",I.errors.BUFFER_OVERRUN,{});const n=Df(t,e+1,r);e+1+r+n>t.length&&sr.throwError("data array too short",I.errors.BUFFER_OVERRUN,{});const i=Z(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&sr.throwError("data too short",I.errors.BUFFER_OVERRUN,{});const n=Z(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Z(t[e])}}function Ao(t){const e=ee(t),r=Ff(e,0);return r.consumed!==e.length&&sr.throwArgumentError("invalid rlp data","data",t),r.result}const Yh="address/5.5.0",Fn=new I(Yh);function Uf(t){ge(t,20)||Fn.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=ee(lt(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Xh=9007199254740991;function Zh(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const So={};for(let t=0;t<10;t++)So[String(t)]=String(t);for(let t=0;t<26;t++)So[String.fromCharCode(65+t)]=String(10+t);const $f=Math.floor(Zh(Xh));function Qh(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>So[n]).join("");for(;e.length>=$f;){let n=e.substring(0,$f);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function _t(t){let e=null;if(typeof t!="string"&&Fn.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Uf(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Fn.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Qh(t)&&Fn.throwArgumentError("bad icap checksum","address",t),e=hh(t.substring(4));e.length<40;)e="0"+e;e=Uf("0x"+e)}else Fn.throwArgumentError("invalid address","address",t);return e}function qf(t){let e=null;try{e=_t(t.from)}catch{Fn.throwArgumentError("missing from address","transaction",t)}const r=Pn(ee(j.from(t.nonce).toHexString()));return _t(_r(lt(es([e,r])),12))}var ed=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};const st=new I(Of),jf=new Uint8Array(32);jf.fill(0);const td=j.from(-1),Gf=j.from(0),Vf=j.from(1),rd=j.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function nd(t){const e=ee(t),r=e.length%32;return r?Ht([e,jf.slice(r)]):Z(e)}const id=ut(Vf.toHexString(),32),sd=ut(Gf.toHexString(),32),zf={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ko=["name","version","chainId","verifyingContract","salt"];function Hf(t){return function(e){return typeof e!="string"&&st.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const od={name:Hf("name"),version:Hf("version"),chainId:function(t){try{return j.from(t).toString()}catch{}return st.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return _t(t).toLowerCase()}catch{}return st.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=ee(t);if(e.length!==32)throw new Error("bad length");return Z(e)}catch{}return st.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function To(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&st.throwArgumentError("invalid numeric width","type",t);const i=rd.mask(r?n-1:n),s=r?i.add(Vf).mul(td):Gf;return function(o){const a=j.from(o);return(a.lt(s)||a.gt(i))&&st.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),ut(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&st.throwArgumentError("invalid bytes width","type",t),function(n){return ee(n).length!==r&&st.throwArgumentError(`invalid length for ${t}`,"value",n),nd(n)}}}switch(t){case"address":return function(e){return ut(_t(e),32)};case"bool":return function(e){return e?id:sd};case"bytes":return function(e){return lt(e)};case"string":return function(e){return Bn(e)}}return null}function Jf(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Dt{constructor(e){F(this,"types",Object.freeze(wr(e))),F(this,"_encoderCache",{}),F(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const f={};e[a].forEach(c=>{f[c.name]&&st.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),f[c.name]=!0;const h=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];h===a&&st.throwArgumentError(`circular type reference to ${JSON.stringify(h)}`,"types",e),!To(h)&&(n[h]||st.throwArgumentError(`unknown type ${JSON.stringify(h)}`,"types",e),n[h].push(a),r[a][h]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?st.throwArgumentError("missing primary type","types",e):s.length>1&&st.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),F(this,"primaryType",s[0]);function o(a,f){f[a]&&st.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),f[a]=!0,Object.keys(r[a]).forEach(c=>{!n[c]||(o(c,f),Object.keys(f).forEach(h=>{i[h][c]=!0}))}),delete f[a]}o(this.primaryType,{});for(const a in i){const f=Object.keys(i[a]);f.sort(),this._types[a]=Jf(a,e[a])+f.map(c=>Jf(c,e[c])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=To(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&st.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let f=a.map(s);return this._types[i]&&(f=f.map(lt)),lt(Ht(f))}}const n=this.types[e];if(n){const i=Bn(this._types[e]);return s=>{const o=n.map(({name:a,type:f})=>{const c=this.getEncoder(f)(s[a]);return this._types[f]?lt(c):c});return o.unshift(i),Ht(o)}}return st.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||st.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return lt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(To(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&st.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(f=>this._visit(o,f,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:f})=>(o[a]=this._visit(f,r[a],n),o),{}):st.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Dt(e)}static getPrimaryType(e){return Dt.from(e).primaryType}static hashStruct(e,r,n){return Dt.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=zf[n];i||st.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>ko.indexOf(n.name)-ko.indexOf(i.name)),Dt.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Ht(["0x1901",Dt.hashDomain(e),Dt.from(r).hash(n)])}static hash(e,r,n){return lt(Dt.encode(e,r,n))}static resolveNames(e,r,n,i){return ed(this,void 0,void 0,function*(){e=bt(e);const s={};e.verifyingContract&&!ge(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Dt.from(r);o.visit(n,(a,f)=>(a==="address"&&!ge(f,20)&&(s[f]="0x"),f));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,f)=>a==="address"&&s[f]?s[f]:f),{domain:e,value:n}})}static getPayload(e,r,n){Dt.hashDomain(e);const i={},s=[];ko.forEach(f=>{const c=e[f];c!=null&&(i[f]=od[f](c),s.push({name:f,type:zf[f]}))});const o=Dt.from(r),a=bt(r);return a.EIP712Domain?st.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(f,c)=>{if(f.match(/^bytes(\d*)/))return Z(ee(c));if(f.match(/^u?int/))return j.from(c).toString();switch(f){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&st.throwArgumentError("invalid string","value",c),c}return st.throwArgumentError("unsupported type","type",f)})}}}var Wf={},ce={},hi=Kf;function Kf(t,e){if(!t)throw new Error(e||"Assertion failed")}Kf.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Io={exports:{}};typeof Object.create=="function"?Io.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Io.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var ad=hi,fd=Io.exports;ce.inherits=fd;function ud(t,e){return(t.charCodeAt(e)&64512)!=55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)==56320}function cd(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):ud(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}ce.toArray=cd;function ld(t){for(var e="",r=0;r<t.length;r++)e+=Xf(t[r].toString(16));return e}ce.toHex=ld;function Yf(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}ce.htonl=Yf;function hd(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=Yf(i)),r+=Zf(i.toString(16))}return r}ce.toHex32=hd;function Xf(t){return t.length===1?"0"+t:t}ce.zero2=Xf;function Zf(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}ce.zero8=Zf;function dd(t,e,r,n){var i=r-e;ad(i%4==0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var f;n==="big"?f=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:f=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=f>>>0}return s}ce.join32=dd;function pd(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}ce.split32=pd;function gd(t,e){return t>>>e|t<<32-e}ce.rotr32=gd;function md(t,e){return t<<e|t>>>32-e}ce.rotl32=md;function vd(t,e){return t+e>>>0}ce.sum32=vd;function yd(t,e,r){return t+e+r>>>0}ce.sum32_3=yd;function bd(t,e,r,n){return t+e+r+n>>>0}ce.sum32_4=bd;function _d(t,e,r,n,i){return t+e+r+n+i>>>0}ce.sum32_5=_d;function wd(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}ce.sum64=wd;function xd(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}ce.sum64_hi=xd;function Ed(t,e,r,n){var i=e+n;return i>>>0}ce.sum64_lo=Ed;function Nd(t,e,r,n,i,s,o,a){var f=0,c=e;c=c+n>>>0,f+=c<e?1:0,c=c+s>>>0,f+=c<s?1:0,c=c+a>>>0,f+=c<a?1:0;var h=t+r+i+o+f;return h>>>0}ce.sum64_4_hi=Nd;function Ad(t,e,r,n,i,s,o,a){var f=e+n+s+a;return f>>>0}ce.sum64_4_lo=Ad;function Sd(t,e,r,n,i,s,o,a,f,c){var h=0,p=e;p=p+n>>>0,h+=p<e?1:0,p=p+s>>>0,h+=p<s?1:0,p=p+a>>>0,h+=p<a?1:0,p=p+c>>>0,h+=p<c?1:0;var b=t+r+i+o+f+h;return b>>>0}ce.sum64_5_hi=Sd;function kd(t,e,r,n,i,s,o,a,f,c){var h=e+n+s+a+c;return h>>>0}ce.sum64_5_lo=kd;function Td(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}ce.rotr64_hi=Td;function Id(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ce.rotr64_lo=Id;function Rd(t,e,r){return t>>>r}ce.shr64_hi=Rd;function Od(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ce.shr64_lo=Od;var Un={},Qf=ce,Md=hi;function ts(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Un.BlockHash=ts;ts.prototype.update=function(e,r){if(e=Qf.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Qf.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};ts.prototype.digest=function(e){return this.update(this._pad()),Md(this.pending===null),this._digest(e)};ts.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var $n={},or={},Pd=ce,ar=Pd.rotr32;function Cd(t,e,r,n){if(t===0)return eu(e,r,n);if(t===1||t===3)return ru(e,r,n);if(t===2)return tu(e,r,n)}or.ft_1=Cd;function eu(t,e,r){return t&e^~t&r}or.ch32=eu;function tu(t,e,r){return t&e^t&r^e&r}or.maj32=tu;function ru(t,e,r){return t^e^r}or.p32=ru;function Dd(t){return ar(t,2)^ar(t,13)^ar(t,22)}or.s0_256=Dd;function Ld(t){return ar(t,6)^ar(t,11)^ar(t,25)}or.s1_256=Ld;function Bd(t){return ar(t,7)^ar(t,18)^t>>>3}or.g0_256=Bd;function Fd(t){return ar(t,17)^ar(t,19)^t>>>10}or.g1_256=Fd;var qn=ce,Ud=Un,$d=or,Ro=qn.rotl32,di=qn.sum32,qd=qn.sum32_5,jd=$d.ft_1,nu=Ud.BlockHash,Gd=[1518500249,1859775393,2400959708,3395469782];function fr(){if(!(this instanceof fr))return new fr;nu.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}qn.inherits(fr,nu);var Vd=fr;fr.blockSize=512;fr.outSize=160;fr.hmacStrength=80;fr.padLength=64;fr.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Ro(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var h=~~(i/20),p=qd(Ro(s,5),jd(h,o,a,f),c,n[i],Gd[h]);c=f,f=a,a=Ro(o,30),o=s,s=p}this.h[0]=di(this.h[0],s),this.h[1]=di(this.h[1],o),this.h[2]=di(this.h[2],a),this.h[3]=di(this.h[3],f),this.h[4]=di(this.h[4],c)};fr.prototype._digest=function(e){return e==="hex"?qn.toHex32(this.h,"big"):qn.split32(this.h,"big")};var jn=ce,zd=Un,Gn=or,Hd=hi,Jt=jn.sum32,Jd=jn.sum32_4,Wd=jn.sum32_5,Kd=Gn.ch32,Yd=Gn.maj32,Xd=Gn.s0_256,Zd=Gn.s1_256,Qd=Gn.g0_256,e0=Gn.g1_256,iu=zd.BlockHash,t0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ur(){if(!(this instanceof ur))return new ur;iu.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=t0,this.W=new Array(64)}jn.inherits(ur,iu);var su=ur;ur.blockSize=512;ur.outSize=256;ur.hmacStrength=192;ur.padLength=64;ur.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Jd(e0(n[i-2]),n[i-7],Qd(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4],h=this.h[5],p=this.h[6],b=this.h[7];for(Hd(this.k.length===n.length),i=0;i<n.length;i++){var E=Wd(b,Zd(c),Kd(c,h,p),this.k[i],n[i]),k=Jt(Xd(s),Yd(s,o,a));b=p,p=h,h=c,c=Jt(f,E),f=a,a=o,o=s,s=Jt(E,k)}this.h[0]=Jt(this.h[0],s),this.h[1]=Jt(this.h[1],o),this.h[2]=Jt(this.h[2],a),this.h[3]=Jt(this.h[3],f),this.h[4]=Jt(this.h[4],c),this.h[5]=Jt(this.h[5],h),this.h[6]=Jt(this.h[6],p),this.h[7]=Jt(this.h[7],b)};ur.prototype._digest=function(e){return e==="hex"?jn.toHex32(this.h,"big"):jn.split32(this.h,"big")};var Oo=ce,ou=su;function xr(){if(!(this instanceof xr))return new xr;ou.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Oo.inherits(xr,ou);var r0=xr;xr.blockSize=512;xr.outSize=224;xr.hmacStrength=192;xr.padLength=64;xr.prototype._digest=function(e){return e==="hex"?Oo.toHex32(this.h.slice(0,7),"big"):Oo.split32(this.h.slice(0,7),"big")};var Mt=ce,n0=Un,i0=hi,cr=Mt.rotr64_hi,lr=Mt.rotr64_lo,au=Mt.shr64_hi,fu=Mt.shr64_lo,qr=Mt.sum64,Mo=Mt.sum64_hi,Po=Mt.sum64_lo,s0=Mt.sum64_4_hi,o0=Mt.sum64_4_lo,a0=Mt.sum64_5_hi,f0=Mt.sum64_5_lo,uu=n0.BlockHash,u0=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Wt(){if(!(this instanceof Wt))return new Wt;uu.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=u0,this.W=new Array(160)}Mt.inherits(Wt,uu);var cu=Wt;Wt.blockSize=1024;Wt.outSize=512;Wt.hmacStrength=192;Wt.padLength=128;Wt.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=_0(n[i-4],n[i-3]),o=w0(n[i-4],n[i-3]),a=n[i-14],f=n[i-13],c=y0(n[i-30],n[i-29]),h=b0(n[i-30],n[i-29]),p=n[i-32],b=n[i-31];n[i]=s0(s,o,a,f,c,h,p,b),n[i+1]=o0(s,o,a,f,c,h,p,b)}};Wt.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4],c=this.h[5],h=this.h[6],p=this.h[7],b=this.h[8],E=this.h[9],k=this.h[10],P=this.h[11],T=this.h[12],S=this.h[13],O=this.h[14],D=this.h[15];i0(this.k.length===n.length);for(var V=0;V<n.length;V+=2){var Y=O,_e=D,be=m0(b,E),we=v0(b,E),oe=c0(b,E,k,P,T),pt=l0(b,E,k,P,T,S),x=this.k[V],u=this.k[V+1],d=n[V],m=n[V+1],v=a0(Y,_e,be,we,oe,pt,x,u,d,m),_=f0(Y,_e,be,we,oe,pt,x,u,d,m);Y=p0(i,s),_e=g0(i,s),be=h0(i,s,o,a,f),we=d0(i,s,o,a,f,c);var N=Mo(Y,_e,be,we),A=Po(Y,_e,be,we);O=T,D=S,T=k,S=P,k=b,P=E,b=Mo(h,p,v,_),E=Po(p,p,v,_),h=f,p=c,f=o,c=a,o=i,a=s,i=Mo(v,_,N,A),s=Po(v,_,N,A)}qr(this.h,0,i,s),qr(this.h,2,o,a),qr(this.h,4,f,c),qr(this.h,6,h,p),qr(this.h,8,b,E),qr(this.h,10,k,P),qr(this.h,12,T,S),qr(this.h,14,O,D)};Wt.prototype._digest=function(e){return e==="hex"?Mt.toHex32(this.h,"big"):Mt.split32(this.h,"big")};function c0(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function l0(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function h0(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function d0(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function p0(t,e){var r=cr(t,e,28),n=cr(e,t,2),i=cr(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function g0(t,e){var r=lr(t,e,28),n=lr(e,t,2),i=lr(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function m0(t,e){var r=cr(t,e,14),n=cr(t,e,18),i=cr(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function v0(t,e){var r=lr(t,e,14),n=lr(t,e,18),i=lr(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function y0(t,e){var r=cr(t,e,1),n=cr(t,e,8),i=au(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function b0(t,e){var r=lr(t,e,1),n=lr(t,e,8),i=fu(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function _0(t,e){var r=cr(t,e,19),n=cr(e,t,29),i=au(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function w0(t,e){var r=lr(t,e,19),n=lr(e,t,29),i=fu(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var Co=ce,lu=cu;function Er(){if(!(this instanceof Er))return new Er;lu.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Co.inherits(Er,lu);var x0=Er;Er.blockSize=1024;Er.outSize=384;Er.hmacStrength=192;Er.padLength=128;Er.prototype._digest=function(e){return e==="hex"?Co.toHex32(this.h.slice(0,12),"big"):Co.split32(this.h.slice(0,12),"big")};$n.sha1=Vd;$n.sha224=r0;$n.sha256=su;$n.sha384=x0;$n.sha512=cu;var hu={},pn=ce,E0=Un,rs=pn.rotl32,du=pn.sum32,pi=pn.sum32_3,pu=pn.sum32_4,gu=E0.BlockHash;function hr(){if(!(this instanceof hr))return new hr;gu.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}pn.inherits(hr,gu);hu.ripemd160=hr;hr.blockSize=512;hr.outSize=160;hr.hmacStrength=192;hr.padLength=64;hr.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],f=n,c=i,h=s,p=o,b=a,E=0;E<80;E++){var k=du(rs(pu(n,mu(E,i,s,o),e[S0[E]+r],N0(E)),T0[E]),a);n=a,a=o,o=rs(s,10),s=i,i=k,k=du(rs(pu(f,mu(79-E,c,h,p),e[k0[E]+r],A0(E)),I0[E]),b),f=b,b=p,p=rs(h,10),h=c,c=k}k=pi(this.h[1],s,p),this.h[1]=pi(this.h[2],o,b),this.h[2]=pi(this.h[3],a,f),this.h[3]=pi(this.h[4],n,c),this.h[4]=pi(this.h[0],i,h),this.h[0]=k};hr.prototype._digest=function(e){return e==="hex"?pn.toHex32(this.h,"little"):pn.split32(this.h,"little")};function mu(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function N0(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function A0(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var S0=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],k0=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],T0=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],I0=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],R0=ce,O0=hi;function Vn(t,e,r){if(!(this instanceof Vn))return new Vn(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(R0.toArray(e,r))}var M0=Vn;Vn.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),O0(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Vn.prototype.update=function(e,r){return this.inner.update(e,r),this};Vn.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=ce,e.common=Un,e.sha=$n,e.ripemd=hu,e.hmac=M0,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Wf);var dr=Wf;const P0="sha2/5.5.0";new I(P0);function vu(t){return"0x"+dr.sha256().update(ee(t)).digest("hex")}function C0(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return ee(e)}function D0(t){t=ee(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}const L0="web/5.5.1";var B0=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};function F0(t,e){return B0(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:ee(new Uint8Array(i))}})}var U0=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};const Kt=new I(L0);function yu(t){return new Promise(e=>{setTimeout(e,t)})}function jr(t,e){if(t==null)return null;if(typeof t=="string")return t;if(yo(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Ln(t)}catch{}return Z(t)}return t}function $0(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Kt.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Kt.assertArgument(s>0&&s%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o={};let a=null;const f={method:"GET"};let c=!1,h=2*60*1e3;if(typeof t=="string")a=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Kt.throwArgumentError("missing URL","connection.url",t),a=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const T in t.headers)o[T.toLowerCase()]={key:T,value:String(t.headers[T])},["if-none-match","if-modified-since"].indexOf(T.toLowerCase())>=0&&(c=!0);if(f.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){a.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Kt.throwError("basic authentication requires a secure https url",I.errors.INVALID_ARGUMENT,{argument:"url",url:a,user:t.user,password:"[REDACTED]"});const T=t.user+":"+t.password;o.authorization={key:"Authorization",value:"Basic "+D0(ir(T))}}}const p=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),b=a?a.match(p):null;if(b)try{const T={statusCode:200,statusMessage:"OK",headers:{"content-type":b[1]},body:C0(b[2])};let S=T.body;return r&&(S=r(T.body,T)),Promise.resolve(S)}catch(T){Kt.throwError("processing response error",I.errors.SERVER_ERROR,{body:jr(b[1],b[2]),error:T,requestBody:null,requestMethod:"GET",url:a})}e&&(f.method="POST",f.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));const E={};Object.keys(o).forEach(T=>{const S=o[T];E[S.key]=S.value}),f.headers=E;const k=function(){let T=null;return{promise:new Promise(function(D,V){h&&(T=setTimeout(()=>{T!=null&&(T=null,V(Kt.makeError("timeout",I.errors.TIMEOUT,{requestBody:jr(f.body,E["content-type"]),requestMethod:f.method,timeout:h,url:a})))},h))}),cancel:function(){T!=null&&(clearTimeout(T),T=null)}}}(),P=function(){return U0(this,void 0,void 0,function*(){for(let T=0;T<n;T++){let S=null;try{if(S=yield F0(a,f),T<n){if(S.statusCode===301||S.statusCode===302){const D=S.headers.location||"";if(f.method==="GET"&&D.match(/^https:/)){a=S.headers.location;continue}}else if(S.statusCode===429){let D=!0;if(i&&(D=yield i(T,a)),D){let V=0;const Y=S.headers["retry-after"];typeof Y=="string"&&Y.match(/^[1-9][0-9]*$/)?V=parseInt(Y)*1e3:V=s*parseInt(String(Math.random()*Math.pow(2,T))),yield yu(V);continue}}}}catch(D){S=D.response,S==null&&(k.cancel(),Kt.throwError("missing response",I.errors.SERVER_ERROR,{requestBody:jr(f.body,E["content-type"]),requestMethod:f.method,serverError:D,url:a}))}let O=S.body;if(c&&S.statusCode===304?O=null:(S.statusCode<200||S.statusCode>=300)&&(k.cancel(),Kt.throwError("bad response",I.errors.SERVER_ERROR,{status:S.statusCode,headers:S.headers,body:jr(O,S.headers?S.headers["content-type"]:null),requestBody:jr(f.body,E["content-type"]),requestMethod:f.method,url:a})),r)try{const D=yield r(O,S);return k.cancel(),D}catch(D){if(D.throttleRetry&&T<n){let V=!0;if(i&&(V=yield i(T,a)),V){const Y=s*parseInt(String(Math.random()*Math.pow(2,T)));yield yu(Y);continue}}k.cancel(),Kt.throwError("processing response error",I.errors.SERVER_ERROR,{body:jr(O,S.headers?S.headers["content-type"]:null),error:D,requestBody:jr(f.body,E["content-type"]),requestMethod:f.method,url:a})}return k.cancel(),O}return Kt.throwError("failed response",I.errors.SERVER_ERROR,{requestBody:jr(f.body,E["content-type"]),requestMethod:f.method,url:a})})}();return Promise.race([k.promise,P])}function bu(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Ln(s))}catch(f){Kt.throwError("invalid JSON",I.errors.SERVER_ERROR,{body:s,error:f})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=ir(e);const s=typeof t=="string"?{url:t}:bt(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=bt(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return $0(t,i,n)}function gi(t,e){return e||(e={}),e=bt(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let f=0;function c(){return t().then(function(h){if(h!==void 0)o()&&r(h);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(f++,f>a){o()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,f)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(c,p)}return null},function(h){o()&&n(h)})}c()})}var ns="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Do={};for(var is=0;is<ns.length;is++){var Lo=ns.charAt(is);if(Do[Lo]!==void 0)throw new TypeError(Lo+" is ambiguous");Do[Lo]=is}function zn(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function _u(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=zn(e)^n>>5}for(e=zn(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=zn(e)^i&31}return e}function q0(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=_u(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5!=0)throw new Error("Non 5-bit word");n=zn(n)^o,i+=ns.charAt(o)}for(s=0;s<6;++s)n=zn(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=ns.charAt(a)}return i}function wu(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=_u(s);if(typeof a=="string")return a;for(var f=[],c=0;c<o.length;++c){var h=o.charAt(c),p=Do[h];if(p===void 0)return"Unknown character "+h;a=zn(a)^p,!(c+6>=o.length)&&f.push(p)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:f}}function j0(){var t=wu.apply(null,arguments);if(typeof t=="object")return t}function G0(t){var e=wu.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function ss(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],f=0;f<t.length;++f)for(i=i<<e|t[f],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function V0(t){var e=ss(t,8,5,!0);if(Array.isArray(e))return e}function z0(t){var e=ss(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function H0(t){var e=ss(t,5,8,!1);if(Array.isArray(e))return e}function J0(t){var e=ss(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var xu={decodeUnsafe:j0,decode:G0,encode:q0,toWordsUnsafe:V0,toWords:z0,fromWordsUnsafe:H0,fromWords:J0};const mi="providers/5.5.1";function Hn(t,e,r){return r={path:e,exports:{},require:function(n,i){return W0(n,i==null?r.path:i)}},t(r,r.exports),r.exports}function W0(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Bo=Eu;function Eu(t,e){if(!t)throw new Error(e||"Assertion failed")}Eu.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Yt=Hn(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var f=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)f[c]=o[c]|0;return f}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!=0&&(o="0"+o);for(var c=0;c<o.length;c+=2)f.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var h=o.charCodeAt(c),p=h>>8,b=h&255;p?f.push(p,b):f.push(b)}return f}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",f=0;f<o.length;f++)a+=i(o[f].toString(16));return a}r.toHex=s,r.encode=function(a,f){return f==="hex"?s(a):a}}),Lt=Hn(function(t,e){var r=e;r.assert=Bo,r.toArray=Yt.toArray,r.zero2=Yt.zero2,r.toHex=Yt.toHex,r.encode=Yt.encode;function n(f,c,h){var p=new Array(Math.max(f.bitLength(),h)+1);p.fill(0);for(var b=1<<c+1,E=f.clone(),k=0;k<p.length;k++){var P,T=E.andln(b-1);E.isOdd()?(T>(b>>1)-1?P=(b>>1)-T:P=T,E.isubn(P)):P=0,p[k]=P,E.iushrn(1)}return p}r.getNAF=n;function i(f,c){var h=[[],[]];f=f.clone(),c=c.clone();for(var p=0,b=0,E;f.cmpn(-p)>0||c.cmpn(-b)>0;){var k=f.andln(3)+p&3,P=c.andln(3)+b&3;k===3&&(k=-1),P===3&&(P=-1);var T;(k&1)==0?T=0:(E=f.andln(7)+p&7,(E===3||E===5)&&P===2?T=-k:T=k),h[0].push(T);var S;(P&1)==0?S=0:(E=c.andln(7)+b&7,(E===3||E===5)&&k===2?S=-P:S=P),h[1].push(S),2*p===T+1&&(p=1-p),2*b===S+1&&(b=1-b),f.iushrn(1),c.iushrn(1)}return h}r.getJSF=i;function s(f,c,h){var p="_"+c;f.prototype[c]=function(){return this[p]!==void 0?this[p]:this[p]=h.call(this)}}r.cachedProperty=s;function o(f){return typeof f=="string"?r.toArray(f,"hex"):f}r.parseBytes=o;function a(f){return new se(f,"hex","le")}r.intFromLE=a}),os=Lt.getNAF,K0=Lt.getJSF,as=Lt.assert;function Gr(t,e){this.type=t,this.p=new se(e.p,16),this.red=e.prime?se.red(e.prime):se.mont(this.p),this.zero=new se(0).toRed(this.red),this.one=new se(1).toRed(this.red),this.two=new se(2).toRed(this.red),this.n=e.n&&new se(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var gn=Gr;Gr.prototype.point=function(){throw new Error("Not implemented")};Gr.prototype.validate=function(){throw new Error("Not implemented")};Gr.prototype._fixedNafMul=function(e,r){as(e.precomputed);var n=e._getDoubles(),i=os(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2==0?2:1);s/=3;var o=[],a,f;for(a=0;a<i.length;a+=n.step){f=0;for(var c=a+n.step-1;c>=a;c--)f=(f<<1)+i[c];o.push(f)}for(var h=this.jpoint(null,null,null),p=this.jpoint(null,null,null),b=s;b>0;b--){for(a=0;a<o.length;a++)f=o[a],f===b?p=p.mixedAdd(n.points[a]):f===-b&&(p=p.mixedAdd(n.points[a].neg()));h=h.add(p)}return h.toP()};Gr.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=os(r,n,this._bitLength),a=this.jpoint(null,null,null),f=o.length-1;f>=0;f--){for(var c=0;f>=0&&o[f]===0;f--)c++;if(f>=0&&c++,a=a.dblp(c),f<0)break;var h=o[f];as(h!==0),e.type==="affine"?h>0?a=a.mixedAdd(s[h-1>>1]):a=a.mixedAdd(s[-h-1>>1].neg()):h>0?a=a.add(s[h-1>>1]):a=a.add(s[-h-1>>1].neg())}return e.type==="affine"?a.toP():a};Gr.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,f=this._wnafT3,c=0,h,p,b;for(h=0;h<i;h++){b=r[h];var E=b._getNAFPoints(e);o[h]=E.wnd,a[h]=E.points}for(h=i-1;h>=1;h-=2){var k=h-1,P=h;if(o[k]!==1||o[P]!==1){f[k]=os(n[k],o[k],this._bitLength),f[P]=os(n[P],o[P],this._bitLength),c=Math.max(f[k].length,c),c=Math.max(f[P].length,c);continue}var T=[r[k],null,null,r[P]];r[k].y.cmp(r[P].y)===0?(T[1]=r[k].add(r[P]),T[2]=r[k].toJ().mixedAdd(r[P].neg())):r[k].y.cmp(r[P].y.redNeg())===0?(T[1]=r[k].toJ().mixedAdd(r[P]),T[2]=r[k].add(r[P].neg())):(T[1]=r[k].toJ().mixedAdd(r[P]),T[2]=r[k].toJ().mixedAdd(r[P].neg()));var S=[-3,-1,-5,-7,0,7,5,1,3],O=K0(n[k],n[P]);for(c=Math.max(O[0].length,c),f[k]=new Array(c),f[P]=new Array(c),p=0;p<c;p++){var D=O[0][p]|0,V=O[1][p]|0;f[k][p]=S[(D+1)*3+(V+1)],f[P][p]=0,a[k]=T}}var Y=this.jpoint(null,null,null),_e=this._wnafT4;for(h=c;h>=0;h--){for(var be=0;h>=0;){var we=!0;for(p=0;p<i;p++)_e[p]=f[p][h]|0,_e[p]!==0&&(we=!1);if(!we)break;be++,h--}if(h>=0&&be++,Y=Y.dblp(be),h<0)break;for(p=0;p<i;p++){var oe=_e[p];oe!==0&&(oe>0?b=a[p][oe-1>>1]:oe<0&&(b=a[p][-oe-1>>1].neg()),b.type==="affine"?Y=Y.mixedAdd(b):Y=Y.add(b))}}for(h=0;h<i;h++)a[h]=null;return s?Y:Y.toP()};function qt(t,e){this.curve=t,this.type=e,this.precomputed=null}Gr.BasePoint=qt;qt.prototype.eq=function(){throw new Error("Not implemented")};qt.prototype.validate=function(){return this.curve.validate(this)};Gr.prototype.decodePoint=function(e,r){e=Lt.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*n){e[0]===6?as(e[e.length-1]%2==0):e[0]===7&&as(e[e.length-1]%2==1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};qt.prototype.encodeCompressed=function(e){return this.encode(e,!0)};qt.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};qt.prototype.encode=function(e,r){return Lt.encode(this._encode(r),e)};qt.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};qt.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};qt.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};qt.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};qt.prototype._getBeta=function(){return null};qt.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Fo=Hn(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),Y0=Lt.assert;function jt(t){gn.call(this,"short",t),this.a=new se(t.a,16).toRed(this.red),this.b=new se(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Fo(jt,gn);var X0=jt;jt.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new se(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new se(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Y0(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new se(a.a,16),b:new se(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};jt.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:se.mont(e),n=new se(2).toRed(r).redInvm(),i=n.redNeg(),s=new se(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};jt.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new se(1),o=new se(0),a=new se(0),f=new se(1),c,h,p,b,E,k,P,T=0,S,O;n.cmpn(0)!==0;){var D=i.div(n);S=i.sub(D.mul(n)),O=a.sub(D.mul(s));var V=f.sub(D.mul(o));if(!p&&S.cmp(r)<0)c=P.neg(),h=s,p=S.neg(),b=O;else if(p&&++T==2)break;P=S,i=n,n=S,a=s,s=O,f=o,o=V}E=S.neg(),k=O;var Y=p.sqr().add(b.sqr()),_e=E.sqr().add(k.sqr());return _e.cmp(Y)>=0&&(E=c,k=h),p.negative&&(p=p.neg(),b=b.neg()),E.negative&&(E=E.neg(),k=k.neg()),[{a:p,b},{a:E,b:k}]};jt.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),f=o.mul(i.a),c=s.mul(n.b),h=o.mul(i.b),p=e.sub(a).sub(f),b=c.add(h).neg();return{k1:p,k2:b}};jt.prototype.pointFromX=function(e,r){e=new se(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};jt.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};jt.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),f=e[o],c=f._getBeta();a.k1.negative&&(a.k1.ineg(),f=f.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=f,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var h=this._wnafMulAdd(1,i,s,o*2,n),p=0;p<o*2;p++)i[p]=null,s[p]=null;return h};function vt(t,e,r,n){gn.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new se(e,16),this.y=new se(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Fo(vt,gn.BasePoint);jt.prototype.point=function(e,r,n){return new vt(this,e,r,n)};jt.prototype.pointFromJSON=function(e,r){return vt.fromJSON(this,e,r)};vt.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};vt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};vt.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};vt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};vt.prototype.isInfinity=function(){return this.inf};vt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};vt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};vt.prototype.getX=function(){return this.x.fromRed()};vt.prototype.getY=function(){return this.y.fromRed()};vt.prototype.mul=function(e){return e=new se(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};vt.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};vt.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};vt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};vt.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};vt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function wt(t,e,r,n){gn.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new se(0)):(this.x=new se(e,16),this.y=new se(r,16),this.z=new se(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Fo(wt,gn.BasePoint);jt.prototype.jpoint=function(e,r,n){return new wt(this,e,r,n)};wt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};wt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};wt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),f=i.redSub(s),c=o.redSub(a);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=f.redSqr(),p=h.redMul(f),b=i.redMul(h),E=c.redSqr().redIAdd(p).redISub(b).redISub(b),k=c.redMul(b.redISub(E)).redISub(o.redMul(p)),P=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(E,k,P)};wt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),f=s.redSub(o);if(a.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),h=c.redMul(a),p=n.redMul(c),b=f.redSqr().redIAdd(h).redISub(p).redISub(p),E=f.redMul(p.redISub(b)).redISub(s.redMul(h)),k=this.z.redMul(a);return this.curve.jpoint(b,E,k)};wt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,f=this.z,c=f.redSqr().redSqr(),h=a.redAdd(a);for(r=0;r<e;r++){var p=o.redSqr(),b=h.redSqr(),E=b.redSqr(),k=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(c)),P=o.redMul(b),T=k.redSqr().redISub(P.redAdd(P)),S=P.redISub(T),O=k.redMul(S);O=O.redIAdd(O).redISub(E);var D=h.redMul(f);r+1<e&&(c=c.redMul(E)),o=T,f=D,h=O}return this.curve.jpoint(o,h.redMul(s),f)};wt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};wt.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(a).redISub(a),h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),e=c,r=f.redMul(a.redISub(c)).redISub(h),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),b=this.y.redSqr(),E=b.redSqr(),k=this.x.redAdd(b).redSqr().redISub(p).redISub(E);k=k.redIAdd(k);var P=p.redAdd(p).redIAdd(p),T=P.redSqr(),S=E.redIAdd(E);S=S.redIAdd(S),S=S.redIAdd(S),e=T.redISub(k).redISub(k),r=P.redMul(k.redISub(e)).redISub(S),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};wt.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(a).redISub(a);e=c;var h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),r=f.redMul(a.redISub(c)).redISub(h),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),b=this.y.redSqr(),E=this.x.redMul(b),k=this.x.redSub(p).redMul(this.x.redAdd(p));k=k.redAdd(k).redIAdd(k);var P=E.redIAdd(E);P=P.redIAdd(P);var T=P.redAdd(P);e=k.redSqr().redISub(T),n=this.y.redAdd(this.z).redSqr().redISub(b).redISub(p);var S=b.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S),r=k.redMul(P.redISub(e)).redISub(S)}return this.curve.jpoint(e,r,n)};wt.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),f=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var h=c.redMul(a),p=f.redSqr().redISub(h.redAdd(h)),b=h.redISub(p),E=a.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var k=f.redMul(b).redISub(E),P=n.redAdd(n).redMul(i);return this.curve.jpoint(p,k,P)};wt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var f=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var h=s.redIAdd(a).redSqr().redISub(o).redISub(f).redISub(c),p=r.redMul(h);p=p.redIAdd(p),p=p.redIAdd(p);var b=this.x.redMul(f).redISub(p);b=b.redIAdd(b),b=b.redIAdd(b);var E=this.y.redMul(h.redMul(c.redISub(h)).redISub(a.redMul(f)));E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var k=this.z.redAdd(a).redSqr().redISub(n).redISub(f);return this.curve.jpoint(b,E,k)};wt.prototype.mul=function(e,r){return e=new se(e,r),this.curve._wnafMul(this,e)};wt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};wt.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};wt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};wt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var fs=Hn(function(t,e){var r=e;r.base=gn,r.short=X0,r.mont=null,r.edwards=null}),us=Hn(function(t,e){var r=e,n=Lt.assert;function i(a){a.type==="short"?this.curve=new fs.short(a):a.type==="edwards"?this.curve=new fs.edwards(a):this.curve=new fs.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,f){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(f);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:dr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:dr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:dr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:dr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:dr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:dr.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:dr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:dr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Vr(t){if(!(this instanceof Vr))return new Vr(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Yt.toArray(t.entropy,t.entropyEnc||"hex"),r=Yt.toArray(t.nonce,t.nonceEnc||"hex"),n=Yt.toArray(t.pers,t.persEnc||"hex");Bo(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Nu=Vr;Vr.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Vr.prototype._hmac=function(){return new dr.hmac(this.hash,this.K)};Vr.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Vr.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Yt.toArray(e,r),n=Yt.toArray(n,i),Bo(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Vr.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Yt.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Yt.encode(o,r)};var Uo=Lt.assert;function At(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var $o=At;At.fromPublic=function(e,r,n){return r instanceof At?r:new At(e,{pub:r,pubEnc:n})};At.fromPrivate=function(e,r,n){return r instanceof At?r:new At(e,{priv:r,privEnc:n})};At.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};At.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};At.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};At.prototype._importPrivate=function(e,r){this.priv=new se(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};At.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Uo(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Uo(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};At.prototype.derive=function(e){return e.validate()||Uo(e.validate(),"public point not validated"),e.mul(this.priv).getX()};At.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};At.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};At.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Z0=Lt.assert;function cs(t,e){if(t instanceof cs)return t;this._importDER(t,e)||(Z0(t.r&&t.s,"Signature without r or s"),this.r=new se(t.r,16),this.s=new se(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var ls=cs;function Q0(){this.place=0}function qo(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function Au(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}cs.prototype._importDER=function(e,r){e=Lt.toArray(e,r);var n=new Q0;if(e[n.place++]!==48)return!1;var i=qo(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=qo(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=qo(e,n);if(a===!1||e.length!==a+n.place)return!1;var f=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new se(o),this.s=new se(f),this.recoveryParam=null,!0};function jo(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}cs.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Au(r),n=Au(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];jo(i,r.length),i=i.concat(r),i.push(2),jo(i,n.length);var s=i.concat(n),o=[48];return jo(o,s.length),o=o.concat(s),Lt.encode(o,e)};var ep=function(){throw new Error("unsupported")},Su=Lt.assert;function Gt(t){if(!(this instanceof Gt))return new Gt(t);typeof t=="string"&&(Su(Object.prototype.hasOwnProperty.call(us,t),"Unknown curve "+t),t=us[t]),t instanceof us.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var tp=Gt;Gt.prototype.keyPair=function(e){return new $o(this,e)};Gt.prototype.keyFromPrivate=function(e,r){return $o.fromPrivate(this,e,r)};Gt.prototype.keyFromPublic=function(e,r){return $o.fromPublic(this,e,r)};Gt.prototype.genKeyPair=function(e){e||(e={});for(var r=new Nu({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||ep(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new se(2));;){var s=new se(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Gt.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Gt.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new se(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),f=new Nu({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new se(1)),h=0;;h++){var p=i.k?i.k(h):new se(f.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(c)>=0)){var b=this.g.mul(p);if(!b.isInfinity()){var E=b.getX(),k=E.umod(this.n);if(k.cmpn(0)!==0){var P=p.invm(this.n).mul(k.mul(r.getPrivate()).iadd(e));if(P=P.umod(this.n),P.cmpn(0)!==0){var T=(b.getY().isOdd()?1:0)|(E.cmp(k)!==0?2:0);return i.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),T^=1),new ls({r:k,s:P,recoveryParam:T})}}}}}};Gt.prototype.verify=function(e,r,n,i){e=this._truncateToN(new se(e,16)),n=this.keyFromPublic(n,i),r=new ls(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),f=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(f,n.getPublic(),c),h.isInfinity()?!1:h.eqXToP(s)):(h=this.g.mulAdd(f,n.getPublic(),c),h.isInfinity()?!1:h.getX().umod(this.n).cmp(s)===0)};Gt.prototype.recoverPubKey=function(t,e,r,n){Su((3&r)===r,"The recovery param is more than two bits"),e=new ls(e,n);var i=this.n,s=new se(t),o=e.r,a=e.s,f=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),f):o=this.curve.pointFromX(o,f);var h=e.r.invm(i),p=i.sub(s).mul(h).umod(i),b=a.mul(h).umod(i);return this.g.mulAdd(p,o,b)};Gt.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new ls(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var rp=Hn(function(t,e){var r=e;r.version="6.5.4",r.utils=Lt,r.rand=function(){throw new Error("unsupported")},r.curve=fs,r.curves=us,r.ec=tp,r.eddsa=null}),np=rp.ec;const ip="signing-key/5.5.0",ku=new I(ip);let Go=null;function pr(){return Go||(Go=new np("secp256k1")),Go}class sp{constructor(e){F(this,"curve","secp256k1"),F(this,"privateKey",Z(e));const r=pr().keyFromPrivate(ee(this.privateKey));F(this,"publicKey","0x"+r.getPublic(!1,"hex")),F(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),F(this,"_isSigningKey",!0)}_addPoint(e){const r=pr().keyFromPublic(ee(this.publicKey)),n=pr().keyFromPublic(ee(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=pr().keyFromPrivate(ee(this.privateKey)),n=ee(e);n.length!==32&&ku.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Wi({recoveryParam:i.recoveryParam,r:ut("0x"+i.r.toString(16),32),s:ut("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=pr().keyFromPrivate(ee(this.privateKey)),n=pr().keyFromPublic(ee(Tu(e)));return ut("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function op(t,e){const r=Wi(e),n={r:ee(r.r),s:ee(r.s)};return"0x"+pr().recoverPubKey(ee(t),n,r.recoveryParam).encode("hex",!1)}function Tu(t,e){const r=ee(t);if(r.length===32){const n=new sp(r);return e?"0x"+pr().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?Z(r):"0x"+pr().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+pr().keyFromPublic(r).getPublic(!0,"hex"):Z(r)}return ku.throwArgumentError("invalid public or private key","key","[REDACTED]")}const ap="transactions/5.5.0",Nr=new I(ap);var Iu;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Iu||(Iu={}));function Vo(t){return t==="0x"?null:_t(t)}function St(t){return t==="0x"?Nf:j.from(t)}function fp(t){const e=Tu(t);return _t(_r(lt(_r(e,1)),12))}function Ru(t,e){return fp(op(ee(t),e))}function Bt(t,e){const r=Pn(j.from(t).toHexString());return r.length>32&&Nr.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function zo(t,e){return{address:_t(t),storageKeys:(e||[]).map((r,n)=>(fi(r)!==32&&Nr.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Jn(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Nr.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),zo(r[0],r[1])):zo(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return zo(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Ou(t){return Jn(t).map(e=>[e.address,e.storageKeys])}function up(t,e){if(t.gasPrice!=null){const n=j.from(t.gasPrice),i=j.from(t.maxFeePerGas||0);n.eq(i)||Nr.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Bt(t.chainId||0,"chainId"),Bt(t.nonce||0,"nonce"),Bt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Bt(t.maxFeePerGas||0,"maxFeePerGas"),Bt(t.gasLimit||0,"gasLimit"),t.to!=null?_t(t.to):"0x",Bt(t.value||0,"value"),t.data||"0x",Ou(t.accessList||[])];if(e){const n=Wi(e);r.push(Bt(n.recoveryParam,"recoveryParam")),r.push(Pn(n.r)),r.push(Pn(n.s))}return Ht(["0x02",es(r)])}function cp(t,e){const r=[Bt(t.chainId||0,"chainId"),Bt(t.nonce||0,"nonce"),Bt(t.gasPrice||0,"gasPrice"),Bt(t.gasLimit||0,"gasLimit"),t.to!=null?_t(t.to):"0x",Bt(t.value||0,"value"),t.data||"0x",Ou(t.accessList||[])];if(e){const n=Wi(e);r.push(Bt(n.recoveryParam,"recoveryParam")),r.push(Pn(n.r)),r.push(Pn(n.s))}return Ht(["0x01",es(r)])}function Mu(t,e,r){try{const n=St(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Nr.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=ut(e[1],32),t.s=ut(e[2],32);try{const n=lt(r(t));t.from=Ru(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch(n){console.log(n)}}function lp(t){const e=Ao(t.slice(1));e.length!==9&&e.length!==12&&Nr.throwArgumentError("invalid component count for transaction type: 2","payload",Z(t));const r=St(e[2]),n=St(e[3]),i={type:2,chainId:St(e[0]).toNumber(),nonce:St(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:St(e[4]),to:Vo(e[5]),value:St(e[6]),data:e[7],accessList:Jn(e[8])};return e.length===9||(i.hash=lt(t),Mu(i,e.slice(9),up)),i}function hp(t){const e=Ao(t.slice(1));e.length!==8&&e.length!==11&&Nr.throwArgumentError("invalid component count for transaction type: 1","payload",Z(t));const r={type:1,chainId:St(e[0]).toNumber(),nonce:St(e[1]).toNumber(),gasPrice:St(e[2]),gasLimit:St(e[3]),to:Vo(e[4]),value:St(e[5]),data:e[6],accessList:Jn(e[7])};return e.length===8||(r.hash=lt(t),Mu(r,e.slice(8),cp)),r}function dp(t){const e=Ao(t);e.length!==9&&e.length!==6&&Nr.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:St(e[0]).toNumber(),gasPrice:St(e[1]),gasLimit:St(e[2]),to:Vo(e[3]),value:St(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=j.from(e[6]).toNumber()}catch(n){return console.log(n),r}if(r.r=ut(e[7],32),r.s=ut(e[8],32),j.from(r.r).isZero()&&j.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(Z(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=lt(es(i));try{r.from=Ru(s,{r:Z(r.r),s:Z(r.s),recoveryParam:n})}catch(o){console.log(o)}r.hash=lt(t)}return r.type=null,r}function pp(t){const e=ee(t);if(e[0]>127)return dp(e);switch(e[0]){case 1:return hp(e);case 2:return lp(e)}return Nr.throwError(`unsupported transaction type: ${e[0]}`,I.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Wn=new I(mi);class J{constructor(){Wn.checkNew(new.target,J),this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),f=this.number.bind(this),c=this.type.bind(this),h=p=>this.data(p,!0);return e.transaction={hash:o,type:c,accessList:J.allowNull(this.accessList.bind(this),null),blockHash:J.allowNull(o,null),blockNumber:J.allowNull(f,null),transactionIndex:J.allowNull(f,null),confirmations:J.allowNull(f,null),from:r,gasPrice:J.allowNull(n),maxPriorityFeePerGas:J.allowNull(n),maxFeePerGas:J.allowNull(n),gasLimit:n,to:J.allowNull(r,null),value:n,nonce:f,data:s,r:J.allowNull(this.uint256),s:J.allowNull(this.uint256),v:J.allowNull(f),creates:J.allowNull(r,null),raw:J.allowNull(s)},e.transactionRequest={from:J.allowNull(r),nonce:J.allowNull(f),gasLimit:J.allowNull(n),gasPrice:J.allowNull(n),maxPriorityFeePerGas:J.allowNull(n),maxFeePerGas:J.allowNull(n),to:J.allowNull(r),value:J.allowNull(n),data:J.allowNull(h),type:J.allowNull(f),accessList:J.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:f,blockNumber:f,transactionHash:o,address:r,topics:J.arrayOf(o),data:s,logIndex:f,blockHash:o},e.receipt={to:J.allowNull(this.address,null),from:J.allowNull(this.address,null),contractAddress:J.allowNull(r,null),transactionIndex:f,root:J.allowNull(a),gasUsed:n,logsBloom:J.allowNull(s),blockHash:o,transactionHash:o,logs:J.arrayOf(this.receiptLog.bind(this)),blockNumber:f,confirmations:J.allowNull(f,null),cumulativeGasUsed:n,effectiveGasPrice:J.allowNull(n),status:J.allowNull(f),type:c},e.block={hash:o,parentHash:o,number:f,timestamp:f,nonce:J.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:r,extraData:s,transactions:J.allowNull(J.arrayOf(o)),baseFeePerGas:J.allowNull(n)},e.blockWithTransactions=bt(e.block),e.blockWithTransactions.transactions=J.allowNull(J.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:J.allowNull(i,void 0),toBlock:J.allowNull(i,void 0),blockHash:J.allowNull(o,void 0),address:J.allowNull(r,void 0),topics:J.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:J.allowNull(f),blockHash:J.allowNull(o),transactionIndex:f,removed:J.allowNull(this.boolean.bind(this)),address:r,data:J.allowFalsish(s,"0x"),topics:J.arrayOf(o),transactionHash:o,logIndex:f},e}accessList(e){return Jn(e||[])}number(e){return e==="0x"?0:j.from(e).toNumber()}type(e){return e==="0x"||e==null?0:j.from(e).toNumber()}bigNumber(e){return j.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),ge(e))?e.toLowerCase():Wn.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!=0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return _t(e)}callAddress(e){if(!ge(e,32))return null;const r=_t(_r(e,12));return r===Ah?null:r}contractAddress(e){return qf(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";if(e==="latest"||e==="pending")return e;if(typeof e=="number"||ge(e))return _o(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return fi(n)!==32?Wn.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=j.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!ge(e))throw new Error("invalid uint256");return ut(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=J.check(r,e);return i._difficulty=n==null?null:j.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return J.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&j.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=J.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;ge(n)&&(n=j.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),ge(n)&&(n=j.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return pp(e)}receiptLog(e){return J.check(this.formats.receiptLog,e)}receipt(e){const r=J.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=j.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&Wn.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Wn.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&Wn.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return J.check(this.formats.filter,e)}filterLog(e){return J.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}var fe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};const ye=new I(mi);function Pu(t){return t==null?"null":(fi(t)!==32&&ye.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Cu(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[Pu(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return Pu(e)}).join("&")}function gp(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Kn(t){if(typeof t=="string"){if(t=t.toLowerCase(),fi(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+Cu(t);if(wh.isForkEvent(t))throw ye.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+Cu(t.topics||[])}throw new Error("invalid event - "+t)}function vi(){return new Date().getTime()}function Du(t){return new Promise(e=>{setTimeout(e,t)})}const mp=["block","network","pending","poll"];class vp{constructor(e,r,n){F(this,"tag",e),F(this,"listener",r),F(this,"once",n)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=gp(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||mp.indexOf(this.tag)>=0}}const yp={"0":{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},"2":{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},"3":{symbol:"doge",p2pkh:30,p2sh:22},"60":{symbol:"eth",ilk:"eth"},"61":{symbol:"etc",ilk:"eth"},"700":{symbol:"xdai",ilk:"eth"}};function Ho(t){return ut(j.from(t).toHexString(),32)}function Lu(t){return Ef.encode(Rt([t,_r(vu(vu(t)),0,4)]))}const Bu=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),new RegExp("^(ipfs)://(.*)$","i"),new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function bp(t){try{return Ln(Fu(t))}catch{}return null}function Fu(t){if(t==="0x")return null;const e=j.from(_r(t,0,32)).toNumber(),r=j.from(_r(t,e,e+32)).toNumber();return _r(t,e+32,e+32+r)}class Uu{constructor(e,r,n,i){F(this,"provider",e),F(this,"name",n),F(this,"address",e.formatter.address(r)),F(this,"_resolvedAddress",i)}_fetchBytes(e,r){return fe(this,void 0,void 0,function*(){const n={to:this.address,data:Ht([e,Qi(this.name),r||"0x"])};try{return Fu(yield this.provider.call(n))}catch(i){return i.code===I.errors.CALL_EXCEPTION,null}})}_getAddress(e,r){const n=yp[String(e)];if(n==null&&ye.throwError(`unsupported coin type: ${e}`,I.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=ee(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Lu(Rt([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Lu(Rt([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=xu.toWords(i.slice(2));return a.unshift(o),xu.encode(n.prefix,a)}}return null}getAddress(e){return fe(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i={to:this.address,data:"0x3b3b57de"+Qi(this.name).substring(2)},s=yield this.provider.call(i);return s==="0x"||s===Ih?null:this.provider.formatter.callAddress(s)}catch(i){if(i.code===I.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Ho(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&ye.throwError("invalid or unsupported coin data",I.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return fe(this,void 0,void 0,function*(){const e=[];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<Bu.length;n++){const i=r.match(Bu[n]);if(i!=null)switch(i[1]){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:`https://gateway.ipfs.io/ipfs/${r.substring(7)}`};case"erc721":case"erc1155":{const s=i[1]==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:i[1],content:r});const o=this._resolvedAddress||(yield this.getAddress()),a=(i[2]||"").split("/");if(a.length!==2)return null;const f=yield this.provider.formatter.address(a[0]),c=ut(j.from(a[1]).toHexString(),32);if(i[1]==="erc721"){const E=this.provider.formatter.callAddress(yield this.provider.call({to:f,data:Ht(["0x6352211e",c])}));if(o!==E)return null;e.push({type:"owner",content:E})}else if(i[1]==="erc1155"){const E=j.from(yield this.provider.call({to:f,data:Ht(["0x00fdd58e",ut(o,32),c])}));if(E.isZero())return null;e.push({type:"balance",content:E.toString()})}const h={to:this.provider.formatter.address(a[0]),data:Ht([s,c])};let p=bp(yield this.provider.call(h));if(p==null)return null;e.push({type:"metadata-url",content:p}),i[1]==="erc1155"&&(p=p.replace("{id}",c.substring(2)));const b=yield bu(p);return!b||typeof b.image!="string"||!b.image.match(/^(https:\/\/|data:)/i)?null:(e.push({type:"metadata",content:JSON.stringify(b)}),e.push({type:"url",content:b.image}),{linkage:e,url:b.image})}}}}catch{}return null})}getContentHash(){return fe(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const i=parseInt(r[3],16);if(r[4].length===i*2)return"ipfs://"+Ef.encode("0x"+r[1])}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);return n&&n[1].length===32*2?"bzz://"+n[1]:ye.throwError("invalid or unsupported content hash data",I.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return fe(this,void 0,void 0,function*(){let r=ir(e);r=Rt([Ho(64),Ho(r.length),r]),r.length%32!=0&&(r=Rt([r,ut("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",Z(r));return n==null||n==="0x"?null:Ln(n)})}}let Jo=null,_p=1;class wp extends li{constructor(e){ye.checkNew(new.target,li);super();if(this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),F(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=nr(new.target,"getNetwork")(e);r?(F(this,"_network",r),this.emit("network",r,null)):ye.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return fe(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||ye.throwError("no network detected",I.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:F(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return gi(()=>this._ready().then(e=>e,e=>{if(!(e.code===I.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Jo==null&&(Jo=new J),Jo}static getNetwork(e){return Nh(e==null?"homestead":e)}_getInternalBlockNumber(e){return fe(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(vi()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=vi(),n=Nt({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=vi();return i=j.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return fe(this,void 0,void 0,function*(){const e=_p++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)ye.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",ye.makeError("network block skew detected",I.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{const s=i.filter;s.fromBlock=this._lastBlockNumber+1,s.toBlock=n;const o=this.getLogs(s).then(a=>{a.length!==0&&a.forEach(f=>{this._emitted["b:"+f.blockHash]=f.blockNumber,this._emitted["t:"+f.transactionHash]=f.blockNumber,this.emit(s,f)})}).catch(a=>{this.emit("error",a)});r.push(o);break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return fe(this,void 0,void 0,function*(){return ye.throwError("provider does not support network detection",I.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return fe(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield Du(0),this._network;const n=ye.makeError("underlying network changed",I.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=vi();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=vi(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return fe(this,void 0,void 0,function*(){return this._waitForTransaction(e,r==null?1:r,n||0,null)})}_waitForTransaction(e,r,n,i){return fe(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const f=[];let c=!1;const h=function(){return c?!0:(c=!0,f.forEach(b=>{b()}),!1)},p=b=>{b.confirmations<r||h()||o(b)};if(this.on(e,p),f.push(()=>{this.removeListener(e,p)}),i){let b=i.startBlock,E=null;const k=P=>fe(this,void 0,void 0,function*(){c||(yield Du(1e3),this.getTransactionCount(i.from).then(T=>fe(this,void 0,void 0,function*(){if(!c){if(T<=i.nonce)b=P;else{{const S=yield this.getTransaction(e);if(S&&S.blockNumber!=null)return}for(E==null&&(E=b-3,E<i.startBlock&&(E=i.startBlock));E<=P;){if(c)return;const S=yield this.getBlockWithTransactions(E);for(let O=0;O<S.transactions.length;O++){const D=S.transactions[O];if(D.hash===e)return;if(D.from===i.from&&D.nonce===i.nonce){if(c)return;const V=yield this.waitForTransaction(D.hash,r);if(h())return;let Y="replaced";D.data===i.data&&D.to===i.to&&D.value.eq(i.value)?Y="repriced":D.data==="0x"&&D.from===D.to&&D.value.isZero()&&(Y="cancelled"),a(ye.makeError("transaction was replaced",I.errors.TRANSACTION_REPLACED,{cancelled:Y==="replaced"||Y==="cancelled",reason:Y,replacement:this._wrapTransaction(D),hash:e,receipt:V}));return}}E++}}c||this.once("block",k)}}),T=>{c||this.once("block",k)}))});if(c)return;this.once("block",k),f.push(()=>{this.removeListener("block",k)})}if(typeof n=="number"&&n>0){const b=setTimeout(()=>{h()||a(ye.makeError("timeout exceeded",I.errors.TIMEOUT,{timeout:n}))},n);b.unref&&b.unref(),f.push(()=>{clearTimeout(b)})}})})}getBlockNumber(){return fe(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return fe(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return j.from(e)}catch(r){return ye.throwError("bad result from backend",I.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return fe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Nt({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return j.from(i)}catch(s){return ye.throwError("bad result from backend",I.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return fe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Nt({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return j.from(i).toNumber()}catch(s){return ye.throwError("bad result from backend",I.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return fe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Nt({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return Z(i)}catch(s){return ye.throwError("bad result from backend",I.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return fe(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Nt({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>_o(o))}),s=yield this.perform("getStorageAt",i);try{return Z(s)}catch(o){return ye.throwError("bad result from backend",I.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&fi(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&ye.throwError("Transaction hash mismatch from Provider.sendTransaction.",I.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>fe(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const f=yield this._waitForTransaction(e.hash,s,o,a);return f==null&&s===0?null:(this._emitted["t:"+e.hash]=f.blockNumber,f.status===0&&ye.throwError("transaction failed",I.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:f}),f)}),i}sendTransaction(e){return fe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>Z(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return fe(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?j.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s!=null?s:null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Z(s):null))}),this.formatter.transactionRequest(yield Nt(n))})}_getFilter(e){return fe(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Nt(r))})}call(e,r){return fe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Nt({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("call",n);try{return Z(i)}catch(s){return ye.throwError("bad result from backend",I.errors.SERVER_ERROR,{method:"call",params:n,result:i,error:s})}})}estimateGas(e){return fe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Nt({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return j.from(n)}catch(i){return ye.throwError("bad result from backend",I.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return fe(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&ye.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&ye.throwError("ENS name not configured",I.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return fe(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(ge(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),ge(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{ye.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return gi(()=>fe(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let f=0;f<s.transactions.length;f++){const c=s.transactions[f];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let h=o-c.blockNumber+1;h<=0&&(h=1),c.confirmations=h}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(f=>this._wrapTransaction(f)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return fe(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return gi(()=>fe(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return fe(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return gi(()=>fe(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return fe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Nt({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),J.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return fe(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return fe(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&ye.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return fe(this,void 0,void 0,function*(){try{const r=yield this._getResolver(e);return r==null?null:new Uu(this,r,e)}catch(r){return r.code===I.errors.CALL_EXCEPTION,null}})}_getResolver(e){return fe(this,void 0,void 0,function*(){const r=yield this.getNetwork();r.ensAddress||ye.throwError("network does not support ENS",I.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:r.name});const n={to:r.ensAddress,data:"0x0178b8bf"+Qi(e).substring(2)};try{return this.formatter.callAddress(yield this.call(n))}catch(i){if(i.code===I.errors.CALL_EXCEPTION)return null;throw i}})}resolveName(e){return fe(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(ge(e))throw n}typeof e!="string"&&ye.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return fe(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r);if(!n)return null;let i=ee(yield this.call({to:n,data:"0x691f3431"+Qi(r).substring(2)}));if(i.length<32||!j.from(i.slice(0,32)).eq(32)||(i=i.slice(32),i.length<32))return null;const s=j.from(i.slice(0,32)).toNumber();if(i=i.slice(32),s>i.length)return null;const o=Ln(i.slice(0,s));return(yield this.resolveName(o))!=e?null:o})}getAvatar(e){return fe(this,void 0,void 0,function*(){let r=null;if(ge(e)){const i=this.formatter.address(e),s=i.substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s);if(!o)return null;r=new Uu(this,o,"_",i)}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return ye.throwError(e+" not implemented",I.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new vp(Kn(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=Kn(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=Kn(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Kn(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Kn(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Kn(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}const xp="logger/5.6.0";let $u=!1,qu=!1;const hs={debug:1,default:2,info:2,warning:3,error:4,off:5};let ju=hs.default,Wo=null;function Ep(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const Gu=Ep();var Ko;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Ko||(Ko={}));var Xt;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(Xt||(Xt={}));const Vu="0123456789abcdef";class me{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();hs[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(ju>hs[n])&&console.log.apply(console,r)}debug(...e){this._log(me.levels.DEBUG,e)}info(...e){this._log(me.levels.INFO,e)}warn(...e){this._log(me.levels.WARNING,e)}makeError(e,r,n){if(qu)return this.makeError("censored error",r,{});r||(r=me.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(f=>{const c=n[f];try{if(c instanceof Uint8Array){let h="";for(let p=0;p<c.length;p++)h+=Vu[c[p]>>4],h+=Vu[c[p]&15];i.push(f+"=Uint8Array(0x"+h+")")}else i.push(f+"="+JSON.stringify(c))}catch{i.push(f+"="+JSON.stringify(n[f].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Xt.NUMERIC_FAULT:{o="NUMERIC_FAULT";const f=e;switch(f){case"overflow":case"underflow":case"division-by-zero":o+="-"+f;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Xt.CALL_EXCEPTION:case Xt.INSUFFICIENT_FUNDS:case Xt.MISSING_NEW:case Xt.NONCE_EXPIRED:case Xt.REPLACEMENT_UNDERPRICED:case Xt.TRANSACTION_REPLACED:case Xt.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(f){a[f]=n[f]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,me.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){Gu&&this.throwError("platform missing String.prototype.normalize",me.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Gu})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,me.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,me.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,me.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,me.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",me.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",me.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",me.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Wo||(Wo=new me(xp)),Wo}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",me.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$u){if(!e)return;this.globalLogger().throwError("error censorship permanent",me.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}qu=!!e,$u=!!r}static setLogLevel(e){const r=hs[e.toLowerCase()];if(r==null){me.globalLogger().warn("invalid log level - "+e);return}ju=r}static from(e){return new me(e)}}me.errors=Xt;me.levels=Ko;const Np="properties/5.6.0";var Ap=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};new me(Np);function Yo(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function ds(t){return Ap(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Sp(t){const e={};for(const r in t)e[r]=t[r];return e}const kp="abstract-signer/5.5.0";var Zt=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};const Ft=new me(kp),Tp=["accessList","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Ip=[me.errors.INSUFFICIENT_FUNDS,me.errors.NONCE_EXPIRED,me.errors.REPLACEMENT_UNDERPRICED];class yi{constructor(){Ft.checkAbstract(new.target,yi),Yo(this,"_isSigner",!0)}getBalance(e){return Zt(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Zt(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Zt(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield ds(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Zt(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield ds(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Zt(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Zt(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Zt(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Zt(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Zt(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)Tp.indexOf(n)===-1&&Ft.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Sp(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Ft.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Zt(this,void 0,void 0,function*(){const r=yield ds(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Zt(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Ft.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Ft.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Ft.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Ft.throwError("network does not support EIP-1559",me.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Ft.throwError("failed to get consistent fee data",me.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(Ip.indexOf(i.code)>=0)throw i;return Ft.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",me.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Ft.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield ds(r)})}_checkProvider(e){this.provider||Ft.throwError("missing provider",me.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class ps extends yi{constructor(e,r){Ft.checkNew(new.target,ps);super();Yo(this,"address",e),Yo(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Ft.throwError(e,me.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new ps(this.address,e)}}var Ar=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};const xt=new I(mi),Rp=["call","estimateGas"];function zu(t,e,r){if(t==="call"&&e.code===I.errors.SERVER_ERROR){const s=e.error;if(s&&s.message.match("reverted")&&ge(s.data))return s.data;xt.throwError("missing revert data in call exception",I.errors.CALL_EXCEPTION,{error:e,data:"0x"})}let n=e.message;e.code===I.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText),n=(n||"").toLowerCase();const i=r.transaction||r.signedTransaction;throw n.match(/insufficient funds|base fee exceeds gas limit/)&&xt.throwError("insufficient funds for intrinsic transaction cost",I.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:i}),n.match(/nonce too low/)&&xt.throwError("nonce has already been used",I.errors.NONCE_EXPIRED,{error:e,method:t,transaction:i}),n.match(/replacement transaction underpriced/)&&xt.throwError("replacement fee too low",I.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:i}),n.match(/only replay-protected/)&&xt.throwError("legacy pre-eip-155 transactions not supported",I.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:i}),Rp.indexOf(t)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&xt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",I.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:i}),e}function Hu(t){return new Promise(function(e){setTimeout(e,t)})}function Op(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function bi(t){return t&&t.toLowerCase()}const Xo={};class gs extends yi{constructor(e,r,n){xt.checkNew(new.target,gs);super();if(e!==Xo)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");F(this,"provider",r),n==null&&(n=0),typeof n=="string"?(F(this,"_address",this.provider.formatter.address(n)),F(this,"_index",null)):typeof n=="number"?(F(this,"_index",n),F(this,"_address",null)):xt.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return xt.throwError("cannot alter JSON-RPC Signer connection",I.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Mp(Xo,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&xt.throwError("unknown account #"+this._index,I.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=bt(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=bt(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Ar(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&xt.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Nt({tx:Nt(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&xt.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>zu("sendTransaction",o,s))})}signTransaction(e){return xt.throwError("signing transactions is unsupported",I.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Ar(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield gi(()=>Ar(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Ar(this,void 0,void 0,function*(){const r=typeof e=="string"?ir(e):e,n=yield this.getAddress();return yield this.provider.send("personal_sign",[Z(r),n.toLowerCase()])})}_legacySignMessage(e){return Ar(this,void 0,void 0,function*(){const r=typeof e=="string"?ir(e):e,n=yield this.getAddress();return yield this.provider.send("eth_sign",[n.toLowerCase(),Z(r)])})}_signTypedData(e,r,n){return Ar(this,void 0,void 0,function*(){const i=yield Dt.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Dt.getPayload(i.domain,r,i.value))])})}unlock(e){return Ar(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class Mp extends gs{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const Pp={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class ms extends wp{constructor(e,r){xt.checkNew(new.target,ms);let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)}));super(n);e||(e=nr(this.constructor,"defaultUrl")()),typeof e=="string"?F(this,"connection",Object.freeze({url:e})):F(this,"connection",Object.freeze(bt(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Ar(this,void 0,void 0,function*(){yield Hu(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=nr(this.constructor,"getNetwork");try{return r(j.from(e).toNumber())}catch(n){return xt.throwError("could not detect network",I.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return xt.throwError("could not detect network",I.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new gs(Xo,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:wr(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=bu(this.connection,JSON.stringify(n),Op).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[bi(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[bi(r.address),r.blockTag]];case"getCode":return["eth_getCode",[bi(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[bi(r.address),r.position,r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":{const n=nr(this.constructor,"hexlifyTransaction");return["eth_call",[n(r.transaction,{from:!0}),r.blockTag]]}case"estimateGas":{const n=nr(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(r.transaction,{from:!0})]]}case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=bi(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Ar(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&j.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=bt(r),r.transaction=bt(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&xt.throwError(e+" not implemented",I.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return zu(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(f){return e.emit("pending",f),null})})}),o.then(function(){return Hu(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=bt(Pp);if(r)for(const s in r)r[s]&&(n[s]=!0);gh(e,n);const i={};return["gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=_o(e[s]);s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=Z(e[s]))}),e.accessList&&(i.accessList=Jn(e.accessList)),i}}const Zo=new I(mi);let Cp=1;function Ju(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:Cp++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:r,request:wr(s),provider:this}),e(s,(f,c)=>{if(f)return this.emit("debug",{action:"response",fetcher:r,error:f,request:s,provider:this}),a(f);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:c,provider:this}),c.error){const h=new Error(c.error.message);return h.code=c.error.code,h.data=c.error.data,a(h)}o(c.result)})})}}function Dp(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:wr(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class _i extends ms{constructor(e,r){Zo.checkNew(new.target,_i),e==null&&Zo.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=Dp(e)):e.sendAsync?i=Ju(e,e.sendAsync.bind(e)):e.send?i=Ju(e,e.send.bind(e)):Zo.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:"));super(n,r);F(this,"jsonRpcFetchFunc",i),F(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}new I(mi);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qo=function(t,e){return Qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Qo(t,e)};function Lp(t,e){Qo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var z=function(){return z=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},z.apply(this,arguments)};function Wu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bp(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function zr(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Bp(arguments[e]));return t}var mn;(function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"})(mn||(mn={}));var Ku;(function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"})(Ku||(Ku={}));var Yn;(function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"})(Yn||(Yn={}));var ea;(function(t){t.BeforeSend="before_send",t.EventProcessor="event_processor",t.NetworkError="network_error",t.QueueOverflow="queue_overflow",t.RateLimitBackoff="ratelimit_backoff",t.SampleRate="sample_rate"})(ea||(ea={}));function vs(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function Hr(t,e){return t.require(e)}function Fp(t){var e;try{e=Hr(module,t)}catch{}try{var r=Hr(module,"process").cwd;e=Hr(module,r()+"/node_modules/"+t)}catch{}return e}var Up={};function Vt(){return vs()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:Up}function Yu(t){return Object.prototype.toString.call(t)==="[object String]"}function Xu(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zu(t){return Boolean(t&&t.then&&typeof t.then=="function")}function ta(t,e){try{return t instanceof e}catch{return!1}}var vn=Vt(),ra="Sentry Logger ";function ys(t){var e=Vt(),r=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var n=e.console,i={};r.forEach(function(o){o in e.console&&n[o].__sentry_original__&&(i[o]=n[o],n[o]=n[o].__sentry_original__)});var s=t();return Object.keys(i).forEach(function(o){n[o]=i[o]}),s}var $p=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||ys(function(){vn.console.log(ra+"[Log]: "+e.join(" "))})},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||ys(function(){vn.console.warn(ra+"[Warn]: "+e.join(" "))})},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||ys(function(){vn.console.error(ra+"[Error]: "+e.join(" "))})},t}();vn.__SENTRY__=vn.__SENTRY__||{};var kt=vn.__SENTRY__.logger||(vn.__SENTRY__.logger=new $p),na="<anonymous>";function qp(t){try{return!t||typeof t!="function"?na:t.name||na}catch{return na}}function Sr(t,e,r){if(e in t){var n=t[e],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch{}t[e]=i}}function Jr(t){var e,r;if(Xu(t)){var n=t,i={};try{for(var s=Wu(Object.keys(n)),o=s.next();!o.done;o=s.next()){var a=o.value;typeof n[a]!="undefined"&&(i[a]=Jr(n[a]))}}catch(f){e={error:f}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(Jr):t}function jp(){if(!("fetch"in Vt()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function Qu(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Gp(){if(!jp())return!1;var t=Vt();if(Qu(t.fetch))return!0;var e=!1,r=t.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Qu(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){kt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}function Vp(){var t=Vt(),e=t.chrome,r=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!r&&n}var et=Vt(),wi={},ec={};function zp(t){if(!ec[t])switch(ec[t]=!0,t){case"console":Hp();break;case"dom":tg();break;case"xhr":Yp();break;case"fetch":Jp();break;case"history":Xp();break;case"error":rg();break;case"unhandledrejection":ng();break;default:kt.warn("unknown instrumentation type:",t)}}function tc(t){!t||typeof t.type!="string"||typeof t.callback!="function"||(wi[t.type]=wi[t.type]||[],wi[t.type].push(t.callback),zp(t.type))}function Qt(t,e){var r,n;if(!(!t||!wi[t]))try{for(var i=Wu(wi[t]||[]),s=i.next();!s.done;s=i.next()){var o=s.value;try{o(e)}catch(a){kt.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+qp(o)+`
Error: `+a)}}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function Hp(){"console"in et&&["debug","info","warn","error","log","assert"].forEach(function(t){t in et.console&&Sr(et.console,t,function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];Qt("console",{args:r,level:t}),e&&Function.prototype.apply.call(e,et.console,r)}})})}function Jp(){!Gp()||Sr(et,"fetch",function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n={args:e,fetchData:{method:Wp(e),url:Kp(e)},startTimestamp:Date.now()};return Qt("fetch",z({},n)),t.apply(et,e).then(function(i){return Qt("fetch",z(z({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw Qt("fetch",z(z({},n),{endTimestamp:Date.now(),error:i})),i})}})}function Wp(t){return t===void 0&&(t=[]),"Request"in et&&ta(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function Kp(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in et&&ta(t[0],Request)?t[0].url:String(t[0])}function Yp(){if("XMLHttpRequest"in et){var t=[],e=[],r=XMLHttpRequest.prototype;Sr(r,"open",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=this,a=i[1];o.__sentry_xhr__={method:Yu(i[0])?i[0].toUpperCase():i[0],url:i[1]},Yu(a)&&o.__sentry_xhr__.method==="POST"&&a.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var f=function(){if(o.readyState===4){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch{}try{var c=t.indexOf(o);if(c!==-1){t.splice(c);var h=e.splice(c)[0];o.__sentry_xhr__&&h[0]!==void 0&&(o.__sentry_xhr__.body=h[0])}}catch{}Qt("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&typeof o.onreadystatechange=="function"?Sr(o,"onreadystatechange",function(c){return function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return f(),c.apply(o,h)}}):o.addEventListener("readystatechange",f),n.apply(o,i)}}),Sr(r,"send",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return t.push(this),e.push(i),Qt("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}var bs;function Xp(){if(!Vp())return;var t=et.onpopstate;et.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=et.location.href,s=bs;if(bs=i,Qt("history",{from:s,to:i}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=n.length>2?n[2]:void 0;if(s){var o=bs,a=String(s);bs=a,Qt("history",{from:o,to:a})}return r.apply(this,n)}}Sr(et.history,"pushState",e),Sr(et.history,"replaceState",e)}var Zp=1e3,_s,ws;function Qp(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch{}return!1}function eg(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function rc(t,e){return e===void 0&&(e=!1),function(r){if(!(!r||ws===r)&&!eg(r)){var n=r.type==="keypress"?"input":r.type;_s===void 0?(t({event:r,name:n,global:e}),ws=r):Qp(ws,r)&&(t({event:r,name:n,global:e}),ws=r),clearTimeout(_s),_s=et.setTimeout(function(){_s=void 0},Zp)}}}function tg(){if("document"in et){var t=Qt.bind(null,"dom"),e=rc(t,!0);et.document.addEventListener("click",e,!1),et.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(r){var n=et[r]&&et[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Sr(n,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{var f=this,c=f.__sentry_instrumentation_handlers__=f.__sentry_instrumentation_handlers__||{},h=c[s]=c[s]||{refCount:0};if(!h.handler){var p=rc(t);h.handler=p,i.call(this,s,p,a)}h.refCount+=1}catch{}return i.call(this,s,o,a)}}),Sr(n,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{var f=this,c=f.__sentry_instrumentation_handlers__||{},h=c[s];h&&(h.refCount-=1,h.refCount<=0&&(i.call(this,s,h.handler,a),h.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete f.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}}var ia=null;function rg(){ia=et.onerror,et.onerror=function(t,e,r,n,i){return Qt("error",{column:n,error:i,line:r,msg:t,url:e}),ia?ia.apply(this,arguments):!1}}var sa=null;function ng(){sa=et.onunhandledrejection,et.onunhandledrejection=function(t){return Qt("unhandledrejection",t),sa?sa.apply(this,arguments):!0}}function yn(){var t=Vt(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var r=new Uint16Array(8);e.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,o=i==="x"?s:s&3|8;return o.toString(16)})}var ig=function(){function t(e){var r=this;this._state="PENDING",this._handlers=[],this._resolve=function(n){r._setResult("RESOLVED",n)},this._reject=function(n){r._setResult("REJECTED",n)},this._setResult=function(n,i){if(r._state==="PENDING"){if(Zu(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!=="PENDING"){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state==="RESOLVED"&&i.onfulfilled&&i.onfulfilled(r._value),r._state==="REJECTED"&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return t.resolve=function(e){return new t(function(r){r(e)})},t.reject=function(e){return new t(function(r,n){n(e)})},t.all=function(e){return new t(function(r,n){if(!Array.isArray(e)){n(new TypeError("Promise.all requires an array as input."));return}if(e.length===0){r([]);return}var i=e.length,s=[];e.forEach(function(o,a){t.resolve(o).then(function(f){s[a]=f,i-=1,i===0&&r(s)}).then(null,n)})})},t.prototype.then=function(e,r){var n=this;return new t(function(i,s){n._attachHandler({done:!1,onfulfilled:function(o){if(!e){i(o);return}try{i(e(o));return}catch(a){s(a);return}},onrejected:function(o){if(!r){s(o);return}try{i(r(o));return}catch(a){s(a);return}}})})},t.prototype.catch=function(e){return this.then(function(r){return r},e)},t.prototype.finally=function(e){var r=this;return new t(function(n,i){var s,o;return r.then(function(a){o=!1,s=a,e&&e()},function(a){o=!0,s=a,e&&e()}).then(function(){if(o){i(s);return}n(s)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),oa={nowSeconds:function(){return Date.now()/1e3}};function sg(){var t=Vt().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}function og(){try{var t=Hr(module,"perf_hooks");return t.performance}catch{return}}var aa=vs()?og():sg(),nc=aa===void 0?oa:{nowSeconds:function(){return(aa.timeOrigin+aa.now())/1e3}},ic=oa.nowSeconds.bind(oa),fa=nc.nowSeconds.bind(nc),sc=fa;(function(){var t=Vt().performance;if(!(!t||!t.now)){var e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,o=t.timing&&t.timing.navigationStart,a=typeof o=="number",f=a?Math.abs(o+r-n):e,c=f<e;return s||c?i<=f?t.timeOrigin:o:n}})();var oc=100,ua=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var r=new t;return e&&(r._breadcrumbs=zr(e._breadcrumbs),r._tags=z({},e._tags),r._extra=z({},e._extra),r._contexts=z({},e._contexts),r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=zr(e._eventProcessors),r._requestSession=e._requestSession),r},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(e){return this._requestSession=e,this},t.prototype.setTags=function(e){return this._tags=z(z({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,r){var n;return this._tags=z(z({},this._tags),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=z(z({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,r){var n;return this._extra=z(z({},this._extra),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,r){var n;return r===null?delete this._contexts[e]:this._contexts=z(z({},this._contexts),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e,r,n,i,s=this.getSpan();if((e=s)===null||e===void 0?void 0:e.transaction)return(r=s)===null||r===void 0?void 0:r.transaction;if((i=(n=s)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return s.spanRecorder.spans[0]},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags=z(z({},this._tags),e._tags),this._extra=z(z({},this._extra),e._extra),this._contexts=z(z({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Xu(e)&&(e=e,this._tags=z(z({},this._tags),e.tags),this._extra=z(z({},this._extra),e.extra),this._contexts=z(z({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,r){var n=typeof r=="number"?Math.min(r,oc):oc;if(n<=0)return this;var i=z({timestamp:ic()},e);return this._breadcrumbs=zr(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,r){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=z(z({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=z(z({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=z(z({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=z(z({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=z({trace:this._span.getTraceContext()},e.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(e.tags=z({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=zr(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(zr(ag(),this._eventProcessors),e,r)},t.prototype._notifyEventProcessors=function(e,r,n,i){var s=this;return i===void 0&&(i=0),new ig(function(o,a){var f=e[i];if(r===null||typeof f!="function")o(r);else{var c=f(z({},r),n);Zu(c)?c.then(function(h){return s._notifyEventProcessors(e,h,n,i+1).then(o)}).then(null,a):s._notifyEventProcessors(e,c,n,i+1).then(o).then(null,a)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();function ag(){var t=Vt();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}var fg=function(){function t(e){this.errors=0,this.sid=yn(),this.duration=0,this.status=mn.Ok,this.init=!0,this.ignoreDuration=!1;var r=fa();this.timestamp=r,this.started=r,e&&this.update(e)}return t.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||fa(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:yn()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status===mn.Ok?this.update({status:mn.Exited}):this.update()},t.prototype.toJSON=function(){return Jr({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:Jr({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),ca=4,ug=100,xs=function(){function t(e,r,n){r===void 0&&(r=new ua),n===void 0&&(n=ca),this._version=n,this._stack=[{}],this.getStackTop().scope=r,e&&this.bindClient(e)}return t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=ua.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var r=this.pushScope();try{e(r)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,r){var n=this._lastEventId=yn(),i=r;if(!r){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(o){s=o}i={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,z(z({},i),{event_id:n})),n},t.prototype.captureMessage=function(e,r,n){var i=this._lastEventId=yn(),s=n;if(!n){var o=void 0;try{throw new Error(e)}catch(a){o=a}s={originalException:e,syntheticException:o}}return this._invokeClient("captureMessage",e,r,z(z({},s),{event_id:i})),i},t.prototype.captureEvent=function(e,r){var n=yn();return e.type!=="transaction"&&(this._lastEventId=n),this._invokeClient("captureEvent",e,z(z({},r),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,r){var n=this.getStackTop(),i=n.scope,s=n.client;if(!(!i||!s)){var o=s.getOptions&&s.getOptions()||{},a=o.beforeBreadcrumb,f=a===void 0?null:a,c=o.maxBreadcrumbs,h=c===void 0?ug:c;if(!(h<=0)){var p=ic(),b=z({timestamp:p},e),E=f?ys(function(){return f(b,r)}):b;E!==null&&i.addBreadcrumb(E,h)}}},t.prototype.setUser=function(e){var r=this.getScope();r&&r.setUser(e)},t.prototype.setTags=function(e){var r=this.getScope();r&&r.setTags(e)},t.prototype.setExtras=function(e){var r=this.getScope();r&&r.setExtras(e)},t.prototype.setTag=function(e,r){var n=this.getScope();n&&n.setTag(e,r)},t.prototype.setExtra=function(e,r){var n=this.getScope();n&&n.setExtra(e,r)},t.prototype.setContext=function(e,r){var n=this.getScope();n&&n.setContext(e,r)},t.prototype.configureScope=function(e){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&e(n)},t.prototype.run=function(e){var r=ac(this);try{e(this)}finally{ac(r)}},t.prototype.getIntegration=function(e){var r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return kt.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,r){return this._callExtensionMethod("startTransaction",e,r)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var e,r,n,i,s;(n=(r=(e=this.getStackTop())===null||e===void 0?void 0:e.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(s=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||s===void 0||s.setSession()},t.prototype.startSession=function(e){var r=this.getStackTop(),n=r.scope,i=r.client,s=i&&i.getOptions()||{},o=s.release,a=s.environment,f=Vt(),c=(f.navigator||{}).userAgent,h=new fg(z(z(z({release:o,environment:a},n&&{user:n.getUser()}),c&&{userAgent:c}),e));if(n){var p=n.getSession&&n.getSession();p&&p.status===mn.Ok&&p.update({status:mn.Exited}),this.endSession(),n.setSession(h)}return h},t.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),r=e.scope,n=e.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(e){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),o=s.scope,a=s.client;a&&a[e]&&(r=a)[e].apply(r,zr(n,[o]))},t.prototype._callExtensionMethod=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=Xn(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,r);kt.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();function Xn(){var t=Vt();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function ac(t){var e=Xn(),r=Wr(e);return la(e,t),r}function Es(){var t=Xn();return(!fc(t)||Wr(t).isOlderThan(ca))&&la(t,new xs),vs()?cg(t):Wr(t)}function cg(t){var e,r,n;try{var i=(n=(r=(e=Xn().__SENTRY__)===null||e===void 0?void 0:e.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return Wr(t);if(!fc(i)||Wr(i).isOlderThan(ca)){var s=Wr(t).getStackTop();la(i,new xs(s.client,ua.clone(s.scope)))}return Wr(i)}catch{return Wr(t)}}function fc(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Wr(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new xs),t.__SENTRY__.hub}function la(t,e){return t?(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0):!1}function lg(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Es();if(n&&n[t])return n[t].apply(n,zr(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function j1(t){lg("setUser",t)}var kr;(function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"})(kr||(kr={}));(function(t){function e(r){if(r<400&&r>=100)return t.Ok;if(r>=400&&r<500)switch(r){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}t.fromHttpCode=e})(kr||(kr={}));function hg(t){t===void 0&&(t=(e=Es().getClient())===null||e===void 0?void 0:e.getOptions());var e;return!!t&&("tracesSampleRate"in t||"tracesSampler"in t)}function dg(t){t===void 0&&(t=Es());var e,r;return(r=(e=t)===null||e===void 0?void 0:e.getScope())===null||r===void 0?void 0:r.getTransaction()}function pg(){tc({callback:uc,type:"error"}),tc({callback:uc,type:"unhandledrejection"})}function uc(){var t=dg();t&&(kt.log("[Tracing] Transaction: "+kr.InternalError+" -> Global error occured"),t.setStatus(kr.InternalError))}var gg=function(){function t(e){e===void 0&&(e=1e3),this.spans=[],this._maxlen=e}return t.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},t}(),mg=function(){function t(e){if(this.traceId=yn(),this.spanId=yn().substring(16),this.startTimestamp=sc(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return t.prototype.child=function(e){return this.startChild(e)},t.prototype.startChild=function(e){var r=new t(z(z({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},t.prototype.setTag=function(e,r){var n;return this.tags=z(z({},this.tags),(n={},n[e]=r,n)),this},t.prototype.setData=function(e,r){var n;return this.data=z(z({},this.data),(n={},n[e]=r,n)),this},t.prototype.setStatus=function(e){return this.status=e,this},t.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var r=kr.fromHttpCode(e);return r!==kr.UnknownError&&this.setStatus(r),this},t.prototype.isSuccess=function(){return this.status===kr.Ok},t.prototype.finish=function(e){this.endTimestamp=typeof e=="number"?e:sc()},t.prototype.toTraceparent=function(){var e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},t.prototype.toContext=function(){return Jr({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(e){var r,n,i,s,o;return this.data=(r=e.data,r!=null?r:{}),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(n=e.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=e.startTimestamp,i!=null?i:this.startTimestamp),this.status=e.status,this.tags=(s=e.tags,s!=null?s:{}),this.traceId=(o=e.traceId,o!=null?o:this.traceId),this},t.prototype.getTraceContext=function(){return Jr({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Jr({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}(),vg=function(t){Lp(e,t);function e(r,n){var i=t.call(this,r)||this;return i._measurements={},i._hub=Es(),ta(n,xs)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return e.prototype.setName=function(r){this.name=r},e.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new gg(r)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(r){this._measurements=z({},r)},e.prototype.setMetadata=function(r){this.metadata=z(z({},this.metadata),r)},e.prototype.finish=function(r){var n=this,i,s,o,a,f;if(this.endTimestamp===void 0){if(this.name||(kt.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,r),this.sampled!==!0){kt.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),(f=(o=(i=this._hub.getClient())===null||i===void 0?void 0:(s=i).getTransport)===null||o===void 0?void 0:(a=o.call(s)).recordLostEvent)===null||f===void 0||f.call(a,ea.SampleRate,"transaction");return}var c=this.spanRecorder?this.spanRecorder.spans.filter(function(b){return b!==n&&b.endTimestamp}):[];this._trimEnd&&c.length>0&&(this.endTimestamp=c.reduce(function(b,E){return b.endTimestamp&&E.endTimestamp?b.endTimestamp>E.endTimestamp?b:E:b}).endTimestamp);var h={contexts:{trace:this.getTraceContext()},spans:c,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},p=Object.keys(this._measurements).length>0;return p&&(kt.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),h.measurements=this._measurements),kt.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(h)}},e.prototype.toContext=function(){var r=t.prototype.toContext.call(this);return Jr(z(z({},r),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(r){var n;return t.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},e}(mg);function yg(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function bg(t,e,r){if(!hg(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({transactionSampling:{method:Yn.Explicit}}),t;var n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({transactionSampling:{method:Yn.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,t.setMetadata({transactionSampling:{method:Yn.Inheritance}})):(n=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:Yn.Rate,rate:Number(n)}})),_g(n)?n?(t.sampled=Math.random()<n,t.sampled?(kt.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(kt.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),t)):(kt.log("[Tracing] Discarding transaction because "+(typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(kt.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function _g(t){return isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(kt.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1):t<0||t>1?(kt.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1):!0}function wg(t,e){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},s=new vg(t,this);return s=bg(s,i,z({parentSampled:t.parentSampled,transactionContext:t},e)),s.sampled&&s.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),s}function xg(){var t=Xn();!t.__SENTRY__||(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=wg),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=yg))}function Eg(){var t=Xn();if(!!t.__SENTRY__){var e={mongodb:function(){var n=Hr(module,"./integrations/node/mongo");return new n.Mongo},mongoose:function(){var n=Hr(module,"./integrations/node/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=Hr(module,"./integrations/node/mysql");return new n.Mysql},pg:function(){var n=Hr(module,"./integrations/node/postgres");return new n.Postgres}},r=Object.keys(e).filter(function(n){return!!Fp(n)}).map(function(n){try{return e[n]()}catch{return}}).filter(function(n){return n});r.length>0&&(t.__SENTRY__.integrations=zr(t.__SENTRY__.integrations||[],r))}}function Ng(){xg(),vs()&&Eg(),pg()}Ng();const xi="abi/5.5.0",he=new I(xi),bn={};let cc={calldata:!0,memory:!0,storage:!0},Ag={calldata:!0,memory:!0};function Ns(t,e){if(t==="bytes"||t==="string"){if(cc[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&Ag[e])return!0;return(cc[e]||e==="payable")&&he.throwArgumentError("invalid modifier","name",e),!1}function Sg(t,e){let r=t;function n(a){he.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let f={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(f.indexed=!1),f}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let f=t[a];switch(f){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=Zn(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Ns(o.type,o.name)&&(o.name=""),o.type=Zn(o.type);let c=o;o=o.parent,o||n(a),delete c.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Ns(o.type,o.name)&&(o.name=""),o.type=Zn(o.type);let h=i(o.parent);o.parent.components.push(h),delete o.parent,o=h;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Zn(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):Ns(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=f,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=f,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=f,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=f,delete o.state.allowArray):o.state.readArray?o.type+=f:n(a)}}return o.parent&&he.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Ns(o.type,o.name)&&(o.name=""),s.type=Zn(s.type),s}function As(t,e){for(let r in e)F(t,r,e[r])}const pe=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),kg=new RegExp(/^(.*)\[([0-9]*)\]$/);class yt{constructor(e,r){e!==bn&&he.throwError("use fromString",I.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),As(this,r);let n=this.type.match(kg);n?As(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:yt.fromObject({type:n[1],components:this.components}),baseType:"array"}):As(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=pe.sighash),pe[e]||he.throwArgumentError("invalid format type","format",e),e===pe.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==pe.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===pe.full?", ":",")+")"):r+=this.type,e!==pe.sighash&&(this.indexed===!0&&(r+=" indexed"),e===pe.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?yt.fromString(e,r):yt.fromObject(e)}static fromObject(e){return yt.isParamType(e)?e:new yt(bn,{name:e.name||null,type:Zn(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(yt.fromObject):null})}static fromString(e,r){function n(i){return yt.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(Sg(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Ei(t,e){return Ig(t).map(r=>yt.fromString(r,e))}class Tr{constructor(e,r){e!==bn&&he.throwError("use a static from method",I.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),As(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Tr.isFragment(e)?e:typeof e=="string"?Tr.fromString(e):Tr.fromObject(e)}static fromObject(e){if(Tr.isFragment(e))return e;switch(e.type){case"function":return mr.fromObject(e);case"event":return Ir.fromObject(e);case"constructor":return gr.fromObject(e);case"error":return Kr.fromObject(e);case"fallback":case"receive":return null}return he.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Ir.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?mr.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?gr.fromString(e.trim()):e.split(" ")[0]==="error"?Kr.fromString(e.substring(5).trim()):he.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Ir extends Tr{format(e){if(e||(e=pe.sighash),pe[e]||he.throwArgumentError("invalid format type","format",e),e===pe.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==pe.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===pe.full?", ":",")+") ",e!==pe.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Ir.fromString(e):Ir.fromObject(e)}static fromObject(e){if(Ir.isEventFragment(e))return e;e.type!=="event"&&he.throwArgumentError("invalid event object","value",e);const r={name:Ni(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(yt.fromObject):[],type:"event"};return new Ir(bn,r)}static fromString(e){let r=e.match(Ai);r||he.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:he.warn("unknown modifier: "+i)}}),Ir.fromObject({name:r[1].trim(),anonymous:n,inputs:Ei(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function lc(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&he.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||he.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=j.from(r[1]),r[0]):t}function hc(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function dc(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&he.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&he.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&he.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&he.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&he.throwArgumentError("unable to determine stateMutability","value",t),e}class gr extends Tr{format(e){if(e||(e=pe.sighash),pe[e]||he.throwArgumentError("invalid format type","format",e),e===pe.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===pe.sighash&&he.throwError("cannot format a constructor for sighash",I.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===pe.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?gr.fromString(e):gr.fromObject(e)}static fromObject(e){if(gr.isConstructorFragment(e))return e;e.type!=="constructor"&&he.throwArgumentError("invalid constructor object","value",e);let r=dc(e);r.constant&&he.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(yt.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?j.from(e.gas):null};return new gr(bn,n)}static fromString(e){let r={type:"constructor"};e=lc(e,r);let n=e.match(Ai);return(!n||n[1].trim()!=="constructor")&&he.throwArgumentError("invalid constructor string","value",e),r.inputs=Ei(n[2].trim(),!1),hc(n[3].trim(),r),gr.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class mr extends gr{format(e){if(e||(e=pe.sighash),pe[e]||he.throwArgumentError("invalid format type","format",e),e===pe.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==pe.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===pe.full?", ":",")+") ",e!==pe.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?mr.fromString(e):mr.fromObject(e)}static fromObject(e){if(mr.isFunctionFragment(e))return e;e.type!=="function"&&he.throwArgumentError("invalid function object","value",e);let r=dc(e);const n={type:e.type,name:Ni(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(yt.fromObject):[],outputs:e.outputs?e.outputs.map(yt.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?j.from(e.gas):null};return new mr(bn,n)}static fromString(e){let r={type:"function"};e=lc(e,r);let n=e.split(" returns ");n.length>2&&he.throwArgumentError("invalid function string","value",e);let i=n[0].match(Ai);if(i||he.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Ni(r.name),r.inputs=Ei(i[2],!1),hc(i[3].trim(),r),n.length>1){let s=n[1].match(Ai);(s[1].trim()!=""||s[3].trim()!="")&&he.throwArgumentError("unexpected tokens","value",e),r.outputs=Ei(s[2],!1)}else r.outputs=[];return mr.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function pc(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&he.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Kr extends Tr{format(e){if(e||(e=pe.sighash),pe[e]||he.throwArgumentError("invalid format type","format",e),e===pe.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==pe.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===pe.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Kr.fromString(e):Kr.fromObject(e)}static fromObject(e){if(Kr.isErrorFragment(e))return e;e.type!=="error"&&he.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Ni(e.name),inputs:e.inputs?e.inputs.map(yt.fromObject):[]};return pc(new Kr(bn,r))}static fromString(e){let r={type:"error"},n=e.match(Ai);return n||he.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Ni(r.name),r.inputs=Ei(n[2],!1),pc(Kr.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Zn(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Tg=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Ni(t){return(!t||!t.match(Tg))&&he.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Ai=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Ig(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&he.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const ha=new I(xi);function Rg(t){const e=[],r=function(n,i){if(!!Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class Rr{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){ha.throwArgumentError(e,this.localName,r)}}class da{constructor(e){F(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Ht(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Rt(e._data))}writeBytes(e){let r=ee(e);const n=r.length%this.wordSize;return n&&(r=Rt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=ee(j.from(e));return r.length>this.wordSize&&ha.throwError("value out-of-bounds",I.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Rt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class Ss{constructor(e,r,n,i){F(this,"_data",ee(e)),F(this,"wordSize",r||32),F(this,"_coerceFunc",n),F(this,"allowLoose",i),this._offset=0}get data(){return Z(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Ss.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:ha.throwError("data out-of-bounds",I.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Ss(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return j.from(this.readBytes(this.wordSize))}}class Og extends Rr{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=_t(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return _t(ut(e.readValue().toHexString(),20))}}class Mg extends Rr{constructor(e){super(e.name,e.type,void 0,e.dynamic);this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const Qn=new I(xi);function gc(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let f={};n=e.map(c=>{const h=c.localName;return h||Qn.throwError("cannot encode object for signature with missing names",I.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:r}),f[h]&&Qn.throwError("cannot encode object for signature with duplicate names",I.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:r}),f[h]=!0,r[h]})}else Qn.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Qn.throwArgumentError("types/value length mismatch","tuple",r);let i=new da(t.wordSize),s=new da(t.wordSize),o=[];e.forEach((f,c)=>{let h=n[c];if(f.dynamic){let p=s.length;f.encode(s,h);let b=i.writeUpdatableValue();o.push(E=>{b(E+p)})}else f.encode(i,h)}),o.forEach(f=>{f(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function mc(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),f=n.subReader(a.toNumber());try{o=s.decode(f)}catch(c){if(c.code===I.errors.BUFFER_OVERRUN)throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===I.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const f=r[o];f instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw f}}):r[a]=f});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class Pg extends Rr{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s);this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Qn.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return gc(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Qn.throwError("insufficient data length",I.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new Mg(this.coder));return e.coerce(this.name,mc(e,n))}}class Cg extends Rr{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class vc extends Rr{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=ee(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Dg extends vc{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Z(super.decode(e)))}}class Lg extends Rr{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1);this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=ee(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,Z(e.readBytes(this.size)))}}class Bg extends Rr{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class Fg extends Rr{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1);this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=j.from(r),i=Th.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(kh).mul(Sh)))&&this._throwError("value out-of-bounds",r)}else(n.lt(Nf)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}class Ug extends vc{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,ir(r))}decode(e){return Ln(super.decode(e))}}class ks extends Rr{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n);this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return gc(e,this.coders,r)}decode(e){return e.coerce(this.name,mc(e,this.coders))}}const Si=new I(xi),$g=new RegExp(/^bytes([0-9]*)$/),qg=new RegExp(/^(u?int)([0-9]*)$/);class pa{constructor(e){Si.checkNew(new.target,pa),F(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Og(e.name);case"bool":return new Cg(e.name);case"string":return new Ug(e.name);case"bytes":return new Dg(e.name);case"array":return new Pg(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new ks((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Bg(e.name)}let r=e.type.match(qg);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!=0)&&Si.throwArgumentError("invalid "+r[1]+" bit length","param",e),new Fg(n/8,r[1]==="int",e.name)}if(r=e.type.match($g),r){let n=parseInt(r[1]);return(n===0||n>32)&&Si.throwArgumentError("invalid bytes length","param",e),new Lg(n,e.name)}return Si.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Ss(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new da(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(yt.from(i)));return new ks(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Si.throwError("types/values length mismatch",I.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(yt.from(o))),i=new ks(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(yt.from(o)));return new ks(i,"_").decode(this._getReader(ee(r),n))}}const jg=new pa,tt=new I(xi);class Gg extends ci{}class Vg extends ci{}class zg extends ci{}class ga extends ci{static isIndexed(e){return!!(e&&e._isIndexed)}}const Hg={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function yc(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class ki{constructor(e){tt.checkNew(new.target,ki);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,F(this,"fragments",r.map(n=>Tr.from(n)).filter(n=>n!=null)),F(this,"_abiCoder",nr(new.target,"getAbiCoder")()),F(this,"functions",{}),F(this,"errors",{}),F(this,"events",{}),F(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){tt.warn("duplicate definition - constructor");return}F(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){tt.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||F(this,"deploy",gr.from({payable:!1,type:"constructor"})),F(this,"_isInterface",!0)}format(e){e||(e=pe.full),e===pe.sighash&&tt.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===pe.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return jg}static getAddress(e){return _t(e)}static getSighash(e){return _r(Bn(e.format()),0,4)}static getEventTopic(e){return Bn(e.format())}getFunction(e){if(ge(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];tt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?tt.throwArgumentError("no matching function","name",n):i.length>1&&tt.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[mr.fromString(e).format()];return r||tt.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(ge(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];tt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?tt.throwArgumentError("no matching event","name",n):i.length>1&&tt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Ir.fromString(e).format()];return r||tt.throwArgumentError("no matching event","signature",e),r}getError(e){if(ge(e)){const n=nr(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}tt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?tt.throwArgumentError("no matching error","name",n):i.length>1&&tt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[mr.fromString(e).format()];return r||tt.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return nr(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),nr(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=ee(r);return Z(n.slice(0,4))!==this.getSighash(e)&&tt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Z(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),Z(Rt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=ee(r);return Z(n.slice(0,4))!==this.getSighash(e)&&tt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Z(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Z(Rt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=ee(r),i=null,s=null,o=null,a=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const f=Z(n.slice(0,4)),c=Hg[f];if(c)s=this._abiCoder.decode(c.inputs,n.slice(4)),o=c.name,a=c.signature,c.reason&&(i=s[0]);else try{const h=this.getError(f);s=this._abiCoder.decode(h.inputs,n.slice(4)),o=h.name,a=h.format()}catch(h){console.log(h)}break}}return tt.throwError("call revert exception",I.errors.CALL_EXCEPTION,{method:e.format(),errorArgs:s,errorName:o,errorSignature:a,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Z(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&tt.throwError("too many arguments for "+e.format(),I.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Bn(o):s.type==="bytes"?lt(Z(o)):(s.type==="address"&&this._abiCoder.encode(["address"],[o]),ut(Z(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&tt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?tt.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(f=>i(a,f))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&tt.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const f=r[a];if(o.indexed)if(o.type==="string")n.push(Bn(f));else if(o.type==="bytes")n.push(lt(f));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[f]))}else i.push(o),s.push(f)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let b=this.getEventTopic(e);(!ge(n[0],32)||n[0].toLowerCase()!==b)&&tt.throwError("fragment/topic mismatch",I.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:b,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((b,E)=>{b.indexed?b.type==="string"||b.type==="bytes"||b.baseType==="tuple"||b.baseType==="array"?(i.push(yt.fromObject({type:"bytes32",name:b.name})),o.push(!0)):(i.push(b),o.push(!1)):(s.push(b),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Rt(n)):null,f=this._abiCoder.decode(s,r,!0),c=[],h=0,p=0;e.inputs.forEach((b,E)=>{if(b.indexed)if(a==null)c[E]=new ga({_isIndexed:!0,hash:null});else if(o[E])c[E]=new ga({_isIndexed:!0,hash:a[p++]});else try{c[E]=a[p++]}catch(k){c[E]=k}else try{c[E]=f[h++]}catch(k){c[E]=k}if(b.name&&c[b.name]==null){const k=c[E];k instanceof Error?Object.defineProperty(c,b.name,{enumerable:!0,get:()=>{throw yc(`property ${JSON.stringify(b.name)}`,k)}}):c[b.name]=k}});for(let b=0;b<c.length;b++){const E=c[b];E instanceof Error&&Object.defineProperty(c,b,{enumerable:!0,get:()=>{throw yc(`index ${b}`,E)}})}return Object.freeze(c)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new Vg({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:j.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new Gg({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=Z(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new zg({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Jg="contracts/5.5.0";var _n=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};const at=new I(Jg);function Ts(t,e){return _n(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&at.throwArgumentError("invalid address or ENS name","name",r);try{return _t(r)}catch{}t||at.throwError("a provider or signer is needed to resolve ENS names",I.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&at.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function Is(t,e,r){return _n(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>Is(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield Ts(t,e):r.type==="tuple"?yield Is(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Is(t,n,r.arrayChildren))):Promise.reject(at.makeError("invalid value for array",I.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Rs(t,e,r){return _n(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=bt(r.pop())),at.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Nt({override:Ts(t.signer,n.from),signer:t.signer.getAddress()}).then(c=>_n(this,void 0,void 0,function*(){return _t(c.signer)!==c.override&&at.throwError("Contract with a Signer cannot override from",I.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),c.override})):n.from=t.signer.getAddress():n.from&&(n.from=Ts(t.provider,n.from));const i=yield Nt({args:Is(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Nt(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=j.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=j.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=j.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=j.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=j.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=Jn(a.accessList)),o.gasLimit==null&&e.gas!=null){let c=21e3;const h=ee(s);for(let p=0;p<h.length;p++)c+=4,h[p]&&(c+=64);o.gasLimit=j.from(e.gas).add(c)}if(a.value){const c=j.from(a.value);!c.isZero()&&!e.payable&&at.throwError("non-payable method cannot override value",I.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=c}a.customData&&(o.customData=bt(a.customData)),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData;const f=Object.keys(n).filter(c=>n[c]!=null);return f.length&&at.throwError(`cannot override ${f.map(c=>JSON.stringify(c)).join(",")}`,I.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:f}),o})}function Wg(t,e){return function(...r){return Rs(t,e,r)}}function Kg(t,e){const r=t.signer||t.provider;return function(...n){return _n(this,void 0,void 0,function*(){r||at.throwError("estimate require a provider or signer",I.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Rs(t,e,n);return yield r.estimateGas(i)})}}function Yg(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=wr(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(f,c)=>t.interface.decodeEventLog(a.eventFragment,f,c),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function bc(t,e,r){const n=t.signer||t.provider;return function(...i){return _n(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const f=bt(i.pop());f.blockTag!=null&&(s=yield f.blockTag),delete f.blockTag,i.push(f)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield Rs(t,e,i),a=yield n.call(o,s);try{let f=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(f=f[0]),f}catch(f){throw f.code===I.errors.CALL_EXCEPTION&&(f.address=t.address,f.args=i,f.transaction=o),f}})}}function Xg(t,e){return function(...r){return _n(this,void 0,void 0,function*(){t.signer||at.throwError("sending a transaction requires a signer",I.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Rs(t,e,r),i=yield t.signer.sendTransaction(n);return Yg(t,i),i})}}function _c(t,e,r){return e.constant?bc(t,e,r):Xg(t,e)}function wc(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Ti{constructor(e,r){F(this,"tag",e),F(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class Zg extends Ti{constructor(){super("error",null)}}class xc extends Ti{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&at.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o];super(wc(s),s);F(this,"address",e),F(this,"interface",r),F(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=Rg(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Ec extends Ti{constructor(e,r){super("*",{address:e});F(this,"address",e),F(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class Qg{constructor(e,r,n){at.checkNew(new.target,ma),F(this,"interface",nr(new.target,"getInterface")(r)),n==null?(F(this,"provider",null),F(this,"signer",null)):yi.isSigner(n)?(F(this,"provider",n.provider||null),F(this,"signer",n)):li.isProvider(n)?(F(this,"provider",n),F(this,"signer",null)):at.throwArgumentError("invalid signer or provider","signerOrProvider",n),F(this,"callStatic",{}),F(this,"estimateGas",{}),F(this,"functions",{}),F(this,"populateTransaction",{}),F(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const f=this.interface.events[a];F(this.filters,a,(...c)=>({address:this.address,topics:this.interface.encodeFilterTopics(f,c)})),o[f.name]||(o[f.name]=[]),o[f.name].push(a)}),Object.keys(o).forEach(a=>{const f=o[a];f.length===1?F(this.filters,a,this.filters[f[0]]):at.warn(`Duplicate definition of ${a} (${f.join(", ")})`)})}if(F(this,"_runningEvents",{}),F(this,"_wrappedEmits",{}),e==null&&at.throwArgumentError("invalid contract address or ENS name","addressOrName",e),F(this,"address",e),this.provider)F(this,"resolvedAddress",Ts(this.provider,e));else try{F(this,"resolvedAddress",Promise.resolve(_t(e)))}catch{at.throwError("provider is required to use ENS name as contract address",I.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){at.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const f=a.name;i[`%${f}`]||(i[`%${f}`]=[]),i[`%${f}`].push(o)}this[o]==null&&F(this,o,_c(this,a,!0)),this.functions[o]==null&&F(this.functions,o,_c(this,a,!1)),this.callStatic[o]==null&&F(this.callStatic,o,bc(this,a,!0)),this.populateTransaction[o]==null&&F(this.populateTransaction,o,Wg(this,a)),this.estimateGas[o]==null&&F(this.estimateGas,o,Kg(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const f=a[0];try{this[o]==null&&F(this,o,this[f])}catch{}this.functions[o]==null&&F(this.functions,o,this.functions[f]),this.callStatic[o]==null&&F(this.callStatic,o,this.callStatic[f]),this.populateTransaction[o]==null&&F(this.populateTransaction,o,this.populateTransaction[f]),this.estimateGas[o]==null&&F(this.estimateGas,o,this.estimateGas[f])})}static getContractAddress(e){return qf(e)}static getInterface(e){return ki.isInterface(e)?e:new ki(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&at.throwError("contract not deployed",I.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||at.throwError("sending a transactions require a signer",I.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=bt(e||{});return["from","to"].forEach(function(n){r[n]!=null&&at.throwError("cannot override "+n,I.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new ps(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&F(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return ga.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new Zg);if(e==="event")return this._normalizeRunningEvent(new Ti("event",null));if(e==="*")return this._normalizeRunningEvent(new Ec(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new xc(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new xc(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Ti(wc(r),r))}return this._normalizeRunningEvent(new Ec(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=wr(r);return i.removeListener=()=>{!n||(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||at.throwError("events require a provider or a signer with a provider",I.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=bt(i.filter);return typeof r=="string"&&ge(r,32)?(n!=null&&at.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r!=null?r:0,s.toBlock=n!=null?n:"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class ma extends Qg{}const ct=()=>{};function em(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}const ei=[];function tm(t,e=ct){let r=null;const n=[];function i(a){if(em(t,a)&&(t=a,r)){const f=!ei.length;for(let c=0;c<n.length;c+=1){const h=n[c];h[1](),ei.push(h,t)}if(f){for(let c=0;c<ei.length;c+=2)ei[c][0](ei[c+1]);ei.length=0}}}function s(a){i(a(t))}function o(a,f=ct){const c=[a,f];return n.push(c),n.length===1&&(r=e(i)||ct),a(t),()=>{const h=n.indexOf(c);h!==-1&&n.splice(h,1),n.length===0&&r!==null&&(r(),r=null)}}return{set:i,update:s,subscribe:o}}function Nc(){if(typeof window!="undefined"){const t=window;if(t.ethereum)return t.ethereum;if(t.web3)return t.web3.currentProvider}return null}function rm(){return new Promise(t=>{document.readyState!=="complete"?document.onreadystatechange=function(){document.readyState==="complete"&&(document.onreadystatechange=null,t(Nc()))}:t(Nc())})}function nm(t){if(t)return t.isMetaMask?"Metamask":t.isFrame?"Frame":navigator.userAgent.indexOf("Opera")!=-1||navigator.userAgent.indexOf("OPR/")!=-1?"Opera":"unknown"}function im(t,e,r){return new Promise((n,i)=>{let s=!1;const o=setTimeout(()=>{s=!0,r?typeof r=="function"?n(r()):i(r.error||r):i(new Error("TimedOut"))},t);e.then(a=>{s||(clearTimeout(o),n(a))}).catch(a=>{s||(clearTimeout(o),i(a))})})}var va=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};const sm=po("web3w:ethers");function Ac(t,e,r,n){sm.log("PROXY",{name:e});const i=n?Object.assign({onContractTxRequested:ct,onContractTxCancelled:ct,onContractTxSent:ct},n):{onContractTxRequested:ct,onContractTxCancelled:ct,onContractTxSent:ct},{onContractTxRequested:s,onContractTxCancelled:o,onContractTxSent:a}=i,f={},c={},h=t.interface.fragments.filter(T=>T.type==="event").map(T=>JSON.parse(T.format("json"))),p=t.interface.functions,b={};for(const T of Object.keys(p))b[p[T].name]=T;const E={};for(const T of Object.keys(t))E[T]=t[T];E.functions={};for(const T of Object.keys(t.functions))E.functions[T]=t.functions[T];function k(T,S,O){let D=T[O];if(!D){let V=t.interface.functions[O];V||(V=t.interface.functions[b[O]]),D=new Proxy(S[O],{apply:(Y,_e,be)=>va(this,void 0,void 0,function*(){const we=yield t.signer.getAddress(),oe=be.length;let pt=be,x;oe===V.inputs.length+1&&typeof be[oe-1]=="object"&&(pt=pt.slice(0,oe-1),x=be[oe-1]);let u;x&&(u=x.metadata,x=Object.assign({},x),delete x.metadata),x||(x={}),x.nonce||(x.nonce=yield t.signer.getTransactionCount()),s({to:t.address,from:we,chainId:r,eventsABI:h,contractName:e,args:pt,method:O,overrides:x,metadata:u});let d;try{d=yield Y.bind(S)(...pt,x)}catch(m){throw o({to:t.address,from:we,chainId:r,eventsABI:h,contractName:e,args:pt,method:O,overrides:x,metadata:u}),m}return a({hash:d.hash,to:t.address,from:we,chainId:r,eventsABI:h,contractName:e,args:pt,method:O,overrides:x,metadata:u}),d})}),T[O]=D}return D}const P=new Proxy(E.functions,{get:(T,S)=>k(f,t.functions,S)});return new Proxy(E,{get:(T,S)=>S==="functions"?P:t.functions[S]?k(c,t,S):S==="_proxiedContract"?t:S==="connect"?O=>Ac(t.connect(O),e,r,n):S==="toJSON"?()=>({address:t.address,abi:t.interface.fragments,functionsSignatures:t.interface.fragments.map(O=>O.format("full"))}):t[S]})}function Sc(t,e,{onTxRequested:r,onTxCancelled:n,onTxSent:i,onSignatureRequested:s,onSignatureCancelled:o,onSignatureReceived:a}){e=Object.assign({sendTransaction:(h,p,b)=>va(this,void 0,void 0,function*(){const E=yield t.getAddress(),k=yield(yield t.getChainId()).toString(),P=Object.assign({},b[0]),T=b.slice(1);let{nonce:S}=P;S||(S=P.nonce=yield t.getTransactionCount());const O=Object.assign(Object.assign({},P),{from:E,chainId:k,nonce:S});r(O);let D;try{D=yield h.bind(p)(P,...T)}catch(_e){throw n(O),_e}const Y=(yield t.provider.getBlock("latest")).timestamp;return i(Object.assign(Object.assign({},D),{from:E,nonce:S,submissionBlockTime:Y,chainId:k})),D}),signMessage:(h,p,b)=>va(this,void 0,void 0,function*(){const E=yield t.getAddress(),k={from:E,message:b[0]};s(k);let P;try{P=yield h.bind(p)(...b)}catch(T){throw o(k),T}return a({from:E,signature:P}),P})},e);const f={};function c(h,p){let b=f[h];return b||(b=new Proxy(t[h],p),f[h]=b),b}return new Proxy(t,{get:(h,p)=>{const b=e[p];return b?c(p,{apply:b}):h[p]}})}function om(t,e){return Sc(t,{},e)}function am(t,e){return Sc(t,{connectUnchecked:(r,n,i)=>{const s=r.bind(n)(...i);return om(s,e)}},e)}function ya(t,e){const r=e?Object.assign({onTxRequested:ct,onTxCancelled:ct,onTxSent:ct,onSignatureRequested:ct,onSignatureCancelled:ct,onSignatureReceived:ct},e):{onTxRequested:ct,onTxCancelled:ct,onTxSent:ct,onSignatureRequested:ct,onSignatureCancelled:ct,onSignatureReceived:ct},n=new Proxy(t.getSigner,{apply:(i,s,o)=>{const a=i.bind(t)(...o);return am(a,r)}});return new Proxy(t,{get:(i,s)=>s==="getSigner"?n:i[s]})}const fm=6e3,ba=6001,um=1e3,kc=2001,cm=2002,lm=2003;var Tt=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};const X=po("web3w:index"),hm=typeof window!="undefined",wn={state:"Idle",probing:!1,available:void 0,error:void 0,vendor:void 0},Tc={state:"Idle",fetching:!1,stale:void 0,amount:void 0,error:void 0,blockNumber:void 0},de={state:"Idle",connecting:!1,loadingData:!1,contracts:void 0,error:void 0},_a={state:"Idle",connecting:!1,loadingData:!1,contracts:void 0,error:void 0},te={state:"Idle",connecting:!1,disconnecting:!1,loadingModule:!1,unlocking:!1,address:void 0,options:["builtin"],selected:void 0,pendingUserConfirmation:void 0,error:void 0},Ii={inProgress:!1,executing:!1,executionError:void 0,error:void 0};function xn(t){const e=tm(t);return e.data=t,e}const ht=[],rt=xn(te),ti=xn(ht),En=xn(wn),gt=xn(de),Nn=xn(_a),Os=xn(Tc),xe=xn(Ii);let An="_web3w_transactions",Ms="_web3w_previous_wallet_type";function $(t,e){for(const r of Object.keys(e)){const n=e,i=t;if(i.data[r]&&typeof n[r]=="object")for(const s of Object.keys(n[r]))i.data[r][s]=n[r][s];else i.data[r]=n[r]}try{X.debug(JSON.stringify(t.data,null,"  "))}catch(r){X.error(r,t.data)}t.set(t.data)}let Yr=!1,nt,wa,ve,xa,Ea,er,Sn,it,zt,It,Or,vr;const Na={};function dm(t,e){return Tt(this,void 0,void 0,function*(){let r;if(typeof window!="undefined")try{const n=`_genesis_${e}`,i=yield t.getBlock("earliest");Na[e]=i.hash;const s=localStorage.getItem(n);s!==i.hash?s?r=!0:(r=!1,localStorage.setItem(n,i.hash)):r=!1}catch{}return r})}function pm(t,e){return Tt(this,void 0,void 0,function*(){if(!nt)throw new Error("no provider setup");try{yield nt.send("wallet_switchEthereumChain",[{chainId:"0x"+parseInt(t).toString(16)}])}catch(r){if(r.code===4902)if(e&&e.rpcUrls&&e.rpcUrls.length>0)try{yield nt.send("wallet_addEthereumChain",[{chainId:"0x"+parseInt(t).toString(16),rpcUrls:e.rpcUrls,chainName:e.chainName,blockExplorerUrls:e.blockExplorerUrls,iconUrls:e.iconUrls,nativeCurrency:e.nativeCurrency}])}catch(n){if(n.code!==4001)$(gt,{error:n});else return}else $(gt,{error:{code:lm,message:"Chain not available on your wallet"}});else if(r.code!==4001)$(gt,{error:r});else return}})}function Aa(t){return Tt(this,void 0,void 0,function*(){if(t==="0xNaN"){if(X.warn("onChainChanged bug (return 0xNaN), metamask bug?"),!ve)throw new Error("no web3Provider to get chainId");t=yield Sa(ve,"eth_chainId")}const e=parseInt(t.slice(2),16).toString();if(X.debug("onChainChanged",{chainId:t,chainIdAsDecimal:e}),$(gt,{contracts:void 0,addresses:void 0,state:"Connected",chainId:e,notSupported:void 0}),te.address){Ia(te.address,e),X.log("LOAD_CHAIN from chainChanged");try{yield Bs(e,te.address,!0)}catch{}}})}function Ic(t){return t[0]!==te.address}function Ps(t){return Tt(this,void 0,void 0,function*(){if(!Ic(t)){X.debug("false account changed",t);return}X.debug("onAccountsChanged",{accounts:t});const e=t[0];if(e)if($(rt,{address:e,state:"Ready"}),de.chainId&&Ia(e,de.chainId),de.state==="Connected")if(de.chainId){X.log("LOAD_CHAIN from accountsChanged");try{yield Bs(de.chainId,e,!1)}catch{}}else throw new Error("no chainId while connected");else $c(e);else Hc(),$(rt,{address:e,state:"Locked"}),$c(e)})}function Sa(t,e,r){var n;if(t.request)return t.request({method:e,params:r});const i=(n=t.sendAsync)===null||n===void 0?void 0:n.bind(t);if(i)return new Promise((s,o)=>{i({method:e,params:r},(a,f)=>{a?o(a):f.error?o(f.error):s(f.result)})});throw new Error("provider not supported")}function Rc(t){return new Promise(e=>{setTimeout(e,t)})}function gm(t,e){return Tt(this,void 0,void 0,function*(){for(;Yr;){const r=yield Sa(t,"eth_chainId"),n=parseInt(r.slice(2),16).toString();if(Yr&&de.chainId!==n)try{e(r)}catch(i){X.error(i)}yield Rc(3e3)}})}function Oc(t,e){return Tt(this,void 0,void 0,function*(){for(;Yr;){let r=[];try{r=yield Sa(t,"eth_accounts")}catch{}if(X.debug({accounts:r}),Yr&&Ic(r))try{e(r)}catch(n){X.error(n)}yield Rc(3e3)}})}function Mc(){ve&&!Yr&&(X.log("LISTENNING"),ve.on?(ve.on("chainChanged",Aa),ve.on("accountsChanged",Ps),Oc(ve,Ps)):(gm(ve,Aa),Oc(ve,Ps)),Yr=!0)}function mm(){ve&&Yr&&(X.log("STOP LISTENNING"),X.debug("stop listenning for changes..."),ve.removeListener&&ve.removeListener("chainChanged",Aa),ve.removeListener&&ve.removeListener("accountsChanged",Ps),Yr=!1)}function Pc(t){const e=t&&t.chainId;if(e){const r=parseInt(e.slice(2),16).toString();X.debug("onConnect",{chainId:e,chainIdAsDecimal:r})}else X.warn("onConnect","no connection object passed in")}function Cc(t){X.debug("onDisconnect",{error:t})}function vm(){ve&&(X.debug("listenning for connection..."),ve.on&&ve.on("connect",Pc),ve.on&&ve.on("disconnect",Cc))}function ym(){ve&&(X.debug("stop listenning for connection..."),ve.removeListener&&ve.removeListener("connect",Pc),ve.removeListener&&ve.removeListener("disconnect",Cc))}function Dc(t){return typeof t=="string"&&t.length>2&&t.slice(0,2).toLowerCase()==="0x"}function bm(t){return Dc(t)?""+parseInt(t.slice(2)):t}function _m(t){return Dc(t)?t:"0x"+parseInt(t).toString(16)}function Lc(t){te.pendingUserConfirmation?te.pendingUserConfirmation.push(t):te.pendingUserConfirmation=[t],$(rt,{pendingUserConfirmation:te.pendingUserConfirmation})}function Cs(t){if(te.pendingUserConfirmation){const e=te.pendingUserConfirmation.indexOf(t);e>=0&&(te.pendingUserConfirmation.splice(e,1),te.pendingUserConfirmation.length===0&&(te.pendingUserConfirmation=void 0),$(rt,{pendingUserConfirmation:te.pendingUserConfirmation}))}}const Ds={onTxRequested:t=>{X.debug("onTxRequested",{txRequest:t}),Lc("transaction")},onTxCancelled:t=>{X.debug("onTxCancelled",{txRequest:t}),Cs("transaction")},onTxSent:({hash:t,from:e,gasLimit:r,nonce:n,gasPrice:i,maxFeePerGas:s,maxPriorityFeePerGas:o,data:a,value:f,chainId:c,to:h,submissionBlockTime:p})=>{if(X.debug("onTxSent",{hash:t,from:e,gasLimit:r,nonce:n,gasPrice:i,data:a,value:f,chainId:c,to:h}),t){const b={hash:t,from:e,acknowledged:!1,status:"pending",to:h,nonce:n,gasLimit:r==null?void 0:r.toString(),gasPrice:i==null?void 0:i.toString(),maxFeePerGas:s==null?void 0:s.toString(),maxPriorityFeePerGas:o==null?void 0:o.toString(),data:a,value:f==null?void 0:f.toString(),submissionBlockTime:p,confirmations:0,finalized:!1};km(e,c,b)}Cs("transaction")},onSignatureRequested:t=>{X.debug("onSignatureRequested",{sigRequest:t}),Lc("signature")},onSignatureCancelled:t=>{X.debug("onSignatureCancelled",{sigRequest:t}),Cs("signature")},onSignatureReceived:t=>{X.debug("onSignatureReceived",{sigResponse:t}),Cs("signature")},onContractTxRequested:({from:t,contractName:e,method:r,overrides:n,metadata:i})=>{X.debug("onContractTxRequest",{from:t,contractName:e,method:r,overrides:n,metadata:i})},onContractTxCancelled:({from:t,contractName:e,method:r,overrides:n,metadata:i})=>{X.debug("onContractTxCancelled",{from:t,contractName:e,method:r,overrides:n,metadata:i})},onContractTxSent:({hash:t,from:e,contractName:r,method:n,args:i,eventsABI:s,overrides:o,metadata:a,to:f,chainId:c})=>{var h,p,b;if(X.debug("onContractTxSent",{hash:t,from:e,contractName:r,method:n,args:i,eventsABI:s,overrides:o,metadata:a,to:f}),t){let E;o&&o.nonce&&(E=parseInt(o.nonce.toString()));const k={hash:t,from:e,acknowledged:!1,contractName:r,method:n,args:i,eventsABI:s,metadata:a,to:f,nonce:E,gasLimit:(h=o==null?void 0:o.gasLimit)===null||h===void 0?void 0:h.toString(),gasPrice:(p=o==null?void 0:o.gasPrice)===null||p===void 0?void 0:p.toString(),value:(b=o==null?void 0:o.value)===null||b===void 0?void 0:b.toString()};Vc(e,c,k,!1)}}};function Bc(t){try{localStorage.setItem(Ms,t)}catch{}}function wm(){try{return localStorage.getItem(Ms)}catch{return null}}let Ls;function xm(t){return Tt(this,void 0,void 0,function*(){Ea=t,it.fallbackNode&&(yield Yc(it.fallbackNode,t)),de.chainId&&te.address&&(yield Bs(de.chainId,te.address,!1))})}function Em(t){return Tt(this,void 0,void 0,function*(){if(Ls)try{yield Ls}catch{}Ls=xm(t),yield Ls})}function Fc(t,e){return Tt(this,void 0,void 0,function*(){const r=ka(e);let n;if(de.state==="Idle"){$(gt,{connecting:!0});let i;try{i=(yield r.getNetwork()).chainId,i===0&&(i=1337,X.error("giving chainId = 0, assume local 1337?"))}catch{const o={code:kc,message:"Failed to fetch chainId"};throw $(gt,{error:o,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Idle"}),new Error(o.message)}n=String(i),$(gt,{chainId:n,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Connected"})}else n=de.chainId;if(!n){const i={code:cm,message:"chainId is not set even though chain is connected"};throw $(gt,{error:i,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Idle"}),new Error(i.message)}Ia(t,n),X.log("LOAD_CHAIN from setupChain");try{yield Bs(n,t,e)}catch{}})}function Uc(t,e){if(t.chainId){const r=t;if(e===r.chainId||e==bm(r.chainId))return r.contracts;throw{code:ba,message:`chainConfig only available for ${r.chainId}, not available for ${e}`}}else{const r=t,n=r[e]||r[_m(e)];if(n)return n.contracts;throw{code:ba,message:`chainConfig not available for ${e}`}}}function Bs(t,e,r){return Tt(this,void 0,void 0,function*(){const n=ka(r);$(gt,{loadingData:!0});const i={},s={};let o=Ea;if(it.checkGenesis){const a=yield dm(n,t);de.genesisChanged!==a&&$(gt,{genesisChanged:a})}if(typeof o=="function"&&(o=yield o(t)),o){let a;try{a=Uc(o,t)}catch(f){if(f.code===ba){$(gt,{chainId:t,notSupported:!0,connecting:!1,loadingData:!1,state:"Connected"});return}else throw $(gt,{error:f,chainId:t,connecting:!1,loadingData:!1,state:"Connected"}),new Error(f.message||f)}for(const f of Object.keys(a)){const c=a[f];c.abi&&(X.log({contractName:f}),i[f]=Ac(new ma(c.address,c.abi,it.transactions.waitForTransactionDetails?n.getSigner(e):n.getSigner(e).connectUnchecked()),f,t,Ds)),s[f]=c.address}}if($(gt,{state:"Ready",loadingData:!1,connecting:!1,chainId:t,addresses:s,contracts:i}),te.state==="Ready"&&(X.log("READY"),It&&Ii.executionError===void 0&&!Ii.executing)){X.log(" => executing...");const a=It;if(vr){let f;try{X.log("executing after chain Setup"),f=vr(i)}catch(c){$(xe,{executionError:c,executing:!1});return}"then"in f?($(xe,{error:void 0,executionError:void 0,executing:!0}),f.then(()=>{$(xe,{inProgress:!1,error:void 0,executionError:void 0,executing:!1}),a(i),zt=void 0,Or=void 0,It=void 0}).catch(c=>{$(xe,{executionError:c,executing:!1})})):($(xe,{inProgress:!1,error:void 0,executionError:void 0,executing:!1}),It(i),zt=void 0,Or=void 0,It=void 0)}else $(xe,{inProgress:!1,error:void 0,executionError:void 0,executing:!1}),It(i),zt=void 0,Or=void 0,It=void 0}})}function ka(t){if(nt===void 0||ve===void 0){const e={code:fm,message:"no provider setup yet"};throw $(gt,{error:e,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Idle",genesisChanged:void 0}),new Error(e.message)}else t&&(nt=ya(new _i(ve),Ds));return nt}function $c(t){const e=ka(!1),r=de.contracts;if(!!r)for(const n of Object.keys(r))r[n]=r[n].connect(t?e.getSigner(t):e)}function qc(t,e){return Tt(this,void 0,void 0,function*(){te.selected&&(te.state==="Ready"||te.state==="Locked")&&(yield Oi());let r=t;if(!r)if(Sn.length===0)r="builtin";else if(Sn.length===1)r=Sn[0];else{const s=`No Wallet Type Specified, choose from ${te.options}`;throw new Error(s)}if(r=="builtin"&&wn.state==="Ready"&&!wn.available){const s="No Builtin Wallet";throw new Error(s)}if($(rt,{address:void 0,connecting:!0,selected:t,state:"Idle",error:void 0}),nt=void 0,ve=void 0,r==="builtin"){er=void 0;const s=yield Ta();ve=s,nt=ya(new _i(s),Ds)}else{let s;if(typeof r=="string"){if(Sn)for(const o of Sn)typeof o!="string"&&o.id===t&&(s=o)}else s=r,t=s.id;if(!s){const o=`no module found ${t}`;throw $(rt,{error:{message:o,code:1},selected:void 0,connecting:!1}),new Error(o)}try{"load"in s&&($(rt,{loadingModule:!0}),s=yield s.load(),$(rt,{loadingModule:!1})),X.log("setting up module");const{web3Provider:o}=yield s.setup(e);X.log("module setup"),ve=o,nt=ya(new _i(ve),Ds),er=s}catch(o){throw o.message==="USER_CANCELED"?$(rt,{connecting:!1,selected:void 0,loadingModule:!1}):$(rt,{error:{code:um,message:o.message},selected:void 0,connecting:!1,loadingModule:!1}),o}}if(!nt){const s=`no provider found for wallet type ${t}`;throw $(rt,{error:{message:s,code:1},selected:void 0,connecting:!1}),new Error(s)}vm();let n;try{if(t==="builtin"&&wn.vendor==="Metamask")n=yield im(4e3,nt.listAccounts(),{error:'Metamask timed out. Please reload the page (see <a href="https://github.com/MetaMask/metamask-extension/issues/7221">here</a>)'});else{X.log("fetching accounts...");try{n=yield nt.listAccounts()}catch(s){if(s.code===4100)X.log(`4100 ${s.name}`),n=[];else if(s.code===-32500&&s.message==="permission denied")wn.vendor==="Opera"?X.log("permission denied (opera) crypto wallet not enabled?)"):X.log("permission denied"),n=[];else if(s.code===4001)n=[];else throw s}X.log(`accounts: ${n}`)}}catch(s){throw $(rt,{error:s,selected:void 0,connecting:!1}),s}Bc(t);const i=n&&n[0];i?($(rt,{address:i,state:"Ready",connecting:void 0}),Mc(),X.log("SETUP_CHAIN from select"),yield Fc(i,!1)):(Mc(),$(rt,{address:void 0,state:"Locked",connecting:void 0}))})}let Fs;function Ta(){return Fs||(Fs=new Promise((t,e)=>Tt(this,void 0,void 0,function*(){if(xa&&wn.state==="Ready")return t(xa);$(En,{probing:!0});try{const r=yield rm();r?(r.autoRefreshOnNetworkChange=!1,xa=r,$(En,{state:"Ready",vendor:nm(r),available:!0,probing:!1})):$(En,{state:"Ready",vendor:void 0,available:!1,probing:!1}),t(r)}catch(r){return $(En,{error:r.message||r,vendor:void 0,available:void 0,probing:!1}),e(r)}})),Fs)}function Ri(t,e){return Tt(this,void 0,void 0,function*(){return yield qc(t,e),te.state==="Locked"?qs():!0})}function Us(t){return()=>{$(t,{error:void 0})}}function $s(t){mm(),ym(),$(rt,{state:"Idle",address:void 0,connecting:!1,unlocking:void 0,selected:void 0,error:void 0}),Hc(),$(Os,{state:"Idle",amount:void 0,error:void 0,blockNumber:void 0}),$(gt,{contracts:void 0,addresses:void 0,state:"Idle",notSupported:void 0,chainId:void 0,error:void 0,genesisChanged:void 0}),t||($(xe,{error:void 0,executing:!1,executionError:void 0,inProgress:!1}),vr=void 0,Or=void 0,It=void 0,zt=void 0),Bc("")}function Oi(t){if(te.disconnecting)throw new Error("already disconnecting");const e=t&&t.logout,r=t&&t.wait,n=t&&t.keepFlow;return new Promise((i,s)=>{if(er)if(e){let o;try{o=er.logout()}catch(a){s(a)}r&&o&&"then"in o?($(rt,{disconnecting:!0}),o.then(()=>{er&&er.disconnect(),er=void 0,$s(n),$(rt,{disconnecting:!1}),i()}).catch(a=>{$(rt,{disconnecting:!1,error:a}),s(a)})):(er.disconnect(),er=void 0,$s(n),i())}else er.disconnect(),er=void 0,$s(n),i();else $s(n),i()})}let Mi;function qs(){if(Mi)return Mi;let t=!1;const e=new Promise((r,n)=>Tt(this,void 0,void 0,function*(){if(te.state==="Locked"){$(rt,{unlocking:!0});let i;try{i=yield nt==null?void 0:nt.send("eth_requestAccounts",[]),i=i||[]}catch(s){console.error(s),i=[]}if(i.length>0){const s=i[0];$(rt,{address:s,state:"Ready",unlocking:void 0}),X.log("SETUP_CHAIN from unlock"),yield Fc(s,!0)}else return $(rt,{unlocking:!1}),Mi=void 0,t=!0,r(!1);return Mi=void 0,t=!0,r(!0)}else return t=!0,n(new Error("Not Locked"))}));return t||(Mi=e),e}function Nm(){if(X.log("RETRYING..."),$(xe,{executionError:void 0}),de.state==="Ready"&&te.state==="Ready")if(de.contracts){const t=de.contracts;if(vr){let e;try{X.log("EXECUTING RETRY"),e=vr(t)}catch(r){return $(xe,{executionError:r,executing:!1}),Promise.reject(r)}if("then"in e)return $(xe,{executing:!0}),e.then(()=>(vr=void 0,$(xe,{inProgress:!1,error:void 0,executionError:void 0,executing:!1}),It&&It(t))).catch(r=>($(xe,{executionError:r,executing:!1}),Promise.reject(r)))}return It&&It(t),Promise.resolve()}else return Promise.reject("contracts not set");return te.state==="Locked"?it.flow&&it.flow.autoUnlock&&qs().catch(t=>{$(xe,{error:t})}):te.state==="Idle"&&te.options.length===1&&it.flow&&it.flow.autoSelect&&Ri(te.options[0]).catch(t=>{$(xe,{error:t})}),zt?zt.then(()=>{}):Promise.resolve()}function Am(t,e){return Ii.inProgress&&Gc(),jc(void 0,t,e)}function Sm(t){return jc(t)}function jc(t,e,r){if(Ii.inProgress)throw new Error("flow in progress");if(de.state==="Ready"&&te.state==="Ready"&&(!e||e===te.selected))if(Or=void 0,It=void 0,zt=void 0,de.contracts){const n=de.contracts;if(t){let i;try{X.log("EXECUTING DIRECT"),i=t(n)}catch(s){return $(xe,{executionError:s,executing:!1}),Promise.reject(s)}if("then"in i)return vr=t,$(xe,{inProgress:!0,error:void 0,executing:!0}),i.then(()=>(vr=void 0,$(xe,{inProgress:!1,error:void 0,executionError:void 0}),n)).catch(s=>($(xe,{executionError:s,executing:!1}),Promise.reject(s)))}return Promise.resolve(n)}else return Promise.reject("contracts not set");return zt||(vr=t,$(xe,{inProgress:!0,executing:!1,executionError:void 0,error:void 0}),zt=new Promise((n,i)=>{It=n,Or=i}),e&&e!==te.selected?te.selected?Oi({keepFlow:!0}).catch(n=>{$(xe,{error:n})}).then(()=>{Ri(e,r).catch(n=>{$(xe,{error:{code:11,message:`failed to connect to ${e}`,errorObject:n}}),Oi()})}):Ri(e,r).catch(n=>{$(xe,{error:{code:11,message:`failed to connect to ${e}`,errorObject:n}}),Oi()}):te.state==="Locked"?it.flow&&it.flow.autoUnlock&&qs().catch(n=>{$(xe,{error:n})}):te.state==="Idle"&&te.options.length===1&&it.flow&&it.flow.autoSelect&&Ri(te.options[0]).catch(n=>{$(xe,{error:n})}),zt)}function Gc(){Or&&Or({code:1,message:"Cancel"}),zt=void 0,Or=void 0,It=void 0,vr=void 0,$(xe,{inProgress:!1,error:void 0,executionError:void 0,executing:!1})}function km(t,e,r){zc(t,e,r,!0)}function Vc(t,e,r,n){zc(t,e,r,n)}function zc(t,e,r,n){if(te.address&&te.address.toLowerCase()===t.toLowerCase()&&de.chainId&&e===de.chainId){X.log("TransactionRecord",r);const i=ht.find(s=>s.hash===r.hash);if(i){const s=i,o=r;for(const a of Object.keys(o))(n||!n&&s[a]===void 0)&&(s[a]=o[a])}else ht.push(r);try{localStorage.setItem(An+`_${t.toLowerCase()}_${e}`,JSON.stringify(ht))}catch{}ti.set(ht)}else try{const i=An+`_${t.toLowerCase()}_${e}`,s=localStorage.getItem(i)||"[]",o=JSON.parse(s),a=o.find(f=>f.hash===r.hash);if(a){const f=a,c=r;for(const h of Object.keys(r))(!n&&f[h]===void 0||n&&c[h]!==void 0)&&(f[h]=c[h])}else o.push(r);localStorage.setItem(i,JSON.stringify(o))}catch{}}function Hc(){ht.splice(0,ht.length),ti.set(ht),Jc()}function Ia(t,e){try{const r=localStorage.getItem(An+`_${t.toLowerCase()}_${e}`);let n=[];r&&(n=JSON.parse(r)),ht.splice(0,ht.length,...n),ti.set(ht),Tm(t,e)}catch{}}let Mr;function Tm(t,e){Jc(),Wc(t,e),Mr=setInterval(()=>Wc(t,e),it.transactions.pollingPeriod*1e3)}function Jc(){Mr&&(clearInterval(Mr),Mr=void 0)}let Ra=!1;function Wc(t,e){return Tt(this,void 0,void 0,function*(){if(Ra)return;Ra=!0;const r=it.transactions.finality,n=ht.concat();for(const i of n){if(!nt||te.address!==t||de.chainId!==e||!Mr)break;let s;try{s=yield nt.getBlock("latest")}catch(p){X.error(p);break}if(i.finalized)continue;if(!nt||te.address!==t||de.chainId!==e||!Mr)break;let o=0;if(s.number>=r)try{o=yield nt.getTransactionCount(t,s.number-Math.max(1,r)+1)}catch(p){X.error(p);break}if(!nt||te.address!==t||de.chainId!==e||!Mr)break;let a=0;try{a=yield nt.getTransactionCount(t)}catch(p){X.error(p);break}if(!nt||te.address!==t||de.chainId!==e||!Mr)break;let f;try{f=yield nt.getTransactionReceipt(i.hash)}catch(p){X.error(p);continue}if(te.address!==t||de.chainId!==e||!Mr)break;const c={hash:i.hash};let h=!1;if(!f||!f.blockHash)o>i.nonce?(c.status="cancelled",c.finalized=!0,c.confirmations=Math.max(1,r),(i.acknowledged||it.transactions.autoDelete)&&(h=!0)):a>i.nonce?(c.status="cancelled",c.confirmations=1):(c.status="pending",c.confirmations=0),c.blockHash=void 0,c.blockNumber=void 0,c.events=void 0;else{if(f.status!==void 0){const p=f.status===1;c.status=p?"success":"failure",p&&(c.events=[])}else f.logs.length>0?c.status="success":c.status="mined";if(i.eventsABI&&f.logs.length>0){const p=new ki(i.eventsABI);c.events=f.logs.reduce((b,E)=>{let k;try{k=p.parseLog(E)}catch(P){X.error(P)}if(k){const P={};for(const S of Object.keys(k.args)){const O=k.args[S];P[S]=JSON.parse(JSON.stringify(O))}const T={args:P,name:k.name,signature:k.signature};b.push(T)}return b},[])}c.blockHash=f.blockHash,c.confirmations=f.confirmations,f.confirmations>=r&&(c.finalized=!0,(i.acknowledged||it.transactions.autoDelete)&&(h=!0))}if(i.status!==c.status&&(c.acknowledged=!1),h)Kc(i.hash);else{c.lastCheck=s.timestamp;try{Vc(t,e,c,!0)}catch(p){X.error(p)}}}Ra=!1})}function Kc(t){if(X.log(`deleting  ${t}`),te.address&&de.chainId){const e=ht.findIndex(r=>r.hash===t);ht.splice(e,1);try{localStorage.setItem(An+`_${te.address.toLowerCase()}_${de.chainId}`,JSON.stringify(ht))}catch{}ti.set(ht)}}function Yc(t,e){return Tt(this,void 0,void 0,function*(){typeof t=="string"&&(t=new ms(t)),wa=t,$(Nn,{connecting:!0});let r;try{r=(yield t.getNetwork()).chainId}catch{$(Nn,{error:{code:kc,message:"Failed to fetch chainId from fallback"},connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Idle"});return}const n=String(r);$(Nn,{chainId:n,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Connected"}),$(Nn,{loadingData:!0}),typeof e=="function"&&(e=yield e(n));const i={},s={};if(e){let o;try{o=Uc(e,n)}catch(a){throw $(Nn,{error:a,chainId:n,connecting:!1,loadingData:!1,state:"Connected"}),new Error(a.message||a)}for(const a of Object.keys(o)){const f=o[a];f.abi&&(X.log({contractName:a}),i[a]=new ma(f.address,f.abi,t)),s[a]=f.address}}$(Nn,{state:"Ready",loadingData:!1,connecting:!1,chainId:n,addresses:s,contracts:i})})}function G1(t){it={builtin:{autoProbe:t.builtin?t.builtin.autoProbe:!1},flow:{autoSelect:!!(t.flow&&t.flow.autoSelect),autoUnlock:!!(t.flow&&t.flow.autoUnlock)},debug:t.debug||!1,chainConfigs:t.chainConfigs,options:t.options||[],autoSelectPrevious:!!t.autoSelectPrevious,localStoragePrefix:t.localStoragePrefix||"",transactions:{waitForTransactionDetails:t.transactions&&t.transactions.waitForTransactionDetails||!1,autoDelete:t.transactions&&typeof t.transactions.autoDelete!="undefined"?t.transactions.autoDelete:!0,finality:t.transactions&&t.transactions.finality||12,pollingPeriod:t.transactions&&t.transactions.pollingPeriod||10},checkGenesis:t.checkGenesis||!1,fallbackNode:t.fallbackNode},(!it.options||it.options.length===0)&&(it.options=["builtin"]),Ms=it.localStoragePrefix+Ms,An=it.localStoragePrefix+An;const{debug:e,chainConfigs:r,builtin:n}=it;if(Ea=r,t.fallbackNode&&Yc(t.fallbackNode,r),e&&typeof window!="undefined"&&(window.$wallet=te,window.$transactions=ht),Sn=it.options,$(rt,{state:"Idle",options:Sn.map(i=>{if(typeof i=="object"){if(!i.id)throw new Error("options need to be string or have an id");return i.id}return i})}),$(En,{state:"Idle"}),$(gt,{state:"Idle"}),$(Os,{state:"Idle"}),hm){if(t.autoSelectPrevious){const i=wm();i&&i!==""&&qc(i)}n.autoProbe&&Ta()}return{transactions:{subscribe:ti.subscribe,acknowledge(i,s){if(te.address&&de.chainId){const o=ht.find(a=>a.hash===i);if(o)if(o.finalized)Kc(i);else{o.lastAcknowledgment=s,o.acknowledged=!0;try{localStorage.setItem(An+`_${te.address.toLowerCase()}_${de.chainId}`,JSON.stringify(ht))}catch{}ti.set(ht)}}}},balance:{subscribe:Os.subscribe,acknowledgeError:Us(Os)},chain:{subscribe:gt.subscribe,acknowledgeError:Us(gt),acknowledgeNewGenesisHash(){const i=de.chainId;if(i)if(Na[i]){const s=`_genesis_${i}`;localStorage.setItem(s,Na[i]),$(gt,{genesisChanged:!1})}else throw new Error(`no genesisHash for chainId: ${i}`);else throw new Error("no chainId")},get contracts(){return de.contracts},updateContracts(i){return Em(i)},switchChain:pm},fallback:{subscribe:Nn.subscribe,get contracts(){return _a.contracts},get state(){return _a.state},get provider(){return wa}},builtin:{subscribe:En.subscribe,acknowledgeError:Us(En),probe:Ta,get vendor(){return wn.vendor}},wallet:{subscribe:rt.subscribe,connect:Ri,unlock:qs,acknowledgeError:Us(rt),disconnect:Oi,get options(){return te.options},get address(){return te.address},get provider(){return nt},get web3Provider(){return ve},get selected(){return te.selected},get chain(){return de},get contracts(){return de.contracts},get balance(){return Tc.amount},get fallbackProvider(){return wa}},flow:{subscribe:xe.subscribe,execute:Sm,retry:Nm,cancel:Gc,connect:Am}}}var Oa=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function f(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(t,e||[])).next())})};const kn=po("web3w-walletconnect:index");let Ma;function Im(t,e,r){return new Promise(function(n,i){const s=document.createElement("script");s.type="text/javascript",s.src=t,e&&(s.integrity=e),r&&(s.crossOrigin=r),s.onload=s.onreadystatechange=function(){n()},s.onerror=function(){i()},document.head.appendChild(s)})}const Rm={"1":{host:"mainnet",networkName:"Main Ethereum Network"},"3":{host:"ropsten",networkName:"Ropsten Test Network"},"4":{host:"rinkeby",networkName:"Rinkeby Test Network"},"5":{host:"goerli",networkName:"Goerli Test Network"},"42":{host:"kovan",networkName:"Kovan Test Network"}};class Om{constructor(e){this.id="walletconnect",this.infuraId=e&&e.infuraId,this.nodeUrl=e&&e.nodeUrl,this.chainId=e&&e.chainId}setup(e){return Oa(this,void 0,void 0,function*(){e=e||{};let{chainId:r,nodeUrl:n}=e;if(r=r||this.chainId,n=n||this.nodeUrl,n&&!r){kn.log("no chanId provided but nodeUrl, fetching chainId...");const f=yield(yield fetch(n,{headers:{"content-type":"application/json; charset=UTF-8"},body:JSON.stringify({id:Math.floor(Math.random()*1e6),jsonrpc:"2.0",method:"eth_chainId",params:[]}),method:"POST"})).json();r=parseInt(f.result.slice(2),16).toString(),kn.log({chainId:r})}if(!r)throw new Error("chainId missing");const i=parseInt(r),s=Rm[r];let o;if(this.infuraId&&s)kn.log(`known network, using infuraId: ${this.infuraId}`),o={infuraId:this.infuraId};else{if(kn.log(`unknown network, using nodeUrl: ${n}`),!n)throw new Error("no infuraId or unknown network and nodeURL missing");o={rpc:{[i]:n}}}return this.walletConnectProvider=new Ma(o),yield this.walletConnectProvider.enable(),window.walletConnectProvider=this.walletConnectProvider,{web3Provider:this.walletConnectProvider,chainId:r}})}logout(){return Promise.resolve()}disconnect(){this.walletConnectProvider.close(),this.walletConnectProvider=void 0,window.walletConnectProvider=void 0}isLoggedIn(){return Oa(this,void 0,void 0,function*(){return!0})}}class yr{constructor(e){this.id="walletconnect",this.moduleConfig=e}static setJsURL(e,r){if(yr._jsURLUsed)throw new Error("cannot change js url once used");yr._jsURL=e,yr._jsURLIntegrity=r}load(){return Oa(this,void 0,void 0,function*(){if(!Ma){const e=yr._jsURL,r=yr._jsURLIntegrity;yr._jsURLUsed=!0;try{kn.log(`loading ${e}...`),yield Im(e,r,"anonymous")}catch(n){throw kn.error("error loading",n),yr._jsURLUsed=!1,n}Ma=window.WalletConnectProvider.default,kn.log("WalletConnectProvider Module",window.WalletConnectProvider)}return new Om(this.moduleConfig)})}}yr._jsURL="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.6.6/dist/umd/index.min.js";yr._jsURLUsed=!1;const Mm="solidity/5.5.0",Pm=new RegExp("^bytes([0-9]+)$"),Cm=new RegExp("^(u?int)([0-9]*)$"),Dm=new RegExp("^(.*)\\[([0-9]*)\\]$"),Lm="0000000000000000000000000000000000000000000000000000000000000000",ri=new I(Mm);function Xc(t,e,r){switch(t){case"address":return r?Ji(e,32):ee(e);case"string":return ir(e);case"bytes":return ee(e);case"bool":return e=e?"0x01":"0x00",r?Ji(e,32):ee(e)}let n=t.match(Cm);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!=0||i===0||i>256)&&ri.throwArgumentError("invalid number type","type",t),r&&(i=256),e=j.from(e).toTwos(i),Ji(e,i/8)}if(n=t.match(Pm),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&ri.throwArgumentError("invalid bytes type","type",t),ee(e).byteLength!==i&&ri.throwArgumentError(`invalid value for ${t}`,"value",e),r?ee((e+Lm).substring(0,66)):e}if(n=t.match(Dm),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&ri.throwArgumentError(`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(Xc(i,a,!0))}),Rt(o)}return ri.throwArgumentError("invalid type","type",t)}function Bm(t,e){t.length!=e.length&&ri.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(Xc(n,e[i]))}),Z(Rt(r))}function V1(t,e){return lt(Bm(t,e))}const Fm=10,Zc=2;function Qc(t){return js(t,[])}function js(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return Um(t,e);default:return String(t)}}function Um(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const r=[...e,t];if($m(t)){const n=t.toJSON();if(n!==t)return typeof n=="string"?n:js(n,r)}else if(Array.isArray(t))return jm(t,r);return qm(t,r)}function $m(t){return typeof t.toJSON=="function"}function qm(t,e){const r=Object.entries(t);if(r.length===0)return"{}";if(e.length>Zc)return"["+Gm(t)+"]";const n=r.map(([i,s])=>i+": "+js(s,e));return"{ "+n.join(", ")+" }"}function jm(t,e){if(t.length===0)return"[]";if(e.length>Zc)return"[Array]";const r=Math.min(Fm,t.length),n=t.length-r,i=[];for(let s=0;s<r;++s)i.push(js(t[s],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}function Gm(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}function Gs(t,e){if(!Boolean(t))throw new Error(e)}class Vm{constructor(e,r,n){this.start=e.start,this.end=r.end,this.startToken=e,this.endToken=r,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class el{constructor(e,r,n,i,s,o){this.kind=e,this.start=r,this.end=n,this.line=i,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const tl={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},zm=new Set(Object.keys(tl));function rl(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&zm.has(e)}let ni;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(ni||(ni={}));let Q;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Q||(Q={}));const Hm=Object.freeze({});function nl(t,e,r=tl){const n=new Map;for(const O of Object.values(Q))n.set(O,Jm(e,O));let i,s=Array.isArray(t),o=[t],a=-1,f=[],c,h,p;const b=[],E=[];let k=t;do{a++;const O=a===o.length,D=O&&f.length!==0;if(O){if(h=E.length===0?void 0:b[b.length-1],c=p,p=E.pop(),D)if(s){c=c.slice();let Y=0;for(const[_e,be]of f){const we=_e-Y;be===null?(c.splice(we,1),Y++):c[we]=be}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[Y,_e]of f)c[Y]=_e}a=i.index,o=i.keys,f=i.edits,s=i.inArray,i=i.prev}else{if(h=p?s?a:o[a]:void 0,c=p?p[h]:k,c==null)continue;p&&b.push(h)}let V;if(!Array.isArray(c)){var P,T;rl(c)||Gs(!1,`Invalid AST Node: ${Qc(c)}.`);const Y=O?(P=n.get(c.kind))===null||P===void 0?void 0:P.leave:(T=n.get(c.kind))===null||T===void 0?void 0:T.enter;if(V=Y==null?void 0:Y.call(e,c,h,p,b,E),V===Hm)break;if(V===!1){if(!O){b.pop();continue}}else if(V!==void 0&&(f.push([h,V]),!O))if(rl(V))c=V;else{b.pop();continue}}if(V===void 0&&D&&f.push([h,c]),O)b.pop();else{var S;i={inArray:s,index:a,keys:o,edits:f,prev:i},s=Array.isArray(c),o=s?c:(S=r[c.kind])!==null&&S!==void 0?S:[],a=-1,f=[],p&&E.push(p),p=c}}while(i!==void 0);return f.length!==0&&(k=f[f.length-1][1]),k}function Jm(t,e){const r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function Pa(t){return t===9||t===32}function Pi(t){return t>=48&&t<=57}function il(t){return t>=97&&t<=122||t>=65&&t<=90}function sl(t){return il(t)||t===95}function Wm(t){return il(t)||Pi(t)||t===95}function Km(t){var e;let r=Number.MAX_SAFE_INTEGER,n=null,i=-1;for(let o=0;o<t.length;++o){var s;const a=t[o],f=Ym(a);f!==a.length&&(n=(s=n)!==null&&s!==void 0?s:o,i=o,o!==0&&f<r&&(r=f))}return t.map((o,a)=>a===0?o:o.slice(r)).slice((e=n)!==null&&e!==void 0?e:0,i+1)}function Ym(t){let e=0;for(;e<t.length&&Pa(t.charCodeAt(e));)++e;return e}function Xm(t,e){const r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,s=n.length>1&&n.slice(1).every(E=>E.length===0||Pa(E.charCodeAt(0))),o=r.endsWith('\\"""'),a=t.endsWith('"')&&!o,f=t.endsWith("\\"),c=a||f,h=!(e!=null&&e.minimize)&&(!i||t.length>70||c||s||o);let p="";const b=i&&Pa(t.charCodeAt(0));return(h&&!b||s)&&(p+=`
`),p+=r,(h||c)&&(p+=`
`),'"""'+p+'"""'}function Zm(t){return`"${t.replace(Qm,ev)}"`}const Qm=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function ev(t){return tv[t.charCodeAt(0)]}const tv=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function ol(t){return nl(t,nv)}const rv=80,nv={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>H(t.definitions,`

`)},OperationDefinition:{leave(t){const e=le("(",H(t.variableDefinitions,", "),")"),r=H([t.operation,H([t.name,e]),H(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+le(" = ",r)+le(" ",H(n," "))},SelectionSet:{leave:({selections:t})=>tr(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){const s=le("",t,": ")+e;let o=s+le("(",H(r,", "),")");return o.length>rv&&(o=s+le(`(
`,Vs(H(r,`
`)),`
)`)),H([o,H(n," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+le(" ",H(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>H(["...",le("on ",t),H(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${le("(",H(r,", "),")")} on ${e} ${le("",H(n," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?Xm(t):Zm(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+H(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+H(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+le("(",H(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>le("",t,`
`)+H(["schema",H(e," "),tr(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>le("",t,`
`)+H(["scalar",e,H(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>le("",t,`
`)+H(["type",e,le("implements ",H(r," & ")),H(n," "),tr(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:i})=>le("",t,`
`)+e+(al(r)?le(`(
`,Vs(H(r,`
`)),`
)`):le("(",H(r,", "),")"))+": "+n+le(" ",H(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:i})=>le("",t,`
`)+H([e+": "+r,le("= ",n),H(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>le("",t,`
`)+H(["interface",e,le("implements ",H(r," & ")),H(n," "),tr(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>le("",t,`
`)+H(["union",e,H(r," "),le("= ",H(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>le("",t,`
`)+H(["enum",e,H(r," "),tr(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>le("",t,`
`)+H([e,H(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>le("",t,`
`)+H(["input",e,H(r," "),tr(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:i})=>le("",t,`
`)+"directive @"+e+(al(r)?le(`(
`,Vs(H(r,`
`)),`
)`):le("(",H(r,", "),")"))+(n?" repeatable":"")+" on "+H(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>H(["extend schema",H(t," "),tr(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>H(["extend scalar",t,H(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>H(["extend type",t,le("implements ",H(e," & ")),H(r," "),tr(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>H(["extend interface",t,le("implements ",H(e," & ")),H(r," "),tr(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>H(["extend union",t,H(e," "),le("= ",H(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>H(["extend enum",t,H(e," "),tr(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>H(["extend input",t,H(e," "),tr(r)]," ")}};function H(t,e=""){var r;return(r=t==null?void 0:t.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function tr(t){return le(`{
`,Vs(H(t,`
`)),`
}`)}function le(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function Vs(t){return le("  ",t.replace(/\n/g,`
  `))}function al(t){var e;return(e=t==null?void 0:t.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}function iv(t){return typeof t=="object"&&t!==null}function sv(t,e){if(!Boolean(t))throw new Error(e!=null?e:"Unexpected invariant triggered.")}const ov=/\r\n|[\n\r]/g;function Ca(t,e){let r=0,n=1;for(const i of t.body.matchAll(ov)){if(typeof i.index=="number"||sv(!1),i.index>=e)break;r=i.index+i[0].length,n+=1}return{line:n,column:e+1-r}}function av(t){return fl(t.source,Ca(t.source,t.start))}function fl(t,e){const r=t.locationOffset.column-1,n="".padStart(r)+t.body,i=e.line-1,s=t.locationOffset.line-1,o=e.line+s,a=e.line===1?r:0,f=e.column+a,c=`${t.name}:${o}:${f}
`,h=n.split(/\r\n|[\n\r]/g),p=h[i];if(p.length>120){const b=Math.floor(f/80),E=f%80,k=[];for(let P=0;P<p.length;P+=80)k.push(p.slice(P,P+80));return c+ul([[`${o} |`,k[0]],...k.slice(1,b+1).map(P=>["|",P]),["|","^".padStart(E)],["|",k[b+1]]])}return c+ul([[`${o-1} |`,h[i-1]],[`${o} |`,p],["|","^".padStart(f)],[`${o+1} |`,h[i+1]]])}function ul(t){const e=t.filter(([n,i])=>i!==void 0),r=Math.max(...e.map(([n])=>n.length));return e.map(([n,i])=>n.padStart(r)+(i?" "+i:"")).join(`
`)}class Ci extends Error{constructor(e,r,n,i,s,o,a){var f,c,h;super(e);this.name="GraphQLError",this.path=s!=null?s:void 0,this.originalError=o!=null?o:void 0,this.nodes=cl(Array.isArray(r)?r:r?[r]:void 0);const p=cl((f=this.nodes)===null||f===void 0?void 0:f.map(E=>E.loc).filter(E=>E!=null));this.source=n!=null?n:p==null||(c=p[0])===null||c===void 0?void 0:c.source,this.positions=i!=null?i:p==null?void 0:p.map(E=>E.start),this.locations=i&&n?i.map(E=>Ca(n,E)):p==null?void 0:p.map(E=>Ca(E.source,E.start));const b=iv(o==null?void 0:o.extensions)?o==null?void 0:o.extensions:void 0;this.extensions=(h=a!=null?a:b)!==null&&h!==void 0?h:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),o!=null&&o.stack?Object.defineProperty(this,"stack",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Ci):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const r of this.nodes)r.loc&&(e+=`

`+av(r.loc));else if(this.source&&this.locations)for(const r of this.locations)e+=`

`+fl(this.source,r);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function cl(t){return t===void 0||t.length===0?void 0:t}function Et(t,e,r){return new Ci(`Syntax Error: ${r}`,void 0,t,[e])}let C;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(C||(C={}));const fv=function(e,r){return e instanceof r};class ll{constructor(e,r="GraphQL request",n={line:1,column:1}){typeof e=="string"||Gs(!1,`Body must be a string. Received: ${Qc(e)}.`),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||Gs(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Gs(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function uv(t){return fv(t,ll)}let Da;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Da||(Da={}));class cv{constructor(e){const r=new el(C.SOF,0,0,0,0);this.source=e,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==C.EOF)do if(e.next)e=e.next;else{const r=hv(this,e.end);e.next=r,r.prev=e,e=r}while(e.kind===C.COMMENT);return e}}function lv(t){return t===C.BANG||t===C.DOLLAR||t===C.AMP||t===C.PAREN_L||t===C.PAREN_R||t===C.SPREAD||t===C.COLON||t===C.EQUALS||t===C.AT||t===C.BRACKET_L||t===C.BRACKET_R||t===C.BRACE_L||t===C.PIPE||t===C.BRACE_R}function ii(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function zs(t,e){return hl(t.charCodeAt(e))&&dl(t.charCodeAt(e+1))}function hl(t){return t>=55296&&t<=56319}function dl(t){return t>=56320&&t<=57343}function Tn(t,e){const r=t.source.body.codePointAt(e);if(r===void 0)return C.EOF;if(r>=32&&r<=126){const n=String.fromCodePoint(r);return n==='"'?`'"'`:`"${n}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function dt(t,e,r,n,i){const s=t.line,o=1+r-t.lineStart;return new el(e,r,n,s,o,i)}function hv(t,e){const r=t.source.body,n=r.length;let i=e;for(;i<n;){const s=r.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:r.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return dv(t,i);case 33:return dt(t,C.BANG,i,i+1);case 36:return dt(t,C.DOLLAR,i,i+1);case 38:return dt(t,C.AMP,i,i+1);case 40:return dt(t,C.PAREN_L,i,i+1);case 41:return dt(t,C.PAREN_R,i,i+1);case 46:if(r.charCodeAt(i+1)===46&&r.charCodeAt(i+2)===46)return dt(t,C.SPREAD,i,i+3);break;case 58:return dt(t,C.COLON,i,i+1);case 61:return dt(t,C.EQUALS,i,i+1);case 64:return dt(t,C.AT,i,i+1);case 91:return dt(t,C.BRACKET_L,i,i+1);case 93:return dt(t,C.BRACKET_R,i,i+1);case 123:return dt(t,C.BRACE_L,i,i+1);case 124:return dt(t,C.PIPE,i,i+1);case 125:return dt(t,C.BRACE_R,i,i+1);case 34:return r.charCodeAt(i+1)===34&&r.charCodeAt(i+2)===34?bv(t,i):gv(t,i)}if(Pi(s)||s===45)return pv(t,i,s);if(sl(s))return _v(t,i);throw Et(t.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:ii(s)||zs(r,i)?`Unexpected character: ${Tn(t,i)}.`:`Invalid character: ${Tn(t,i)}.`)}return dt(t,C.EOF,n,n)}function dv(t,e){const r=t.source.body,n=r.length;let i=e+1;for(;i<n;){const s=r.charCodeAt(i);if(s===10||s===13)break;if(ii(s))++i;else if(zs(r,i))i+=2;else break}return dt(t,C.COMMENT,e,i,r.slice(e+1,i))}function pv(t,e,r){const n=t.source.body;let i=e,s=r,o=!1;if(s===45&&(s=n.charCodeAt(++i)),s===48){if(s=n.charCodeAt(++i),Pi(s))throw Et(t.source,i,`Invalid number, unexpected digit after 0: ${Tn(t,i)}.`)}else i=La(t,i,s),s=n.charCodeAt(i);if(s===46&&(o=!0,s=n.charCodeAt(++i),i=La(t,i,s),s=n.charCodeAt(i)),(s===69||s===101)&&(o=!0,s=n.charCodeAt(++i),(s===43||s===45)&&(s=n.charCodeAt(++i)),i=La(t,i,s),s=n.charCodeAt(i)),s===46||sl(s))throw Et(t.source,i,`Invalid number, expected digit but got: ${Tn(t,i)}.`);return dt(t,o?C.FLOAT:C.INT,e,i,n.slice(e,i))}function La(t,e,r){if(!Pi(r))throw Et(t.source,e,`Invalid number, expected digit but got: ${Tn(t,e)}.`);const n=t.source.body;let i=e+1;for(;Pi(n.charCodeAt(i));)++i;return i}function gv(t,e){const r=t.source.body,n=r.length;let i=e+1,s=i,o="";for(;i<n;){const a=r.charCodeAt(i);if(a===34)return o+=r.slice(s,i),dt(t,C.STRING,e,i+1,o);if(a===92){o+=r.slice(s,i);const f=r.charCodeAt(i+1)===117?r.charCodeAt(i+2)===123?mv(t,i):vv(t,i):yv(t,i);o+=f.value,i+=f.size,s=i;continue}if(a===10||a===13)break;if(ii(a))++i;else if(zs(r,i))i+=2;else throw Et(t.source,i,`Invalid character within String: ${Tn(t,i)}.`)}throw Et(t.source,i,"Unterminated string.")}function mv(t,e){const r=t.source.body;let n=0,i=3;for(;i<12;){const s=r.charCodeAt(e+i++);if(s===125){if(i<5||!ii(n))break;return{value:String.fromCodePoint(n),size:i}}if(n=n<<4|Di(s),n<0)break}throw Et(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+i)}".`)}function vv(t,e){const r=t.source.body,n=pl(r,e+2);if(ii(n))return{value:String.fromCodePoint(n),size:6};if(hl(n)&&r.charCodeAt(e+6)===92&&r.charCodeAt(e+7)===117){const i=pl(r,e+8);if(dl(i))return{value:String.fromCodePoint(n,i),size:12}}throw Et(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+6)}".`)}function pl(t,e){return Di(t.charCodeAt(e))<<12|Di(t.charCodeAt(e+1))<<8|Di(t.charCodeAt(e+2))<<4|Di(t.charCodeAt(e+3))}function Di(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function yv(t,e){const r=t.source.body;switch(r.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Et(t.source,e,`Invalid character escape sequence: "${r.slice(e,e+2)}".`)}function bv(t,e){const r=t.source.body,n=r.length;let i=t.lineStart,s=e+3,o=s,a="";const f=[];for(;s<n;){const c=r.charCodeAt(s);if(c===34&&r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34){a+=r.slice(o,s),f.push(a);const h=dt(t,C.BLOCK_STRING,e,s+3,Km(f).join(`
`));return t.line+=f.length-1,t.lineStart=i,h}if(c===92&&r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34&&r.charCodeAt(s+3)===34){a+=r.slice(o,s),o=s+1,s+=4;continue}if(c===10||c===13){a+=r.slice(o,s),f.push(a),c===13&&r.charCodeAt(s+1)===10?s+=2:++s,a="",o=s,i=s;continue}if(ii(c))++s;else if(zs(r,s))s+=2;else throw Et(t.source,s,`Invalid character within String: ${Tn(t,s)}.`)}throw Et(t.source,s,"Unterminated string.")}function _v(t,e){const r=t.source.body,n=r.length;let i=e+1;for(;i<n;){const s=r.charCodeAt(i);if(Wm(s))++i;else break}return dt(t,C.NAME,e,i,r.slice(e,i))}function wv(t,e){return new xv(t,e).parseDocument()}class xv{constructor(e,r){const n=uv(e)?e:new ll(e);this._lexer=new cv(n),this._options=r}parseName(){const e=this.expectToken(C.NAME);return this.node(e,{kind:Q.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:Q.DOCUMENT,definitions:this.many(C.SOF,this.parseDefinition,C.EOF)})}parseDefinition(){if(this.peek(C.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),r=e?this._lexer.lookahead():this._lexer.token;if(r.kind===C.NAME){switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Et(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(r.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(r)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(C.BRACE_L))return this.node(e,{kind:Q.OPERATION_DEFINITION,operation:ni.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const r=this.parseOperationType();let n;return this.peek(C.NAME)&&(n=this.parseName()),this.node(e,{kind:Q.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(C.NAME);switch(e.value){case"query":return ni.QUERY;case"mutation":return ni.MUTATION;case"subscription":return ni.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(C.PAREN_L,this.parseVariableDefinition,C.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Q.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(C.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(C.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(C.DOLLAR),this.node(e,{kind:Q.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Q.SELECTION_SET,selections:this.many(C.BRACE_L,this.parseSelection,C.BRACE_R)})}parseSelection(){return this.peek(C.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,r=this.parseName();let n,i;return this.expectOptionalToken(C.COLON)?(n=r,i=this.parseName()):i=r,this.node(e,{kind:Q.FIELD,alias:n,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(C.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const r=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(C.PAREN_L,r,C.PAREN_R)}parseArgument(e=!1){const r=this._lexer.token,n=this.parseName();return this.expectToken(C.COLON),this.node(r,{kind:Q.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(C.SPREAD);const r=this.expectOptionalKeyword("on");return!r&&this.peek(C.NAME)?this.node(e,{kind:Q.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:Q.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var e;const r=this._lexer.token;return this.expectKeyword("fragment"),((e=this._options)===null||e===void 0?void 0:e.allowLegacyFragmentVariables)===!0?this.node(r,{kind:Q.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(r,{kind:Q.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const r=this._lexer.token;switch(r.kind){case C.BRACKET_L:return this.parseList(e);case C.BRACE_L:return this.parseObject(e);case C.INT:return this._lexer.advance(),this.node(r,{kind:Q.INT,value:r.value});case C.FLOAT:return this._lexer.advance(),this.node(r,{kind:Q.FLOAT,value:r.value});case C.STRING:case C.BLOCK_STRING:return this.parseStringLiteral();case C.NAME:switch(this._lexer.advance(),r.value){case"true":return this.node(r,{kind:Q.BOOLEAN,value:!0});case"false":return this.node(r,{kind:Q.BOOLEAN,value:!1});case"null":return this.node(r,{kind:Q.NULL});default:return this.node(r,{kind:Q.ENUM,value:r.value})}case C.DOLLAR:if(e)if(this.expectToken(C.DOLLAR),this._lexer.token.kind===C.NAME){const n=this._lexer.token.value;throw Et(this._lexer.source,r.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(r);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this._lexer.advance(),this.node(e,{kind:Q.STRING,value:e.value,block:e.kind===C.BLOCK_STRING})}parseList(e){const r=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:Q.LIST,values:this.any(C.BRACKET_L,r,C.BRACKET_R)})}parseObject(e){const r=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:Q.OBJECT,fields:this.any(C.BRACE_L,r,C.BRACE_R)})}parseObjectField(e){const r=this._lexer.token,n=this.parseName();return this.expectToken(C.COLON),this.node(r,{kind:Q.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const r=[];for(;this.peek(C.AT);)r.push(this.parseDirective(e));return r}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const r=this._lexer.token;return this.expectToken(C.AT),this.node(r,{kind:Q.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let r;if(this.expectOptionalToken(C.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(C.BRACKET_R),r=this.node(e,{kind:Q.LIST_TYPE,type:n})}else r=this.parseNamedType();return this.expectOptionalToken(C.BANG)?this.node(e,{kind:Q.NON_NULL_TYPE,type:r}):r}parseNamedType(){return this.node(this._lexer.token,{kind:Q.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(C.STRING)||this.peek(C.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.many(C.BRACE_L,this.parseOperationTypeDefinition,C.BRACE_R);return this.node(e,{kind:Q.SCHEMA_DEFINITION,description:r,directives:n,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,r=this.parseOperationType();this.expectToken(C.COLON);const n=this.parseNamedType();return this.node(e,{kind:Q.OPERATION_TYPE_DEFINITION,operation:r,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:Q.SCALAR_TYPE_DEFINITION,description:r,name:n,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:Q.OBJECT_TYPE_DEFINITION,description:r,name:n,interfaces:i,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(C.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(C.BRACE_L,this.parseFieldDefinition,C.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,r=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(C.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:Q.FIELD_DEFINITION,description:r,name:n,arguments:i,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(C.PAREN_L,this.parseInputValueDef,C.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,r=this.parseDescription(),n=this.parseName();this.expectToken(C.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken(C.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:Q.INPUT_VALUE_DEFINITION,description:r,name:n,type:i,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:Q.INTERFACE_TYPE_DEFINITION,description:r,name:n,interfaces:i,directives:s,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:Q.UNION_TYPE_DEFINITION,description:r,name:n,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(C.EQUALS)?this.delimitedMany(C.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:Q.ENUM_TYPE_DEFINITION,description:r,name:n,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany(C.BRACE_L,this.parseEnumValueDefinition,C.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,r=this.parseDescription(),n=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:Q.ENUM_VALUE_DEFINITION,description:r,name:n,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Et(this._lexer.source,this._lexer.token.start,`${Hs(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:Q.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:n,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(C.BRACE_L,this.parseInputValueDef,C.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===C.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const r=this.parseConstDirectives(),n=this.optionalMany(C.BRACE_L,this.parseOperationTypeDefinition,C.BRACE_R);if(r.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:Q.SCHEMA_EXTENSION,directives:r,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const r=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(e,{kind:Q.SCALAR_TYPE_EXTENSION,name:r,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:Q.OBJECT_TYPE_EXTENSION,name:r,interfaces:n,directives:i,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:Q.INTERFACE_TYPE_EXTENSION,name:r,interfaces:n,directives:i,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Q.UNION_TYPE_EXTENSION,name:r,directives:n,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Q.ENUM_TYPE_EXTENSION,name:r,directives:n,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Q.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:n,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(C.AT);const n=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:Q.DIRECTIVE_DEFINITION,description:r,name:n,arguments:i,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(C.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,r=this.parseName();if(Object.prototype.hasOwnProperty.call(Da,r.value))return r;throw this.unexpected(e)}node(e,r){var n;return((n=this._options)===null||n===void 0?void 0:n.noLocation)!==!0&&(r.loc=new Vm(e,this._lexer.lastToken,this._lexer.source)),r}peek(e){return this._lexer.token.kind===e}expectToken(e){const r=this._lexer.token;if(r.kind===e)return this._lexer.advance(),r;throw Et(this._lexer.source,r.start,`Expected ${gl(e)}, found ${Hs(r)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this._lexer.advance(),!0):!1}expectKeyword(e){const r=this._lexer.token;if(r.kind===C.NAME&&r.value===e)this._lexer.advance();else throw Et(this._lexer.source,r.start,`Expected "${e}", found ${Hs(r)}.`)}expectOptionalKeyword(e){const r=this._lexer.token;return r.kind===C.NAME&&r.value===e?(this._lexer.advance(),!0):!1}unexpected(e){const r=e!=null?e:this._lexer.token;return Et(this._lexer.source,r.start,`Unexpected ${Hs(r)}.`)}any(e,r,n){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(n);)i.push(r.call(this));return i}optionalMany(e,r,n){if(this.expectOptionalToken(e)){const i=[];do i.push(r.call(this));while(!this.expectOptionalToken(n));return i}return[]}many(e,r,n){this.expectToken(e);const i=[];do i.push(r.call(this));while(!this.expectOptionalToken(n));return i}delimitedMany(e,r){this.expectOptionalToken(e);const n=[];do n.push(r.call(this));while(this.expectOptionalToken(e));return n}}function Hs(t){const e=t.value;return gl(t.kind)+(e!=null?` "${e}"`:"")}function gl(t){return lv(t)?`"${t}"`:t}function ft(t,e){return e.tag=t,e}function Pt(){}function Ba(t){return function(e){var r=t.length;let n=!1,i=!1,s=!1,o=0;e(ft(0,[function(a){if(a)n=!0;else if(i)s=!0;else{for(i=s=!0;s&&!n;)o<r?(a=t[o],o=o+1|0,s=!1,e(ft(1,[a]))):(n=!0,e(0));i=!1}}]))}}function Ev(){}function Nv(t){t(0)}function Av(t){let e=!1;t(ft(0,[function(r){r?e=!0:e||t(0)}]))}function Sv(t){if(t===null||t[0]!==xl)return t;if((t=t[1])!==0)return[xl,t-1|0]}function kv(t){return function(e){return function(r){function n(p){typeof p=="number"?f&&(f=!1,(p=i.shift())!==void 0?(p=t(Sv(p)),f=!0,p(n)):h?r(0):o||(o=!0,s(0))):p.tag?f&&(r(p),c?c=!1:a(0)):(a=p=p[0],c=!1,p(0))}let i=[],s=Pt,o=!1,a=Pt,f=!1,c=!1,h=!1;e(function(p){typeof p=="number"?h||(h=!0,f||i.length!==0||r(0)):p.tag?h||(p=p[0],o=!1,f?i.push(p):(p=t(p),f=!0,p(n))):s=p[0]}),r(ft(0,[function(p){if(p){if(h||(h=!0,s(1)),f)return f=!1,a(1)}else h||o||(o=!0,s(0)),f&&!c&&(c=!0,a(0))}]))}}}function Tv(t){return t}function Iv(t){return t(0)}function ml(t){return function(e){return function(r){let n=Pt,i=!1,s=[],o=!1;e(function(a){typeof a=="number"?o||(o=!0,s.length===0&&r(0)):a.tag?o||(i=!1,function(f){function c(b){typeof b=="number"?s.length!==0&&(s=s.filter(h),b=s.length===0,o&&b?r(0):!i&&b&&(i=!0,n(0))):b.tag?s.length!==0&&(r(ft(1,[b[0]])),p(0)):(p=b=b[0],s=s.concat(b),b(0))}function h(b){return b!==p}let p=Pt;f.length===1?f(c):f.bind(null,c)}(t(a[0])),i||(i=!0,n(0))):n=a[0]}),r(ft(0,[function(a){a?(o||(o=!0,n(a)),s.forEach(function(f){return f(a)}),s=[]):(i||o?i=!1:(i=!0,n(0)),s.forEach(Iv))}]))}}}function Rv(t){return t}function Li(t){return function(e){return function(r){let n=!1;return e(function(i){if(typeof i=="number")n||(n=!0,r(i));else if(i.tag)n||(t(i[0]),r(i));else{var s=i[0];r(ft(0,[function(o){if(!n)return o&&(n=!0),s(o)}]))}})}}}function Ov(t){t(0)}function Mv(t){return function(e){return function(r){function n(h){a&&(typeof h=="number"?(a=!1,c?r(h):s||(s=!0,i(0))):h.tag?(r(h),f?f=!1:o(0)):(o=h=h[0],f=!1,h(0)))}let i=Pt,s=!1,o=Pt,a=!1,f=!1,c=!1;e(function(h){typeof h=="number"?c||(c=!0,a||r(0)):h.tag?c||(a&&(o(1),o=Pt),s?s=!1:(s=!0,i(0)),h=t(h[0]),a=!0,h(n)):i=h[0]}),r(ft(0,[function(h){if(h){if(c||(c=!0,i(1)),a)return a=!1,o(1)}else c||s||(s=!0,i(0)),a&&!f&&(f=!0,o(0))}]))}}}function Pv(t){return function(e){return function(r){let n=[],i=Pt;return e(function(s){typeof s=="number"?Ba(n)(r):s.tag?(n.length>=t&&0<t&&n.shift(),n.push(s[0]),i(0)):(s=s[0],0>=t?(s(1),Av(r)):(i=s,s(0)))})}}}function Fa(t){return function(e){let r=Pt,n=!1;return e(function(i){typeof i=="number"?n=!0:i.tag?n||(t(i[0]),r(0)):(r=i=i[0],i(0))}),{unsubscribe:function(){if(!n)return n=!0,r(1)}}}}function Cv(){}function z1(t){return kv(Tv)(Ba(t))}function Ut(t){return function(e){return function(r){let n=Pt;return e(function(i){typeof i=="number"?r(i):i.tag?t(i[0])?r(i):n(0):(n=i[0],r(i))})}}}function vl(t){return function(e){let r=!1;e(ft(0,[function(n){n?r=!0:r||(r=!0,e(ft(1,[t])),e(0))}]))}}function yl(t){return function(e){let r=Ev,n=!1;r=t({next:function(i){n||e(ft(1,[i]))},complete:function(){n||(n=!0,e(0))}}),e(ft(0,[function(i){if(i&&!n)return n=!0,r()}]))}}function Dv(){let t=[],e=!1;return{source:function(r){function n(i){return i!==r}t=t.concat(r),r(ft(0,[function(i){i&&(t=t.filter(n))}]))},next:function(r){e||t.forEach(function(n){n(ft(1,[r]))})},complete:function(){e||(e=!0,t.forEach(Nv))}}}function Bi(t){return function(e){return function(r){return e(function(n){n=typeof n=="number"?0:n.tag?ft(1,[t(n[0])]):ft(0,[n[0]]),r(n)})}}}function Js(t){return ml(Rv)(Ba(t))}function bl(t){return function(e){return function(r){let n=!1;return e(function(i){if(typeof i=="number")return n?void 0:(n=!0,r(i),t());if(i.tag)n||r(i);else{var s=i[0];r(ft(0,[function(o){if(!n)return o?(n=!0,s(o),t()):s(o)}]))}})}}}function _l(t){return function(e){return function(r){return e(function(n){typeof n=="number"||n.tag?r(n):(r(n),t())})}}}function H1(){for(var t=arguments,e=arguments[0],r=1,n=arguments.length;r<n;r++)e=t[r](e);return e}function Lv(t){return Fa(Cv)(t)}function J1(t,e){return function(r,n){return function(i){return function(s){let o=n;return i(function(a){typeof a=="number"?a=0:a.tag?(o=r(o,a[0]),a=ft(1,[o])):a=ft(0,[a[0]]),s(a)})}}}(t,e)}function Ws(t){function e(s){typeof s=="number"?(r.forEach(Ov),r=[]):s.tag?(i=!1,r.forEach(function(o){o(s)})):n=s[0]}let r=[],n=Pt,i=!1;return function(s){function o(a){return a!==s}r=r.concat(s),r.length===1&&t(e),s(ft(0,[function(a){if(a){if(r=r.filter(o),r.length===0)return n(1)}else i||(i=!0,n(a))}]))}}function Ua(t){return function(e){return function(r){let n=!1,i=0,s=Pt;e(function(o){typeof o=="number"?n||(n=!0,r(0)):o.tag?i<t&&!n&&(i=i+1|0,r(o),!n&&i>=t&&(n=!0,r(0),s(1))):(o=o[0],0>=t?(n=!0,r(0),o(1)):s=o)}),r(ft(0,[function(o){if(!n){if(o)return n=!0,s(1);if(i<t)return s(0)}}]))}}}function wl(t){return function(e){return function(r){function n(a){typeof a!="number"&&(a.tag?(i=!0,s(1),r(0)):(o=a=a[0],a(0)))}let i=!1,s=Pt,o=Pt;e(function(a){typeof a=="number"?i||(i=!0,o(1),r(0)):a.tag?i||r(a):(s=a[0],t(n))}),r(ft(0,[function(a){if(!i)return a?(i=!0,s(1),o(1)):s(0)}]))}}}function Bv(t){return new Promise(function(e){Pv(1)(t)(function(r){typeof r!="number"&&(r.tag?e(r[0]):r[0](0))})})}var xl=[];typeof Symbol=="function"&&(Symbol.observable||(Symbol.observable=Symbol("observable")));function Fv(t){return typeof t=="string"?new Ci(t):typeof t=="object"&&t.message?new Ci(t.message,t.nodes,t.source,t.positions,t.path,t,t.extensions||{}):t}var $a=function(t){function e(r){var n=r.networkError,i=r.response,s=(r.graphQLErrors||[]).map(Fv),o=function(f,c){var h="";return f!==void 0?h="[Network] "+f.message:(c!==void 0&&c.forEach(function(p){h+="[GraphQL] "+p.message+`
`}),h.trim())}(n,s);t.call(this,o),this.name="CombinedError",this.message=o,this.graphQLErrors=s,this.networkError=n,this.response=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.message},e}(Error);function El(t,e){t|=0;for(var r=0,n=0|e.length;r<n;r++)t=(t<<5)+t+e.charCodeAt(r);return t}function Nl(t){return El(5381,t)>>>0}var Ks=new Set,Al=new WeakMap;function Fi(t){if(t===null||Ks.has(t))return"null";if(typeof t!="object")return JSON.stringify(t)||"";if(t.toJSON)return Fi(t.toJSON());if(Array.isArray(t)){for(var e="[",r=0,n=t.length;r<n;r++){r>0&&(e+=",");var i=Fi(t[r]);e+=i.length>0?i:"null"}return e+="]"}var s=Object.keys(t).sort();if(!s.length&&t.constructor&&t.constructor!==Object){var o=Al.get(t)||Math.random().toString(36).slice(2);return Al.set(t,o),'{"__key":"'+o+'"}'}Ks.add(t);for(var a="{",f=0,c=s.length;f<c;f++){var h=s[f],p=Fi(t[h]);p&&(a.length>1&&(a+=","),a+=Fi(h)+":"+p)}return Ks.delete(t),a+="}"}function qa(t){return Ks.clear(),Fi(t)}function ja(t){var e=(typeof t!="string"?t.loc&&t.loc.source.body||ol(t):t).replace(/([\s,]|#[^\n\r]+)+/g," ").trim();if(typeof t!="string"){var r="definitions"in t&&kl(t);r&&(e="# "+r+`
`+e),t.loc||(t.loc={start:0,end:e.length,source:{body:e,name:"gql",locationOffset:{line:1,column:1}}})}return e}var Ga=new Map;function Sl(t){var e,r;return typeof t=="string"?(e=Nl(ja(t)),r=Ga.get(e)||wv(t,{noLocation:!0})):(e=t.__key||Nl(ja(t)),r=Ga.get(e)||t),r.loc||ja(r),r.__key=e,Ga.set(e,r),r}function Va(t,e){e||(e={});var r=Sl(t);return{key:El(r.__key,qa(e))>>>0,query:r,variables:e}}function kl(t){for(var e=0,r=t.definitions.length;e<r;e++){var n=t.definitions[e];if(n.kind===Q.OPERATION_DEFINITION&&n.name)return n.name.value}}function Uv(t){for(var e=0,r=t.definitions.length;e<r;e++){var n=t.definitions[e];if(n.kind===Q.OPERATION_DEFINITION)return n.operation}}function mt(){return(mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function za(t,e,r){if(!("data"in e)&&!("errors"in e)||"path"in e)throw new Error("No Content");return{operation:t,data:e.data,error:Array.isArray(e.errors)?new $a({graphQLErrors:e.errors,response:r}):void 0,extensions:typeof e.extensions=="object"&&e.extensions||void 0,hasNext:!!e.hasNext}}function $v(t,e,r){var n=mt({},t);if(n.hasNext=!!e.hasNext,!("path"in e))return"data"in e&&(n.data=e.data),n;Array.isArray(e.errors)&&(n.error=new $a({graphQLErrors:n.error?n.error.graphQLErrors.concat(e.errors):e.errors,response:r}));for(var i=n.data=mt({},n.data),s=0,o;s<e.path.length;)i=i[o=e.path[s++]]=Array.isArray(i[o])?[].concat(i[o]):mt({},i[o]);return mt(i,e.data),n}function qv(t,e,r){return{operation:t,data:void 0,error:new $a({networkError:e,response:r}),extensions:void 0}}function Tl(t){return t.kind==="query"&&!!t.context.preferGetMethod}function jv(t){return{query:ol(t.query),operationName:kl(t.query),variables:t.variables||void 0,extensions:void 0}}function Gv(t,e){var r=Tl(t),n=t.context.url;if(!r||!e)return n;var i=[];return e.operationName&&i.push("operationName="+encodeURIComponent(e.operationName)),e.query&&i.push("query="+encodeURIComponent(e.query.replace(/#[^\n\r]+/g," ").trim())),e.variables&&i.push("variables="+encodeURIComponent(qa(e.variables))),e.extensions&&i.push("extensions="+encodeURIComponent(qa(e.extensions))),n+"?"+i.join("&")}function Vv(t,e){var r=Tl(t),n=typeof t.context.fetchOptions=="function"?t.context.fetchOptions():t.context.fetchOptions||{};return mt({},n,{body:!r&&e?JSON.stringify(e):void 0,method:r?"GET":"POST",headers:r?n.headers:mt({},{"content-type":"application/json"},n.headers)})}var Ha=typeof Symbol!="undefined"?Symbol.asyncIterator:null,zv=typeof TextDecoder!="undefined"?new TextDecoder:null,Hv=/content-type:[^\r\n]*application\/json/i,Jv=/boundary="?([^=";]+)"?/i;function Wv(t,e,r){var n=r.headers&&r.headers.get("Content-Type")||"";if(!/multipart\/mixed/i.test(n))return r.json().then(function(k){t(za(e,k,r))});var i="---",s=n.match(Jv);s&&(i="--"+s[1]);var o,a=function(){};if(Ha&&r[Ha]){var f=r[Ha]();o=f.next.bind(f)}else if("body"in r&&r.body){var c=r.body.getReader();a=c.cancel.bind(c),o=c.read.bind(c)}else throw new TypeError("Streaming requests unsupported");var h="",p=!0,b=null,E=null;return o().then(function k(P){if(!P.done){var T=function(oe){return oe.constructor.name==="Buffer"?oe.toString():zv.decode(oe)}(P.value),S=T.indexOf(i);for(S>-1?S+=h.length:S=h.indexOf(i),h+=T;S>-1;){var O=h.slice(0,S),D=h.slice(S+i.length);if(p)p=!1;else{var V=O.indexOf(`\r
\r
`)+4,Y=O.slice(0,V),_e=O.slice(V,O.lastIndexOf(`\r
`)),be=void 0;if(Hv.test(Y))try{be=JSON.parse(_e),b=E=E?$v(E,be,r):za(e,be,r)}catch{}if(D.slice(0,2)==="--"||be&&!be.hasNext){if(!E)return t(za(e,{},r));break}}S=(h=D).indexOf(i)}}if(b&&(t(b),b=null),!P.done&&(!E||E.hasNext))return o().then(k)}).finally(a)}function Kv(t,e,r){var n=r.redirect==="manual"?400:300,i=t.context.fetch;return yl(function(s){var o=s.next,a=s.complete,f=typeof AbortController!="undefined"?new AbortController:null;f&&(r.signal=f.signal);var c=!1,h=!1,p;return Promise.resolve().then(function(){if(!c)return(i||fetch)(e,r)}).then(function(b){if(!!b)return h=(p=b).status<200||p.status>=n,Wv(o,t,p)}).then(a).catch(function(b){if(b.name!=="AbortError"){var E=qv(t,h?new Error(p.statusText):b,p);o(E),a()}}),function(){c=!0,f&&f.abort()}})}function Ja(t,e){if(Array.isArray(t))for(var r=0;r<t.length;r++)Ja(t[r],e);else if(typeof t=="object"&&t!==null)for(var n in t)n==="__typename"&&typeof t[n]=="string"?e[t[n]]=0:Ja(t[n],e);return e}function Yv(t){return Object.keys(Ja(t,{}))}var Il=function(t){if(t.selectionSet&&!t.selectionSet.selections.some(function(e){return e.kind===Q.FIELD&&e.name.value==="__typename"&&!e.alias}))return mt({},t,{selectionSet:mt({},t.selectionSet,{selections:t.selectionSet.selections.concat([{kind:Q.FIELD,name:{kind:Q.NAME,value:"__typename"}}])})})},Rl=new Map;function Xv(t){var e=Sl(t),r=Rl.get(e.__key);return r||(r=nl(e,{Field:Il,InlineFragment:Il}),Object.defineProperty(r,"__key",{value:e.__key,enumerable:!1}),Rl.set(e.__key,r)),r}function Wa(t){return!t||typeof t!="object"?t:Object.keys(t).reduce(function(e,r){var n=t[r];return r==="__typename"?Object.defineProperty(e,"__typename",{enumerable:!1,value:n}):Array.isArray(n)?e[r]=n.map(Wa):n&&typeof n=="object"&&"__typename"in n?e[r]=Wa(n):e[r]=n,e},Array.isArray(t)?[]:{})}function Ol(t){return t.toPromise=function(){return Bv(Ua(1)(Ut(function(e){return!e.stale&&!e.hasNext})(t)))},t}function Ui(t,e,r){return r||(r=e.context),{key:e.key,query:e.query,variables:e.variables,kind:t,context:r}}function Ml(t,e){return Ui(t.kind,t,mt({},t.context,{meta:mt({},t.context.meta,e)}))}function Pl(){}function Ka(t){var e=t.kind;return e!=="mutation"&&e!=="query"}function Zv(t){var e=t.forward,r=t.client;t.dispatchDebug;var n=new Map,i=Object.create(null);function s(a){var f=Ui(a.kind,a);return f.query=Xv(a.query),f}function o(a){var f=a.context.requestPolicy;return a.kind==="query"&&f!=="network-only"&&(f==="cache-only"||n.has(a.key))}return function(a){var f=Ws(a),c=Bi(function(p){var b=n.get(p.key),E=mt({},b,{operation:Ml(p,{cacheOutcome:b?"hit":"miss"})});return p.context.requestPolicy==="cache-and-network"&&(E.stale=!0,Cl(r,p)),E})(Ut(function(p){return!Ka(p)&&o(p)})(f)),h=Li(function(p){var b=p.operation;if(!!b){var E=Yv(p.data).concat(b.context.additionalTypenames||[]);if(p.operation.kind==="mutation"){for(var k=new Set,P=0;P<E.length;P++){var T=E[P],S=i[T]||(i[T]=new Set);S.forEach(function(V){k.add(V)}),S.clear()}k.forEach(function(V){n.has(V)&&(b=n.get(V).operation,n.delete(V),Cl(r,b))})}else if(b.kind==="query"&&p.data){n.set(b.key,p);for(var O=0;O<E.length;O++){var D=E[O];(i[D]||(i[D]=new Set)).add(b.key)}}}})(e(Ut(function(p){return p.kind!=="query"||p.context.requestPolicy!=="cache-only"})(Bi(function(p){return Ml(p,{cacheOutcome:"miss"})})(Js([Bi(s)(Ut(function(p){return!Ka(p)&&!o(p)})(f)),Ut(function(p){return Ka(p)})(f)])))));return Js([c,h])}}function Cl(t,e){return t.reexecuteOperation(Ui(e.kind,e,mt({},e.context,{requestPolicy:"network-only"})))}function Qv(t){var e=t.forward;t.dispatchDebug;var r=new Set;function n(s){var o=s.key,a=s.kind;if(a==="teardown")return r.delete(o),!0;if(a!=="query"&&a!=="subscription")return!0;var f=r.has(o);return r.add(o),!f}function i(s){s.hasNext||r.delete(s.operation.key)}return function(s){var o=Ut(n)(s);return Li(i)(e(o))}}function e1(t){var e=t.forward;return t.dispatchDebug,function(r){var n=Ws(r),i=ml(function(o){var a=o.key,f=Ut(function(b){return b.kind==="teardown"&&b.key===a})(n),c=jv(o),h=Gv(o,c),p=Vv(o,c);return Li(function(b){b.data||b.error})(wl(f)(Kv(o,h,p)))})(Ut(function(o){return o.kind==="query"||o.kind==="mutation"})(n)),s=e(Ut(function(o){return o.kind!=="query"&&o.kind!=="mutation"})(n));return Js([i,s])}}function Dl(t){return t.dispatchDebug,function(e){return Ut(function(){return!1})(Li(function(r){if(r.kind!=="teardown"&&!1)var n})(e))}}Dl({dispatchDebug:Pl});function t1(t){return function(e){var r=e.client;return e.dispatchDebug,t.reduceRight(function(n,i){return i({client:r,forward:n,dispatchDebug:function(o){}})},e.forward)}}var r1=[Qv,Zv,e1],W1=function t(e){var r=new Map,n=new Map,i=[],s=Dv(),o=s.source,a=s.next,f=!1;function c(T){for(f=!0,T&&a(T);T=i.shift();)a(T);f=!1}function h(T){var S=Ut(function(O){return O.operation.kind===T.kind&&O.operation.key===T.key})(P);return b.maskTypename&&(S=Bi(function(O){return mt({},O,{data:Wa(O.data)})})(S)),T.kind==="mutation"?Ua(1)(_l(function(){return c(T)})(S)):Ws(bl(function(){r.delete(T.key),n.delete(T.key);for(var O=i.length-1;O>=0;O--)i[O].key===T.key&&i.splice(O,1);c(Ui("teardown",T,T.context))})(Li(function(O){r.set(T.key,O)})(Mv(function(O){return T.kind!=="query"||O.stale?vl(O):Js([vl(O),Bi(function(){return mt({},O,{stale:!0})})(Ua(1)(Ut(function(D){return D.kind==="query"&&D.key===T.key&&D.context.requestPolicy!=="cache-only"})(o)))])})(wl(Ut(function(O){return O.kind==="teardown"&&O.key===T.key})(o))(S)))))}var p=this instanceof t?this:Object.create(t.prototype),b=mt(p,{url:e.url,fetchOptions:e.fetchOptions,fetch:e.fetch,suspense:!!e.suspense,requestPolicy:e.requestPolicy||"cache-first",preferGetMethod:!!e.preferGetMethod,maskTypename:!!e.maskTypename,operations$:o,reexecuteOperation:function(S){(S.kind==="mutation"||n.has(S.key))&&(i.push(S),f||Promise.resolve().then(c))},createOperationContext:function(S){return S||(S={}),mt({},{url:b.url,fetchOptions:b.fetchOptions,fetch:b.fetch,preferGetMethod:b.preferGetMethod},S,{suspense:S.suspense||S.suspense!==!1&&b.suspense,requestPolicy:S.requestPolicy||b.requestPolicy})},createRequestOperation:function(S,O,D){return Uv(O.query),Ui(S,O,b.createOperationContext(D))},executeRequestOperation:function(S){return S.kind==="mutation"?h(S):yl(function(O){var D=n.get(S.key);D||n.set(S.key,D=h(S));var V=S.context.requestPolicy==="cache-and-network"||S.context.requestPolicy==="network-only";return Fa(O.next)(bl(O.complete)(_l(function(){var Y=r.get(S.key);if(S.kind==="subscription")return c(S);V&&c(S),Y!=null&&Y===r.get(S.key)?O.next(V?mt({},Y,{stale:!0}):Y):V||c(S)})(D))).unsubscribe})},executeQuery:function(S,O){var D=b.createRequestOperation("query",S,O);return b.executeRequestOperation(D)},executeSubscription:function(S,O){var D=b.createRequestOperation("subscription",S,O);return b.executeRequestOperation(D)},executeMutation:function(S,O){var D=b.createRequestOperation("mutation",S,O);return b.executeRequestOperation(D)},query:function(S,O,D){return(!D||typeof D.suspense!="boolean")&&(D=mt({},D,{suspense:!1})),Ol(b.executeQuery(Va(S,O),D))},readQuery:function(S,O,D){var V=null;return Fa(function(Y){V=Y})(b.query(S,O,D)).unsubscribe(),V},subscription:function(S,O,D){return b.executeSubscription(Va(S,O),D)},mutation:function(S,O,D){return Ol(b.executeMutation(Va(S,O),D))}}),E=Pl,k=t1(e.exchanges!==void 0?e.exchanges:r1),P=Ws(k({client:b,dispatchDebug:E,forward:Dl({dispatchDebug:E})})(o));return Lv(P),b};export{yr as $,rh as A,Ll as B,sh as C,i1 as D,po as E,o1 as F,Gl as G,f1 as H,u1 as I,a1 as J,$r as K,I1 as L,d1 as M,s1 as N,Hl as O,b1 as P,m1 as Q,k1 as R,$1 as S,n1 as T,In as U,l1 as V,E1 as W,c1 as X,rf as Y,ih as Z,G1 as _,Jl as a,j1 as a0,x1 as a1,R1 as a2,S1 as a3,C1 as a4,j as a5,Ht as a6,V1 as a7,r1 as a8,W1 as a9,H1 as aa,z1 as ab,vl as ac,Bi as ad,J1 as ae,Fa as af,q1 as ag,v1 as b,y1 as c,Vl as d,zl as e,h1 as f,Kl as g,w1 as h,U1 as i,p1 as j,g1 as k,_1 as l,O1 as m,P1 as n,M1 as o,eh as p,T1 as q,A1 as r,Bl as s,uo as t,N1 as u,B1 as v,F1 as w,th as x,D1 as y,L1 as z};
//# sourceMappingURL=vendor-986b52e5.js.map
