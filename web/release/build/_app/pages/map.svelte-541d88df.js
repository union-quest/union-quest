var Lt=Object.defineProperty;var st=Object.getOwnPropertySymbols;var Ot=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable;var it=(i,e,t)=>e in i?Lt(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ie=(i,e)=>{for(var t in e||(e={}))Ot.call(e,t)&&it(i,t,e[t]);if(st)for(var t of st(e))Ut.call(e,t)&&it(i,t,e[t]);return i};import{S as Se,i as Ne,s as Le,e as $,O as q,j,t as w,c as I,a as k,P as R,d,l as z,g as y,b as f,f as D,G as _,Q as ue,K as L,h as Y,F as Qe,H as We,I as Ze,J as Xe,p as N,n as A,U as ot,R as At,a1 as Ht,a2 as jt,a3 as zt,k as X,m as ie,o as oe,N as pe,X as nt,v as ne,w as ae,x as ce,A as fe,T as Je,M as De,a4 as qt,a5 as Rt,a6 as at,a7 as Yt,a8 as Gt,a9 as xe,aa as Kt,ab as ct,ac as Ft,ad as Qt,ae as Wt,C as Zt,E as Xt,af as He,u as ft}from"../chunks/vendor-ce3c3463.js";import{c as Jt,e as Oe,h as xt}from"../chunks/notifications-998beaef.js";import{b as el,w as Te,f as ve,c as je,a as tl,N as Me,t as ze,d as qe}from"../chunks/NavButton-7688252c.js";import{b as et}from"../chunks/paths-28a87002.js";const{window:ll}=jt,rl=i=>({}),ut=i=>({});function dt(i){let e,t,l,r,s,o,a,n;return{c(){e=$("div"),t=q("svg"),l=q("path"),r=j(),s=$("span"),o=w("(Esc)"),this.h()},l(u){e=I(u,"DIV",{class:!0});var c=k(e);t=R(c,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var p=k(t);l=R(p,"path",{d:!0}),k(l).forEach(d),p.forEach(d),r=z(c),s=I(c,"SPAN",{class:!0});var v=k(s);o=y(v,"(Esc)"),v.forEach(d),c.forEach(d),this.h()},h(){f(l,"d","M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"),f(t,"class","fill-current text-white"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"width","18"),f(t,"height","18"),f(t,"viewBox","0 0 18 18"),f(s,"class","text-sm"),f(e,"class","modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-sm")},m(u,c){D(u,e,c),_(e,t),_(t,l),_(e,r),_(e,s),_(s,o),a||(n=ue(e,"click",i[4]),a=!0)},p:L,d(u){u&&d(e),a=!1,n()}}}function ht(i){let e,t;return{c(){e=$("p"),t=w(i[2]),this.h()},l(l){e=I(l,"P",{class:!0});var r=k(e);t=y(r,i[2]),r.forEach(d),this.h()},h(){f(e,"class","text-2xl font-bold")},m(l,r){D(l,e,r),_(e,t)},p(l,r){r&4&&Y(t,l[2])},d(l){l&&d(e)}}}function _t(i){let e,t,l,r,s;return{c(){e=$("div"),t=q("svg"),l=q("path"),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=k(e);t=R(a,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var n=k(t);l=R(n,"path",{d:!0}),k(l).forEach(d),n.forEach(d),a.forEach(d),this.h()},h(){f(l,"d","M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"),f(t,"class","fill-current text-black"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"width","18"),f(t,"height","18"),f(t,"viewBox","0 0 18 18"),f(e,"class","modal-close cursor-pointer z-50")},m(o,a){D(o,e,a),_(e,t),_(t,l),r||(s=ue(e,"click",i[4]),r=!0)},p:L,d(o){o&&d(e),r=!1,s()}}}function sl(i){let e,t,l,r,s,o,a,n,u,c,p,v,m,g,h=i[0]&&dt(i),b=i[2]&&ht(i),E=i[1]&&_t(i);const C=i[8].default,P=Qe(C,i,i[7],null),U=i[8].footer,S=Qe(U,i,i[7],ut);return{c(){e=$("div"),t=$("div"),l=j(),r=$("div"),h&&h.c(),s=j(),o=$("div"),a=$("div"),b&&b.c(),n=j(),E&&E.c(),u=j(),P&&P.c(),c=j(),p=$("div"),S&&S.c(),this.h()},l(M){e=I(M,"DIV",{class:!0});var T=k(e);t=I(T,"DIV",{class:!0}),k(t).forEach(d),l=z(T),r=I(T,"DIV",{class:!0});var V=k(r);h&&h.l(V),s=z(V),o=I(V,"DIV",{class:!0});var O=k(o);a=I(O,"DIV",{class:!0});var F=k(a);b&&b.l(F),n=z(F),E&&E.l(F),F.forEach(d),u=z(O),P&&P.l(O),c=z(O),p=I(O,"DIV",{class:!0});var K=k(p);S&&S.l(K),K.forEach(d),O.forEach(d),V.forEach(d),T.forEach(d),this.h()},h(){f(t,"class","absolute w-full h-full bg-gray-900 opacity-80"),f(a,"class","flex justify-between items-center"),f(p,"class","flex justify-end pt-2"),f(o,"class","modal-content py-4 text-left px-6"),f(r,"class","absolute border-2 w-11/12 md:max-w-md mx-auto overflow-y-auto max-h-screen dark:bg-black dark:border-2 dark:border-gray-800 bg-white"),f(e,"class","z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center text-black dark:text-white")},m(M,T){D(M,e,T),_(e,t),_(e,l),_(e,r),h&&h.m(r,null),_(r,s),_(r,o),_(o,a),b&&b.m(a,null),_(a,n),E&&E.m(a,null),_(o,u),P&&P.m(o,null),_(o,c),_(o,p),S&&S.m(p,null),i[9](o),v=!0,m||(g=[ue(ll,"keydown",i[5]),ue(t,"click",i[4])],m=!0)},p(M,[T]){M[0]?h?h.p(M,T):(h=dt(M),h.c(),h.m(r,s)):h&&(h.d(1),h=null),M[2]?b?b.p(M,T):(b=ht(M),b.c(),b.m(a,n)):b&&(b.d(1),b=null),M[1]?E?E.p(M,T):(E=_t(M),E.c(),E.m(a,null)):E&&(E.d(1),E=null),P&&P.p&&(!v||T&128)&&We(P,C,M,M[7],v?Xe(C,M[7],T,null):Ze(M[7]),null),S&&S.p&&(!v||T&128)&&We(S,U,M,M[7],v?Xe(U,M[7],T,rl):Ze(M[7]),ut)},i(M){v||(N(P,M),N(S,M),v=!0)},o(M){A(P,M),A(S,M),v=!1},d(M){M&&d(e),h&&h.d(),b&&b.d(),E&&E.d(),P&&P.d(M),S&&S.d(M),i[9](null),m=!1,ot(g)}}}function il(i,e,t){let{$$slots:l={},$$scope:r}=e,{globalCloseButton:s=!1}=e,{closeButton:o=!1}=e,{title:a=""}=e,{cancelable:n=!0}=e;const u=At(),c=()=>n&&u("close");let p;function v(h){h=h||window.event;var b=!1;if("key"in h?b=h.key==="Escape"||h.key==="Esc":b=h.keyCode===27,b){c();return}if(h.key==="Tab"){const E=p.querySelectorAll("*"),C=Array.from(E).filter(U=>U.tabIndex>=0);let P=-1;document.activeElement&&(P=C.indexOf(document.activeElement)),P===-1&&h.shiftKey&&(P=0),P+=C.length+(h.shiftKey?-1:1),P%=C.length,C[P].focus&&C[P].focus(),h.preventDefault()}}const m=typeof document!="undefined"&&document.activeElement;m&&Ht(()=>{const h=m;h.focus&&h.focus()});function g(h){zt[h?"unshift":"push"](()=>{p=h,t(3,p)})}return i.$$set=h=>{"globalCloseButton"in h&&t(0,s=h.globalCloseButton),"closeButton"in h&&t(1,o=h.closeButton),"title"in h&&t(2,a=h.title),"cancelable"in h&&t(6,n=h.cancelable),"$$scope"in h&&t(7,r=h.$$scope)},[s,o,a,p,c,v,n,r,l,g]}class Re extends Se{constructor(e){super();Ne(this,e,il,sl,Le,{globalCloseButton:0,closeButton:1,title:2,cancelable:6})}}function pt(i,e,t){const l=i.slice();return l[21]=e[t],l}function ol(i){let e,t,l,r,s,o,a;return{c(){e=$("div"),t=$("p"),l=w("chain reset detected! Metamask need to have its account reset! "),r=$("button"),s=w("OK"),this.h()},l(n){e=I(n,"DIV",{class:!0,style:!0});var u=k(e);t=I(u,"P",{class:!0});var c=k(t);l=y(c,"chain reset detected! Metamask need to have its account reset! "),r=I(c,"BUTTON",{class:!0});var p=k(r);s=y(p,"OK"),p.forEach(d),c.forEach(d),u.forEach(d),this.h()},h(){f(r,"class","border-2 border-white p-2"),f(t,"class","w-64 text-center rounded-bl-xl rounded-br-xl text-gray-200 bg-red-500 p-1"),f(e,"class","w-full flex items-center justify-center fixed top-0"),nt(e,"z-index","5")},m(n,u){D(n,e,u),_(e,t),_(t,l),_(t,r),_(r,s),o||(a=ue(r,"click",i[8]),o=!0)},p:L,d(n){n&&d(e),o=!1,a()}}}function nl(i){let e,t,l,r,s,o,a,n,u;return{c(){e=$("div"),t=$("p"),l=w(`Wrong network, switch to
      `),r=w(Oe),s=j(),o=$("button"),a=w("OK"),this.h()},l(c){e=I(c,"DIV",{class:!0,style:!0});var p=k(e);t=I(p,"P",{class:!0});var v=k(t);l=y(v,`Wrong network, switch to
      `),r=y(v,Oe),s=z(v),o=I(v,"BUTTON",{class:!0});var m=k(o);a=y(m,"OK"),m.forEach(d),v.forEach(d),p.forEach(d),this.h()},h(){f(o,"class","border-2 border-white p-2"),f(t,"class","w-64 text-center rounded-bl-xl rounded-br-xl text-gray-200 bg-pink-600 p-1"),f(e,"class","w-full flex items-center justify-center fixed top-0"),nt(e,"z-index","5")},m(c,p){D(c,e,p),_(e,t),_(t,l),_(t,r),_(t,s),_(t,o),_(o,a),n||(u=ue(o,"click",i[9]),n=!0)},p:L,d(c){c&&d(e),n=!1,u()}}}function al(i){return{c:L,l:L,m:L,p:L,d:L}}function cl(i){return{c:L,l:L,m:L,p:L,d:L}}function fl(i){let e,t;return e=new Re({props:{title:i[0],cancelable:!i[1].connecting,closeButton:!1,$$slots:{default:[ql]},$$scope:{ctx:i}}}),e.$on("close",i[19]),{c(){ne(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const s={};r&1&&(s.title=l[0]),r&2&&(s.cancelable=!l[1].connecting),r&1048698&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function ul(i){let e,t;return e=new Re({props:{title:"An Error Happened",$$slots:{default:[Rl]},$$scope:{ctx:i}}}),e.$on("close",i[13]),{c(){ne(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const s={};r&1048640&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function dl(i){let e,t;return e=new Re({props:{title:"An Error Happened",$$slots:{default:[Yl]},$$scope:{ctx:i}}}),e.$on("close",i[12]),{c(){ne(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const s={};r&1048578&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function hl(i){let e,t,l,r=i[1].state+"",s,o,a,n;return a=new Me({props:{class:"mt-4",label:"Cancel",$$slots:{default:[wl]},$$scope:{ctx:i}}}),a.$on("click",i[18]),{c(){e=$("div"),t=$("p"),l=w("Flow aborted "),s=w(r),o=j(),ne(a.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0});var c=k(e);t=I(c,"P",{});var p=k(t);l=y(p,"Flow aborted "),s=y(p,r),p.forEach(d),o=z(c),ae(a.$$.fragment,c),c.forEach(d),this.h()},h(){f(e,"class","text-center")},m(u,c){D(u,e,c),_(e,t),_(t,l),_(t,s),_(e,o),ce(a,e,null),n=!0},p(u,c){(!n||c&2)&&r!==(r=u[1].state+"")&&Y(s,r);const p={};c&1048576&&(p.$$scope={dirty:c,ctx:u}),a.$set(p)},i(u){n||(N(a.$$.fragment,u),n=!0)},o(u){A(a.$$.fragment,u),n=!1},d(u){u&&d(e),fe(a)}}}function _l(i){let e;return{c(){e=w("Please wait...")},l(t){e=y(t,"Please wait...")},m(t,l){D(t,e,l)},p:L,i:L,o:L,d(t){t&&d(e)}}}function pl(i){let e;function t(s,o){return s[1].pendingUserConfirmation[0]==="transaction"?$l:s[1].pendingUserConfirmation[0]==="signature"?El:yl}let l=t(i),r=l(i);return{c(){r.c(),e=X()},l(s){r.l(s),e=X()},m(s,o){r.m(s,o),D(s,e,o)},p(s,o){l!==(l=t(s))&&(r.d(1),r=l(s),r&&(r.c(),r.m(e.parentNode,e)))},i:L,o:L,d(s){r.d(s),s&&d(e)}}}function vl(i){let e,t,l,r,s;function o(u,c){return u[5].code===4001?Vl:u[5].message?Dl:Il}let a=o(i),n=a(i);return r=new Me({props:{class:"mt-4",label:"Retry",$$slots:{default:[Tl]},$$scope:{ctx:i}}}),r.$on("click",i[17]),{c(){e=$("div"),t=$("p"),n.c(),l=j(),ne(r.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0});var c=k(e);t=I(c,"P",{});var p=k(t);n.l(p),p.forEach(d),l=z(c),ae(r.$$.fragment,c),c.forEach(d),this.h()},h(){f(e,"class","text-center")},m(u,c){D(u,e,c),_(e,t),n.m(t,null),_(e,l),ce(r,e,null),s=!0},p(u,c){a===(a=o(u))&&n?n.p(u,c):(n.d(1),n=a(u),n&&(n.c(),n.m(t,null)));const p={};c&1048576&&(p.$$scope={dirty:c,ctx:u}),r.$set(p)},i(u){s||(N(r.$$.fragment,u),s=!0)},o(u){A(r.$$.fragment,u),s=!1},d(u){u&&d(e),n.d(),fe(r)}}}function ml(i){let e,t,l,r;const s=[Pl,Ml],o=[];function a(n,u){return n[6].loadingData?0:n[6].notSupported?1:-1}return~(e=a(i))&&(t=o[e]=s[e](i)),{c(){t&&t.c(),l=X()},l(n){t&&t.l(n),l=X()},m(n,u){~e&&o[e].m(n,u),D(n,l,u),r=!0},p(n,u){let c=e;e=a(n),e===c?~e&&o[e].p(n,u):(t&&(ie(),A(o[c],1,1,()=>{o[c]=null}),oe()),~e?(t=o[e],t?t.p(n,u):(t=o[e]=s[e](n),t.c()),N(t,1),t.m(l.parentNode,l)):t=null)},i(n){r||(N(t),r=!0)},o(n){A(t),r=!1},d(n){~e&&o[e].d(n),n&&d(l)}}}function bl(i){let e,t,l,r;const s=[Sl,Bl],o=[];function a(n,u){return n[6].connecting?0:n[6].error?1:-1}return~(e=a(i))&&(t=o[e]=s[e](i)),{c(){t&&t.c(),l=X()},l(n){t&&t.l(n),l=X()},m(n,u){~e&&o[e].m(n,u),D(n,l,u),r=!0},p(n,u){let c=e;e=a(n),e===c?~e&&o[e].p(n,u):(t&&(ie(),A(o[c],1,1,()=>{o[c]=null}),oe()),~e?(t=o[e],t?t.p(n,u):(t=o[e]=s[e](n),t.c()),N(t,1),t.m(l.parentNode,l)):t=null)},i(n){r||(N(t),r=!0)},o(n){A(t),r=!1},d(n){~e&&o[e].d(n),n&&d(l)}}}function kl(i){let e,t,l,r;const s=[Ol,Ll],o=[];function a(n,u){return n[1].unlocking?0:1}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),l=X()},l(n){t.l(n),l=X()},m(n,u){o[e].m(n,u),D(n,l,u),r=!0},p(n,u){let c=e;e=a(n),e===c?o[e].p(n,u):(ie(),A(o[c],1,1,()=>{o[c]=null}),oe(),t=o[e],t?t.p(n,u):(t=o[e]=s[e](n),t.c()),N(t,1),t.m(l.parentNode,l))},i(n){r||(N(t),r=!0)},o(n){A(t),r=!1},d(n){o[e].d(n),n&&d(l)}}}function gl(i){let e,t,l,r;const s=[jl,Hl,Al],o=[];function a(n,u){return n[1].loadingModule?0:n[1].connecting?1:2}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),l=X()},l(n){t.l(n),l=X()},m(n,u){o[e].m(n,u),D(n,l,u),r=!0},p(n,u){let c=e;e=a(n),e===c?o[e].p(n,u):(ie(),A(o[c],1,1,()=>{o[c]=null}),oe(),t=o[e],t?t.p(n,u):(t=o[e]=s[e](n),t.c()),N(t,1),t.m(l.parentNode,l))},i(n){r||(N(t),r=!0)},o(n){A(t),r=!1},d(n){o[e].d(n),n&&d(l)}}}function wl(i){let e;return{c(){e=w("OK")},l(t){e=y(t,"OK")},m(t,l){D(t,e,l)},d(t){t&&d(e)}}}function yl(i){let e;return{c(){e=w("Please accept request...")},l(t){e=y(t,"Please accept request...")},m(t,l){D(t,e,l)},d(t){t&&d(e)}}}function El(i){let e;return{c(){e=w("Please accept signature...")},l(t){e=y(t,"Please accept signature...")},m(t,l){D(t,e,l)},d(t){t&&d(e)}}}function $l(i){let e;return{c(){e=w("Please accept transaction...")},l(t){e=y(t,"Please accept transaction...")},m(t,l){D(t,e,l)},d(t){t&&d(e)}}}function Il(i){let e,t;return{c(){e=w("Error: "),t=w(i[5])},l(l){e=y(l,"Error: "),t=y(l,i[5])},m(l,r){D(l,e,r),D(l,t,r)},p(l,r){r&32&&Y(t,l[5])},d(l){l&&d(e),l&&d(t)}}}function Dl(i){let e=i[5].message+"",t;return{c(){t=w(e)},l(l){t=y(l,e)},m(l,r){D(l,t,r)},p(l,r){r&32&&e!==(e=l[5].message+"")&&Y(t,e)},d(l){l&&d(t)}}}function Vl(i){let e;return{c(){e=w("You rejected the request")},l(t){e=y(t,"You rejected the request")},m(t,l){D(t,e,l)},p:L,d(t){t&&d(e)}}}function Tl(i){let e;return{c(){e=w("Retry")},l(t){e=y(t,"Retry")},m(t,l){D(t,e,l)},d(t){t&&d(e)}}}function Ml(i){let e,t,l,r,s;return r=new Me({props:{label:"Unlock Wallet",$$slots:{default:[Cl]},$$scope:{ctx:i}}}),r.$on("click",i[9]),{c(){e=w(`Please switch to
        `),t=w(Oe),l=j(),ne(r.$$.fragment)},l(o){e=y(o,`Please switch to
        `),t=y(o,Oe),l=z(o),ae(r.$$.fragment,o)},m(o,a){D(o,e,a),D(o,t,a),D(o,l,a),ce(r,o,a),s=!0},p(o,a){const n={};a&1048576&&(n.$$scope={dirty:a,ctx:o}),r.$set(n)},i(o){s||(N(r.$$.fragment,o),s=!0)},o(o){A(r.$$.fragment,o),s=!1},d(o){o&&d(e),o&&d(t),o&&d(l),fe(r,o)}}}function Pl(i){let e;return{c(){e=w("Loading contracts...")},l(t){e=y(t,"Loading contracts...")},m(t,l){D(t,e,l)},p:L,i:L,o:L,d(t){t&&d(e)}}}function Cl(i){let e;return{c(){e=w("Switch")},l(t){e=y(t,"Switch")},m(t,l){D(t,e,l)},d(t){t&&d(e)}}}function Bl(i){var n;let e,t,l=(((n=i[6].error)==null?void 0:n.message)||""+i[6].error)+"",r,s,o,a;return o=new Me({props:{class:"mt-4",label:"OK",$$slots:{default:[Nl]},$$scope:{ctx:i}}}),o.$on("click",i[16]),{c(){e=$("div"),t=$("p"),r=w(l),s=j(),ne(o.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0});var c=k(e);t=I(c,"P",{});var p=k(t);r=y(p,l),p.forEach(d),s=z(c),ae(o.$$.fragment,c),c.forEach(d),this.h()},h(){f(e,"class","text-center")},m(u,c){D(u,e,c),_(e,t),_(t,r),_(e,s),ce(o,e,null),a=!0},p(u,c){var v;(!a||c&64)&&l!==(l=(((v=u[6].error)==null?void 0:v.message)||""+u[6].error)+"")&&Y(r,l);const p={};c&1048576&&(p.$$scope={dirty:c,ctx:u}),o.$set(p)},i(u){a||(N(o.$$.fragment,u),a=!0)},o(u){A(o.$$.fragment,u),a=!1},d(u){u&&d(e),fe(o)}}}function Sl(i){let e;return{c(){e=w("Connecting...")},l(t){e=y(t,"Connecting...")},m(t,l){D(t,e,l)},p:L,i:L,o:L,d(t){t&&d(e)}}}function Nl(i){let e;return{c(){e=w("OK")},l(t){e=y(t,"OK")},m(t,l){D(t,e,l)},d(t){t&&d(e)}}}function Ll(i){let e,t;return e=new Me({props:{label:"Unlock Wallet",$$slots:{default:[Ul]},$$scope:{ctx:i}}}),e.$on("click",i[15]),{c(){ne(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const s={};r&1048576&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function Ol(i){let e;return{c(){e=w("Please accept the application to access your wallet.")},l(t){e=y(t,"Please accept the application to access your wallet.")},m(t,l){D(t,e,l)},p:L,i:L,o:L,d(t){t&&d(e)}}}function Ul(i){let e;return{c(){e=w("Unlock")},l(t){e=y(t,"Unlock")},m(t,l){D(t,e,l)},d(t){t&&d(e)}}}function Al(i){let e,t,l,r,s,o,a,n,u=i[3],c=[];for(let v=0;v<u.length;v+=1)c[v]=vt(pt(i,u,v));let p=i[4]&&mt(i);return{c(){e=$("div"),t=$("p"),l=w("You need to connect your wallet."),r=j(),s=$("div");for(let v=0;v<c.length;v+=1)c[v].c();o=j(),p&&p.c(),a=X(),this.h()},l(v){e=I(v,"DIV",{class:!0});var m=k(e);t=I(m,"P",{});var g=k(t);l=y(g,"You need to connect your wallet."),g.forEach(d),m.forEach(d),r=z(v),s=I(v,"DIV",{class:!0});var h=k(s);for(let b=0;b<c.length;b+=1)c[b].l(h);h.forEach(d),o=z(v),p&&p.l(v),a=X(),this.h()},h(){f(e,"class","text-center"),f(s,"class","flex flex-wrap justify-center pb-3")},m(v,m){D(v,e,m),_(e,t),_(t,l),D(v,r,m),D(v,s,m);for(let g=0;g<c.length;g+=1)c[g].m(s,null);D(v,o,m),p&&p.m(v,m),D(v,a,m),n=!0},p(v,m){if(m&8){u=v[3];let g;for(g=0;g<u.length;g+=1){const h=pt(v,u,g);c[g]?c[g].p(h,m):(c[g]=vt(h),c[g].c(),c[g].m(s,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=u.length}v[4]?p?(p.p(v,m),m&16&&N(p,1)):(p=mt(v),p.c(),N(p,1),p.m(a.parentNode,a)):p&&(ie(),A(p,1,1,()=>{p=null}),oe())},i(v){n||(N(p),n=!0)},o(v){A(p),n=!1},d(v){v&&d(e),v&&d(r),v&&d(s),De(c,v),v&&d(o),p&&p.d(v),v&&d(a)}}}function Hl(i){let e;return{c(){e=w("Connecting to wallet...")},l(t){e=y(t,"Connecting to wallet...")},m(t,l){D(t,e,l)},p:L,i:L,o:L,d(t){t&&d(e)}}}function jl(i){let e,t=i[1].selected+"",l;return{c(){e=w(`Loading module:
        `),l=w(t)},l(r){e=y(r,`Loading module:
        `),l=y(r,t)},m(r,s){D(r,e,s),D(r,l,s)},p(r,s){s&2&&t!==(t=r[1].selected+"")&&Y(l,t)},i:L,o:L,d(r){r&&d(e),r&&d(l)}}}function vt(i){let e,t,l,r,s;function o(){return i[14](i[21])}return{c(){e=$("img"),this.h()},l(a){e=I(a,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){f(e,"class","cursor-pointer p-2 m-2 border-2 h-12 w-12 object-contain"),f(e,"alt",t=`Login with ${i[21].name}`),Je(e.src,l=`${et}/${i[21].img}`)||f(e,"src",l)},m(a,n){D(a,e,n),r||(s=ue(e,"click",o),r=!0)},p(a,n){i=a,n&8&&t!==(t=`Login with ${i[21].name}`)&&f(e,"alt",t),n&8&&!Je(e.src,l=`${et}/${i[21].img}`)&&f(e,"src",l)},d(a){a&&d(e),r=!1,s()}}}function mt(i){let e,t,l,r,s,o;return s=new Me({props:{label:"Download Metamask",blank:!0,href:"https://metamask.io/download.html",class:"m-4 w-max-content",$$slots:{default:[zl]},$$scope:{ctx:i}}}),{c(){e=$("div"),t=w("OR"),l=j(),r=$("div"),ne(s.$$.fragment),this.h()},l(a){e=I(a,"DIV",{class:!0});var n=k(e);t=y(n,"OR"),n.forEach(d),l=z(a),r=I(a,"DIV",{class:!0});var u=k(r);ae(s.$$.fragment,u),u.forEach(d),this.h()},h(){f(e,"class","text-center"),f(r,"class","flex justify-center")},m(a,n){D(a,e,n),_(e,t),D(a,l,n),D(a,r,n),ce(s,r,null),o=!0},p(a,n){const u={};n&1048576&&(u.$$scope={dirty:n,ctx:a}),s.$set(u)},i(a){o||(N(s.$$.fragment,a),o=!0)},o(a){A(s.$$.fragment,a),o=!1},d(a){a&&d(e),a&&d(l),a&&d(r),fe(s)}}}function zl(i){let e,t,l;return{c(){e=$("img"),l=w(`
              Download metamask`),this.h()},l(r){e=I(r,"IMG",{class:!0,alt:!0,src:!0}),l=y(r,`
              Download metamask`),this.h()},h(){f(e,"class","cursor-pointer p-0 mx-2 h-10 w-10 object-contain"),f(e,"alt","Download Metamask}"),Je(e.src,t=`${et}/images/metamask.svg`)||f(e,"src",t)},m(r,s){D(r,e,s),D(r,l,s)},p:L,d(r){r&&d(e),r&&d(l)}}}function ql(i){let e,t,l,r;const s=[gl,kl,bl,ml,vl,pl,_l,hl],o=[];function a(n,u){return n[1].state==="Idle"?0:n[1].state==="Locked"?1:n[6].state==="Idle"?2:n[6].state==="Connected"?3:n[5]?4:n[1].pendingUserConfirmation?5:n[1].state==="Ready"?6:7}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),l=X()},l(n){t.l(n),l=X()},m(n,u){o[e].m(n,u),D(n,l,u),r=!0},p(n,u){let c=e;e=a(n),e===c?o[e].p(n,u):(ie(),A(o[c],1,1,()=>{o[c]=null}),oe(),t=o[e],t?t.p(n,u):(t=o[e]=s[e](n),t.c()),N(t,1),t.m(l.parentNode,l))},i(n){r||(N(t),r=!0)},o(n){A(t),r=!1},d(n){o[e].d(n),n&&d(l)}}}function Rl(i){let e,t=i[6].error.message+"",l;return{c(){e=$("p"),l=w(t),this.h()},l(r){e=I(r,"P",{class:!0});var s=k(e);l=y(s,t),s.forEach(d),this.h()},h(){f(e,"class","w-64 text-center text-red-500 p-1")},m(r,s){D(r,e,s),_(e,l)},p(r,s){s&64&&t!==(t=r[6].error.message+"")&&Y(l,t)},d(r){r&&d(e)}}}function Yl(i){let e,t=i[1].error.message+"",l;return{c(){e=$("p"),l=w(t),this.h()},l(r){e=I(r,"P",{class:!0});var s=k(e);l=y(s,t),s.forEach(d),this.h()},h(){f(e,"class","w-64 text-center text-red-500 p-1")},m(r,s){D(r,e,s),_(e,l)},p(r,s){s&2&&t!==(t=r[1].error.message+"")&&Y(l,t)},d(r){r&&d(e)}}}function Gl(i){let e,t,l,r,s,o;const a=i[11].default,n=Qe(a,i,i[20],null);function u(h,b){if(h[6].state==="Idle"&&!h[6].connecting&&h[7].state==="Idle"&&!h[7].connecting)return cl;if(h[6].state==="Idle"&&!h[6].connecting&&h[7].error)return al;if(h[6].notSupported)return nl;if(h[6].genesisChanged)return ol}let c=u(i),p=c&&c(i);const v=[dl,ul,fl],m=[];function g(h,b){return h[1].error?0:h[6].error?1:h[2].inProgress?2:-1}return~(l=g(i))&&(r=m[l]=v[l](i)),{c(){n&&n.c(),e=j(),p&&p.c(),t=j(),r&&r.c(),s=X()},l(h){n&&n.l(h),e=z(h),p&&p.l(h),t=z(h),r&&r.l(h),s=X()},m(h,b){n&&n.m(h,b),D(h,e,b),p&&p.m(h,b),D(h,t,b),~l&&m[l].m(h,b),D(h,s,b),o=!0},p(h,[b]){n&&n.p&&(!o||b&1048576)&&We(n,a,h,h[20],o?Xe(a,h[20],b,null):Ze(h[20]),null),c===(c=u(h))&&p?p.p(h,b):(p&&p.d(1),p=c&&c(h),p&&(p.c(),p.m(t.parentNode,t)));let E=l;l=g(h),l===E?~l&&m[l].p(h,b):(r&&(ie(),A(m[E],1,1,()=>{m[E]=null}),oe()),~l?(r=m[l],r?r.p(h,b):(r=m[l]=v[l](h),r.c()),N(r,1),r.m(s.parentNode,s)):r=null)},i(h){o||(N(n,h),N(r),o=!0)},o(h){A(n,h),A(r),o=!1},d(h){n&&n.d(h),h&&d(e),p&&p.d(h),h&&d(t),~l&&m[l].d(h),h&&d(s)}}}function Kl(i,e,t){let l,r,s,o,a,n,u;pe(i,el,V=>t(10,s=V)),pe(i,Te,V=>t(1,o=V)),pe(i,ve,V=>t(2,a=V)),pe(i,je,V=>t(6,n=V)),pe(i,tl,V=>t(7,u=V));let{$$slots:c={},$$scope:p}=e,{title:v=""}=e,m=[];function g(){je.acknowledgeNewGenesisHash()}async function h(){let V;const O=[];await je.switchChain(Jt,{chainName:Oe,rpcUrls:O,blockExplorerUrls:V})}const b=()=>Te.acknowledgeError(),E=()=>je.acknowledgeError(),C=V=>Te.connect(V.id),P=()=>Te.unlock(),U=()=>ve.cancel(),S=()=>ve.retry(),M=()=>ve.cancel(),T=()=>ve.cancel();return i.$$set=V=>{"title"in V&&t(0,v=V.title),"$$scope"in V&&t(20,p=V.$$scope)},i.$$.update=()=>{i.$$.dirty&4&&t(5,l=a.executionError),i.$$.dirty&1026&&t(4,r=o.options.filter(V=>V==="builtin"&&!s.available).length>0),i.$$.dirty&1026&&t(3,m=o.options.filter(V=>V!=="builtin"||s.available).map(V=>({img:(O=>{if(O==="builtin"){if(s.state==="Ready"){if(s.vendor==="Metamask")return"images/metamask.svg";if(s.vendor==="Opera")return"images/opera.svg"}return"images/web3-default.png"}else return O.startsWith("torus-")?`images/torus/${O.slice(6)}.svg`:`images/${O}.svg`})(V),id:V,name:V})))},[v,o,a,m,r,l,n,u,g,h,s,c,b,E,C,P,U,S,M,T,p]}class Fl extends Se{constructor(e){super();Ne(this,e,Kl,Gl,Le,{title:0})}}function Ql(i,e){return qt.from(Rt([at(["address","string"],[i,e]),at(["string","address"],[e,i])]))}const Wl={fetching:!1,stale:!1,error:void 0,data:void 0,extensions:void 0},Zl=Yt.concat();class Xl{constructor(e){e?this.client=new Gt({url:e,exchanges:Zl}):console.error("need an url for graphql queries")}mutate(e,t){return this.client.mutation(e,t==null?void 0:t.variables,t==null?void 0:t.context).toPromise()}query(e,t){return this.client.query(e,t==null?void 0:t.variables,t==null?void 0:t.context).toPromise()}async queryList(e,t){const l=t.path.split("."),r=100;let s="0x0",o=r,a=[];for(;o===r;){const n=await this.client.query(e,Ie({first:r,lastId:s},t==null?void 0:t.variables),t==null?void 0:t.context).toPromise();if(n.error)throw new Error(n.error.message);const u=n.data;let c=[];if(u&&t.path){let p=u;for(const v of l)p=p[v];c=p}if(o=c.length,o>0){const p=(t==null?void 0:t.getLastId)!==void 0?t==null?void 0:t.getLastId(a):c[o-1].id;if(s===p){console.log("same query, stop");break}s=p}a=a.concat(c)}return a}subscribeToQuery(e,t){const l=xe(Kt([ct({fetching:!0,stale:!1}),xe(this.client.query(e,t==null?void 0:t.variables,t==null?void 0:t.context),Ft(({stale:r,data:s,error:o,extensions:a})=>({fetching:!1,stale:!!r,data:s,error:o,extensions:a}))),ct({fetching:!1,stale:!1})]),Qt((r,s)=>Ie(Ie({},r),s),Wl));return{subscribe(r){return xe(l,Wt(r)).unsubscribe}}}}const Ye=new Xl(xt);function bt(i,e){for(const t of Object.keys(e))i[t]&&typeof i[t]=="object"&&typeof e[t]=="object"?bt(i[t],e[t]):i[t]=e[t]}class Jl{constructor(e){this.$store=e,this.store=Zt(this.$store)}subscribe(e,t){return this.store.subscribe(e,t)}setPartial(e){this.$store||(this.$store={});for(const t of Object.keys(e))this.$store[t]=e[t];return this.store.set(this.$store),this.$store}set(e){if(this.$store||(this.$store={}),e||(this.$store=e),e!==this.$store){for(const t of Object.keys(this.$store))e[t]===void 0&&(this.$store[t]=void 0);for(const t of Object.keys(e))this.$store[t]=e[t]}return this.store.set(this.$store),this.$store}}class xl extends Jl{constructor(e){super(e)}setData(e,t){return this.$store.data=this.$store.data||{},bt(this.$store.data,e),t&&this.setPartial(t),this.store.set(this.$store),this.$store}}const Ue=Xt("graphql");class er extends xl{constructor(e,t,l){super({step:"IDLE"});this.endpoint=e,this.query=t,this.options=l,this.runtimeVariables={}}acknowledgeError(){this.setPartial({error:void 0})}async fetch(e){var a,n,u,c,p,v,m;Ue.info("fetching....");const t=typeof((n=(a=this.options)==null?void 0:a.variables)==null?void 0:n.first)=="number"?(c=(u=this.options)==null?void 0:u.variables)==null?void 0:c.first:1e3;let l=t,r="0x0",s,o;for(;l===t;)try{const g=Ie(Ie(Ie({first:t,lastId:r},(p=this.options)==null?void 0:p.variables),this.runtimeVariables),e),h=this.query.split("?");let b="";for(let P=0;P<h.length;P++){const U=h[P];U.startsWith("$")?g[U.substr(1)]||P++:b+=U}const E=await this.endpoint.query(b,{variables:g,context:{requestPolicy:"cache-and-network"}});if(!E.data)throw this.setPartial({error:"cannot fetch from thegraph node"}),new Error("cannot fetch from thegraph node");const C=((v=this.options)==null?void 0:v.path)?E.data[this.options.path]:E.data;if(s||(s=C),(m=this.options)==null?void 0:m.list){let P=C;if(typeof this.options.list!="boolean"&&this.options.list.path&&(P=C[this.options.list.path]),l=P.length,l>0){const U=typeof this.options.list!="boolean"&&this.options.list.getLastId!==void 0?this.options.list.getLastId(P):P[l-1].id;if(r===U){Ue.log("same query, stop");break}r=U}o?o.push(...P):o=P}else l=0}catch(g){l=0,Ue.error(g)}this.setPartial({data:s,step:"READY"})}}class Ge extends er{constructor(e,t,l,r){super(e,t,r);this.listenerCount=0,this.hook=l}acknowledgeError(){this.setPartial({error:void 0})}subscribe(e,t){this.listenerCount++,this.listenerCount===1&&(Ue.info("start fetching"),this.stopUpdates=this.hook.subscribe(r=>this.fetch({blockNumber:r.lastBlockNumber})));const l=this.store.subscribe(e,t);return()=>{this.listenerCount--,this.listenerCount===0&&(Ue.info("stop fetching"),this.stopUpdates&&(this.stopUpdates(),this.stopUpdates=void 0)),l()}}}class tr{constructor(e,t){this.transactions=t,this.queryStore=new Ge(e,`
    query {
      players {
        id
        x
        y
        xDestination
        yDestination
        arrivalTime
        balance
      }
    }`,qe,{path:"players"}),this.store=He([this.queryStore,this.transactions],l=>this.update(l))}update([e]){if(e.data){let t=e.data;return{step:e.step,error:e.error,data:t}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,t){return this.store.subscribe(e,t)}}const lr=new tr(Ye,ze);class rr{constructor(e,t){this.transactions=t,this.queryStore=new Ge(e,`
    query {
      villages{
        id
        x
        y
        name
        description
        member
      }
    }`,qe,{path:"villages"}),this.store=He([this.queryStore,this.transactions],l=>this.update(l))}update([e]){if(e.data){let t=e.data;return{step:e.step,error:e.error,data:t}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,t){return this.store.subscribe(e,t)}}const sr=new rr(Ye,ze);class ir{constructor(e,t){this.transactions=t,this.queryStore=new Ge(e,`
    query {
      itemTypes {
        id
        name
        description
        buyPrice
        sellPrice
      }
    }`,qe,{path:"itemTypes"}),this.store=He([this.queryStore,this.transactions],l=>this.update(l))}update([e]){if(e.data){let t=e.data;return{step:e.step,error:e.error,data:t}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,t){return this.store.subscribe(e,t)}}const or=new ir(Ye,ze);class nr{constructor(e,t,l){this.transactions=t,this.queryStore=new Ge(e,`
    query getTrust($staker: String){
      trusts(where: {staker: $staker}) {
        id
        staker {
          id
        }
        borrower{
          id
        }
        trustAmount
      }
    }`,qe,{path:"trusts",variables:{staker:l.toLowerCase()}}),this.store=He([this.queryStore,this.transactions],r=>this.update(r))}update([e]){if(e.data){let t=e.data;return{step:e.step,error:e.error,data:t}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,t){return this.store.subscribe(e,t)}}const ar=i=>new nr(Ye,ze,i);function cr(i){let e,t,l,r,s,o,a;return{c(){e=q("svg"),t=q("path"),l=q("path"),r=q("defs"),s=q("linearGradient"),o=q("stop"),a=q("stop"),this.h()},l(n){e=R(n,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var u=k(e);t=R(u,"path",{d:!0,fill:!0}),k(t).forEach(d),l=R(u,"path",{d:!0,fill:!0}),k(l).forEach(d),r=R(u,"defs",{});var c=k(r);s=R(c,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,gradientUnits:!0});var p=k(s);o=R(p,"stop",{"stop-color":!0}),k(o).forEach(d),a=R(p,"stop",{offset:!0,"stop-color":!0}),k(a).forEach(d),p.forEach(d),c.forEach(d),u.forEach(d),this.h()},h(){f(t,"d","M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"),f(t,"fill","url(#paint0_linear)"),f(l,"d","M12.744 6.67999H11.7947C11.272 5.22932 9.86668 4.23466 8.01334 4.23466H4.96534V6.67999H3.90668V7.55732H4.96534V8.47732H3.90668V9.35466H4.96534V11.7707H8.01334C9.84534 11.7707 11.24 10.784 11.776 9.35466H12.744V8.47732H11.9893C12.008 8.32266 12.0187 8.16266 12.0187 8.00266V7.98132C12.0187 7.83732 12.0107 7.69599 11.9973 7.55732H12.7467V6.67999H12.744ZM5.81868 5.01599H8.01334C9.37334 5.01599 10.384 5.68532 10.8507 6.67732H5.81868V5.01599ZM8.01334 10.9813H5.81868V9.35199H10.8453C10.376 10.328 9.36801 10.9813 8.01334 10.9813ZM11.136 8.02132C11.136 8.17599 11.1253 8.32799 11.104 8.47466H5.81868V7.55466H11.1067C11.1253 7.69866 11.136 7.84799 11.136 7.99999V8.02132Z"),f(l,"fill","white"),f(o,"stop-color","#F9A606"),f(a,"offset","1"),f(a,"stop-color","#FBCC5F"),f(s,"id","paint0_linear"),f(s,"x1","8"),f(s,"y1","-2.26667"),f(s,"x2","8"),f(s,"y2","17.68"),f(s,"gradientUnits","userSpaceOnUse"),f(e,"class","dai"),f(e,"width","16"),f(e,"height","16"),f(e,"viewBox","0 0 16 16"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(n,u){D(n,e,u),_(e,t),_(e,l),_(e,r),_(r,s),_(s,o),_(s,a)},p:L,i:L,o:L,d(n){n&&d(e)}}}class tt extends Se{constructor(e){super();Ne(this,e,null,cr,Le,{})}}function kt(i,e,t){const l=i.slice();return l[20]=e[t],l}function gt(i,e,t){const l=i.slice();return l[23]=e[t],l}function wt(i,e,t){const l=i.slice();return l[26]=e[t],l}function yt(i,e,t){const l=i.slice();return l[20]=e[t],l}function Et(i){let e,t;return e=new Re({props:{title:`${i[2]?`${i[2].name} (${i[0]},${i[1]})`:`Field (${i[0]},${i[1]})`}`,closeButton:!0,$$slots:{default:[vr]},$$scope:{ctx:i}}}),e.$on("close",i[17]),{c(){ne(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const s={};r[0]&7&&(s.title=`${l[2]?`${l[2].name} (${l[0]},${l[1]})`:`Field (${l[0]},${l[1]})`}`),r[0]&447|r[1]&1&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function fr(i){let e,t;return{c(){e=$("div"),t=w("An empty field!")},l(l){e=I(l,"DIV",{});var r=k(e);t=y(r,"An empty field!"),r.forEach(d)},m(l,r){D(l,e,r),_(e,t)},p:L,d(l){l&&d(e)}}}function ur(i){let e,t=i[2].description+"",l;return{c(){e=$("div"),l=w(t)},l(r){e=I(r,"DIV",{});var s=k(e);l=y(s,t),s.forEach(d)},m(r,s){D(r,e,s),_(e,l)},p(r,s){s[0]&4&&t!==(t=r[2].description+"")&&Y(l,t)},d(r){r&&d(e)}}}function $t(i){let e,t,l=i[20].id.slice(0,6)+"",r,s,o=i[20].id.slice(-4)+"",a,n,u;return{c(){e=$("li"),t=$("a"),r=w(l),s=w("..."),a=w(o),u=j(),this.h()},l(c){e=I(c,"LI",{});var p=k(e);t=I(p,"A",{href:!0});var v=k(t);r=y(v,l),s=y(v,"..."),a=y(v,o),v.forEach(d),u=z(p),p.forEach(d),this.h()},h(){f(t,"href",n=`https://etherscan.io/address/${i[20].id}`)},m(c,p){D(c,e,p),_(e,t),_(t,r),_(t,s),_(t,a),_(e,u)},p(c,p){p[0]&11&&l!==(l=c[20].id.slice(0,6)+"")&&Y(r,l),p[0]&11&&o!==(o=c[20].id.slice(-4)+"")&&Y(a,o),p[0]&11&&n!==(n=`https://etherscan.io/address/${c[20].id}`)&&f(t,"href",n)},d(c){c&&d(e)}}}function It(i){let e,t,l,r,s,o,a,n,u,c,p=i[8].data,v=[];for(let g=0;g<p.length;g+=1)v[g]=Dt(wt(i,p,g));const m=g=>A(v[g],1,1,()=>{v[g]=null});return{c(){e=$("div"),t=$("div"),l=w("Reputation Leaderboard"),r=j(),s=$("ul");for(let g=0;g<v.length;g+=1)v[g].c();o=j(),a=$("a"),n=w("View this village on Union"),this.h()},l(g){e=I(g,"DIV",{class:!0});var h=k(e);t=I(h,"DIV",{class:!0});var b=k(t);l=y(b,"Reputation Leaderboard"),b.forEach(d),r=z(h),s=I(h,"UL",{class:!0});var E=k(s);for(let P=0;P<v.length;P+=1)v[P].l(E);o=z(E),a=I(E,"A",{rel:!0,target:!0,href:!0});var C=k(a);n=y(C,"View this village on Union"),C.forEach(d),E.forEach(d),h.forEach(d),this.h()},h(){f(t,"class","text-xl"),f(a,"rel","noopener"),f(a,"target","_blank"),f(a,"href",u=`https://kovan.union.finance/profile/${i[2].member}`),f(s,"class","list-disc"),f(e,"class","m-2 rounded-md border-4 p-4 ")},m(g,h){D(g,e,h),_(e,t),_(t,l),_(e,r),_(e,s);for(let b=0;b<v.length;b+=1)v[b].m(s,null);_(s,o),_(s,a),_(a,n),c=!0},p(g,h){if(h[0]&256){p=g[8].data;let b;for(b=0;b<p.length;b+=1){const E=wt(g,p,b);v[b]?(v[b].p(E,h),N(v[b],1)):(v[b]=Dt(E),v[b].c(),N(v[b],1),v[b].m(s,o))}for(ie(),b=p.length;b<v.length;b+=1)m(b);oe()}(!c||h[0]&4&&u!==(u=`https://kovan.union.finance/profile/${g[2].member}`))&&f(a,"href",u)},i(g){if(!c){for(let h=0;h<p.length;h+=1)N(v[h]);c=!0}},o(g){v=v.filter(Boolean);for(let h=0;h<v.length;h+=1)A(v[h]);c=!1},d(g){g&&d(e),De(v,g)}}}function Dt(i){let e,t,l=i[26].borrower.id.slice(0,6)+"",r,s,o=i[26].borrower.id.slice(-4)+"",a,n,u,c,p=i[26].trustAmount+"",v,m,g;return m=new tt({}),{c(){e=$("li"),t=$("a"),r=w(l),s=w("..."),a=w(o),u=j(),c=$("div"),v=w(p),ne(m.$$.fragment),this.h()},l(h){e=I(h,"LI",{});var b=k(e);t=I(b,"A",{rel:!0,target:!0,href:!0});var E=k(t);r=y(E,l),s=y(E,"..."),a=y(E,o),E.forEach(d),u=z(b),c=I(b,"DIV",{class:!0});var C=k(c);v=y(C,p),ae(m.$$.fragment,C),C.forEach(d),b.forEach(d),this.h()},h(){f(t,"rel","noopener"),f(t,"target","_blank"),f(t,"href",n=`https://kovan.union.finance/profile/${i[26].borrower.id}`),f(c,"class","flex")},m(h,b){D(h,e,b),_(e,t),_(t,r),_(t,s),_(t,a),_(e,u),_(e,c),_(c,v),ce(m,c,null),g=!0},p(h,b){(!g||b[0]&256)&&l!==(l=h[26].borrower.id.slice(0,6)+"")&&Y(r,l),(!g||b[0]&256)&&o!==(o=h[26].borrower.id.slice(-4)+"")&&Y(a,o),(!g||b[0]&256&&n!==(n=`https://kovan.union.finance/profile/${h[26].borrower.id}`))&&f(t,"href",n),(!g||b[0]&256)&&p!==(p=h[26].trustAmount+"")&&Y(v,p)},i(h){g||(N(m.$$.fragment,h),g=!0)},o(h){A(m.$$.fragment,h),g=!1},d(h){h&&d(e),fe(m)}}}function dr(i){let e,t;return{c(){e=$("div"),t=w("You are already travelling to another tile.")},l(l){e=I(l,"DIV",{});var r=k(e);t=y(r,"You are already travelling to another tile."),r.forEach(d)},m(l,r){D(l,e,r),_(e,t)},p:L,d(l){l&&d(e)}}}function hr(i){let e,t,l,r,s,o,a=Math.round(i[5].arrivalTime-i[7]/1e3)+"",n,u,c,p,v;return{c(){e=$("div"),t=$("div"),l=w("You are travelling here!"),r=j(),s=$("button"),o=w("RESOLVE MOVE ("),n=w(a),u=w("s)"),this.h()},l(m){e=I(m,"DIV",{});var g=k(e);t=I(g,"DIV",{});var h=k(t);l=y(h,"You are travelling here!"),h.forEach(d),r=z(g),s=I(g,"BUTTON",{class:!0,type:!0});var b=k(s);o=y(b,"RESOLVE MOVE ("),n=y(b,a),u=y(b,"s)"),b.forEach(d),g.forEach(d),this.h()},h(){f(s,"class","flex-shrink-0 bg-yellow-500 hover:bg-yellow-600 border-yellow-500 hover:border-yellow-600 text-sm border-4 text-white py-1 px-2 rounded disabled:bg-gray-400 disabled:border-gray-400 disabled:cursor-not-allowed"),f(s,"type","button"),s.disabled=c=i[5].arrivalTime>i[7]/1e3},m(m,g){D(m,e,g),_(e,t),_(t,l),_(e,r),_(e,s),_(s,o),_(s,n),_(s,u),p||(v=ue(s,"click",i[10]),p=!0)},p(m,g){g[0]&160&&a!==(a=Math.round(m[5].arrivalTime-m[7]/1e3)+"")&&Y(n,a),g[0]&160&&c!==(c=m[5].arrivalTime>m[7]/1e3)&&(s.disabled=c)},d(m){m&&d(e),p=!1,v()}}}function _r(i){let e,t,l,r,s,o,a=Math.round(i[5].arrivalTime-i[7]/1e3)+"",n,u,c,p,v;return{c(){e=$("div"),t=$("div"),l=w("You have arrived!"),r=j(),s=$("button"),o=w("RESOLVE MOVE ("),n=w(a),u=w("s)"),this.h()},l(m){e=I(m,"DIV",{});var g=k(e);t=I(g,"DIV",{});var h=k(t);l=y(h,"You have arrived!"),h.forEach(d),r=z(g),s=I(g,"BUTTON",{class:!0,type:!0});var b=k(s);o=y(b,"RESOLVE MOVE ("),n=y(b,a),u=y(b,"s)"),b.forEach(d),g.forEach(d),this.h()},h(){f(s,"class","flex-shrink-0 bg-yellow-500 hover:bg-yellow-600 border-yellow-500 hover:border-yellow-600 text-sm border-4 text-white py-1 px-2 rounded disabled:bg-gray-400 disabled:border-gray-400 disabled:cursor-not-allowed"),f(s,"type","button"),s.disabled=c=i[5].arrivalTime>i[7]/1e3},m(m,g){D(m,e,g),_(e,t),_(t,l),_(e,r),_(e,s),_(s,o),_(s,n),_(s,u),p||(v=ue(s,"click",i[10]),p=!0)},p(m,g){g[0]&160&&a!==(a=Math.round(m[5].arrivalTime-m[7]/1e3)+"")&&Y(n,a),g[0]&160&&c!==(c=m[5].arrivalTime>m[7]/1e3)&&(s.disabled=c)},d(m){m&&d(e),p=!1,v()}}}function pr(i){let e,t,l,r,s,o,a=i[5].x+"",n,u,c,p,v=i[5].y+"",m,g,h,b,E=Ce(i[0],i[1],i[5].x,i[5].y)+"",C,P,U,S,M,T,V,O,F,K,de,ee,ge=Ce(i[0],i[1],i[5].x,i[5].y)+"",me,le,he,x,G,we=Pe*Ce(i[0],i[1],i[5].x,i[5].y)+"",be,re,Z,B,Q,W,te,_e,Ee,ye,Be;return{c(){e=$("div"),t=w(`Distance:
                `),l=$("span"),r=w("|"),s=w(i[0]),o=w(" - "),n=w(a),u=w("| + |"),c=w(i[1]),p=w(" - "),m=w(v),g=w("|"),h=w(`
                =
                `),b=$("span"),C=w(E),P=w(" unit(s)."),U=j(),S=$("div"),M=w(`Your speed:
                `),T=$("span"),V=w(Pe),O=w(" units/second."),F=j(),K=$("div"),de=w(`Travel time:
                `),ee=$("span"),me=w(ge),le=w(" * "),he=w(Pe),x=w(`
                =
                `),G=$("span"),be=w(we),re=w(`
                  seconds`),Z=j(),B=$("button"),Q=w("MOVE HERE"),W=j(),te=$("button"),_e=w("FIGHT"),this.h()},l(H){e=I(H,"DIV",{});var J=k(e);t=y(J,`Distance:
                `),l=I(J,"SPAN",{class:!0});var se=k(l);r=y(se,"|"),s=y(se,i[0]),o=y(se," - "),n=y(se,a),u=y(se,"| + |"),c=y(se,i[1]),p=y(se," - "),m=y(se,v),g=y(se,"|"),se.forEach(d),h=y(J,`
                =
                `),b=I(J,"SPAN",{class:!0});var Ve=k(b);C=y(Ve,E),P=y(Ve," unit(s)."),Ve.forEach(d),J.forEach(d),U=z(H),S=I(H,"DIV",{});var $e=k(S);M=y($e,`Your speed:
                `),T=I($e,"SPAN",{class:!0});var Ke=k(T);V=y(Ke,Pe),O=y(Ke," units/second."),Ke.forEach(d),$e.forEach(d),F=z(H),K=I(H,"DIV",{});var ke=k(K);de=y(ke,`Travel time:
                `),ee=I(ke,"SPAN",{class:!0});var Ae=k(ee);me=y(Ae,ge),le=y(Ae," * "),he=y(Ae,Pe),Ae.forEach(d),x=y(ke,`
                =
                `),G=I(ke,"SPAN",{class:!0});var Fe=k(G);be=y(Fe,we),re=y(Fe,`
                  seconds`),Fe.forEach(d),Z=z(ke),B=I(ke,"BUTTON",{class:!0,type:!0});var lt=k(B);Q=y(lt,"MOVE HERE"),lt.forEach(d),W=z(ke),te=I(ke,"BUTTON",{class:!0,type:!0});var rt=k(te);_e=y(rt,"FIGHT"),rt.forEach(d),ke.forEach(d),this.h()},h(){f(l,"class","italic"),f(b,"class","font-medium"),f(T,"class","font-medium"),f(ee,"class","italic"),f(G,"class","font-bold"),f(B,"class","flex-shrink-0 bg-yellow-500 hover:bg-yellow-600 border-yellow-500 hover:border-yellow-600 text-sm border-4 text-white py-1 px-2 rounded disabled:bg-gray-400 disabled:border-gray-400 disabled:cursor-not-allowed"),f(B,"type","button"),te.disabled=Ee=i[5].x!==i[0]||i[5].y!==i[1],f(te,"class","flex-shrink-0 bg-yellow-500 hover:bg-yellow-600 border-yellow-500 hover:border-yellow-600 text-sm border-4 text-white py-1 px-2 rounded disabled:bg-gray-400 disabled:border-gray-400 disabled:cursor-not-allowed"),f(te,"type","button")},m(H,J){D(H,e,J),_(e,t),_(e,l),_(l,r),_(l,s),_(l,o),_(l,n),_(l,u),_(l,c),_(l,p),_(l,m),_(l,g),_(e,h),_(e,b),_(b,C),_(b,P),D(H,U,J),D(H,S,J),_(S,M),_(S,T),_(T,V),_(T,O),D(H,F,J),D(H,K,J),_(K,de),_(K,ee),_(ee,me),_(ee,le),_(ee,he),_(K,x),_(K,G),_(G,be),_(G,re),_(K,Z),_(K,B),_(B,Q),_(K,W),_(K,te),_(te,_e),ye||(Be=[ue(B,"click",i[16]),ue(te,"click",i[11])],ye=!0)},p(H,J){J[0]&1&&Y(s,H[0]),J[0]&32&&a!==(a=H[5].x+"")&&Y(n,a),J[0]&2&&Y(c,H[1]),J[0]&32&&v!==(v=H[5].y+"")&&Y(m,v),J[0]&35&&E!==(E=Ce(H[0],H[1],H[5].x,H[5].y)+"")&&Y(C,E),J[0]&35&&ge!==(ge=Ce(H[0],H[1],H[5].x,H[5].y)+"")&&Y(me,ge),J[0]&35&&we!==(we=Pe*Ce(H[0],H[1],H[5].x,H[5].y)+"")&&Y(be,we),J[0]&35&&Ee!==(Ee=H[5].x!==H[0]||H[5].y!==H[1])&&(te.disabled=Ee)},d(H){H&&d(e),H&&d(U),H&&d(S),H&&d(F),H&&d(K),ye=!1,ot(Be)}}}function Vt(i){let e,t,l,r,s,o,a=i[4],n=[];for(let c=0;c<a.length;c+=1)n[c]=Tt(gt(i,a,c));const u=c=>A(n[c],1,1,()=>{n[c]=null});return{c(){e=$("div"),t=$("div"),l=w("Shop"),r=j(),s=$("div");for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=I(c,"DIV",{class:!0});var p=k(e);t=I(p,"DIV",{class:!0});var v=k(t);l=y(v,"Shop"),v.forEach(d),r=z(p),s=I(p,"DIV",{class:!0});var m=k(s);for(let g=0;g<n.length;g+=1)n[g].l(m);m.forEach(d),p.forEach(d),this.h()},h(){f(t,"class","text-lg"),f(s,"class","flex"),f(e,"class","rounded-md border-2 p-4")},m(c,p){D(c,e,p),_(e,t),_(t,l),_(e,r),_(e,s);for(let v=0;v<n.length;v+=1)n[v].m(s,null);o=!0},p(c,p){if(p[0]&8243){a=c[4];let v;for(v=0;v<a.length;v+=1){const m=gt(c,a,v);n[v]?(n[v].p(m,p),N(n[v],1)):(n[v]=Tt(m),n[v].c(),N(n[v],1),n[v].m(s,null))}for(ie(),v=a.length;v<n.length;v+=1)u(v);oe()}},i(c){if(!o){for(let p=0;p<a.length;p+=1)N(n[p]);o=!0}},o(c){n=n.filter(Boolean);for(let p=0;p<n.length;p+=1)A(n[p]);o=!1},d(c){c&&d(e),De(n,c)}}}function Tt(i){let e,t,l=i[23].name+"",r,s,o,a=i[23].description+"",n,u,c,p,v=i[23].buyPrice/10**18+"",m,g,h,b,E,C,P,U,S,M,T;return h=new tt({}),{c(){e=$("div"),t=$("div"),r=w(l),s=j(),o=$("div"),n=w(a),u=j(),c=$("div"),p=w("Price: "),m=w(v),g=j(),ne(h.$$.fragment),b=j(),E=$("button"),C=w("BUY 1"),U=j(),this.h()},l(V){e=I(V,"DIV",{class:!0});var O=k(e);t=I(O,"DIV",{});var F=k(t);r=y(F,l),F.forEach(d),s=z(O),o=I(O,"DIV",{class:!0});var K=k(o);n=y(K,a),K.forEach(d),u=z(O),c=I(O,"DIV",{class:!0});var de=k(c);p=y(de,"Price: "),m=y(de,v),g=z(de),ae(h.$$.fragment,de),de.forEach(d),b=z(O),E=I(O,"BUTTON",{class:!0,type:!0});var ee=k(E);C=y(ee,"BUY 1"),ee.forEach(d),U=z(O),O.forEach(d),this.h()},h(){f(o,"class","italic"),f(c,"class","flex"),f(E,"class","flex-shrink-0 bg-yellow-500 hover:bg-yellow-600 border-yellow-500 hover:border-yellow-600 text-sm border-4 text-white py-1 px-2 rounded disabled:bg-gray-400 disabled:border-gray-400 disabled:cursor-not-allowed"),f(E,"type","button"),E.disabled=P=i[5].x!==i[0]||i[5].y!==i[1],f(e,"class","border-2 border-dashed w-48")},m(V,O){D(V,e,O),_(e,t),_(t,r),_(e,s),_(e,o),_(o,n),_(e,u),_(e,c),_(c,p),_(c,m),_(c,g),ce(h,c,null),_(e,b),_(e,E),_(E,C),_(e,U),S=!0,M||(T=ue(E,"click",i[13]),M=!0)},p(V,O){(!S||O[0]&16)&&l!==(l=V[23].name+"")&&Y(r,l),(!S||O[0]&16)&&a!==(a=V[23].description+"")&&Y(n,a),(!S||O[0]&16)&&v!==(v=V[23].buyPrice/10**18+"")&&Y(m,v),(!S||O[0]&35&&P!==(P=V[5].x!==V[0]||V[5].y!==V[1]))&&(E.disabled=P)},i(V){S||(N(h.$$.fragment,V),S=!0)},o(V){A(h.$$.fragment,V),S=!1},d(V){V&&d(e),fe(h),M=!1,T()}}}function vr(i){let e,t,l,r,s,o,a,n,u,c,p,v,m=i[3].filter(i[14]).length+"",g,h,b,E,C,P,U,S,M,T,V,O,F,K,de,ee;function ge(B,Q){return B[2]?ur:fr}let me=ge(i),le=me(i),he=i[3].filter(i[15]),x=[];for(let B=0;B<he.length;B+=1)x[B]=$t(yt(i,he,B));let G=i[2]&&It(i);function we(B,Q){return B[5]&&!B[5].arrivalTime?pr:B[5].arrivalTime&&B[5].xDestination===B[0]&&B[5].yDestination===B[1]&&B[5].arrivalTime<B[7]/1e3?_r:B[5].arrivalTime&&B[5].xDestination===B[0]&&B[5].yDestination===B[1]?hr:dr}let be=we(i),re=be(i),Z=i[2]&&Vt(i);return{c(){e=$("div"),t=$("div"),l=$("div"),r=w("Overview"),s=j(),le.c(),o=j(),a=$("div"),n=$("div"),u=w("Players"),c=j(),p=$("div"),v=w("There are "),g=w(m),h=w(" player(s) in this tile."),b=j(),E=$("ul");for(let B=0;B<x.length;B+=1)x[B].c();C=j(),G&&G.c(),P=j(),U=$("div"),S=$("div"),M=w("Actions"),T=j(),V=$("div"),O=$("div"),F=w("Movement"),K=j(),re.c(),de=j(),Z&&Z.c(),this.h()},l(B){e=I(B,"DIV",{class:!0});var Q=k(e);t=I(Q,"DIV",{class:!0});var W=k(t);l=I(W,"DIV",{class:!0});var te=k(l);r=y(te,"Overview"),te.forEach(d),s=z(W),le.l(W),W.forEach(d),o=z(Q),a=I(Q,"DIV",{class:!0});var _e=k(a);n=I(_e,"DIV",{class:!0});var Ee=k(n);u=y(Ee,"Players"),Ee.forEach(d),c=z(_e),p=I(_e,"DIV",{class:!0});var ye=k(p);v=y(ye,"There are "),g=y(ye,m),h=y(ye," player(s) in this tile."),ye.forEach(d),b=z(_e),E=I(_e,"UL",{class:!0});var Be=k(E);for(let $e=0;$e<x.length;$e+=1)x[$e].l(Be);Be.forEach(d),_e.forEach(d),C=z(Q),G&&G.l(Q),P=z(Q),U=I(Q,"DIV",{class:!0});var H=k(U);S=I(H,"DIV",{class:!0});var J=k(S);M=y(J,"Actions"),J.forEach(d),T=z(H),V=I(H,"DIV",{class:!0});var se=k(V);O=I(se,"DIV",{class:!0});var Ve=k(O);F=y(Ve,"Movement"),Ve.forEach(d),K=z(se),re.l(se),se.forEach(d),de=z(H),Z&&Z.l(H),H.forEach(d),Q.forEach(d),this.h()},h(){f(l,"class","text-xl"),f(t,"class","m-2 rounded-md border-4 p-4"),f(n,"class","text-xl"),f(p,"class","italic"),f(E,"class","list-disc"),f(a,"class","m-2 rounded-md border-4 p-4 "),f(S,"class","text-xl"),f(O,"class","text-lg"),f(V,"class","rounded-md border-2 p-4"),f(U,"class","m-2 rounded-md border-4 p-4"),f(e,"class","flex flex-col")},m(B,Q){D(B,e,Q),_(e,t),_(t,l),_(l,r),_(t,s),le.m(t,null),_(e,o),_(e,a),_(a,n),_(n,u),_(a,c),_(a,p),_(p,v),_(p,g),_(p,h),_(a,b),_(a,E);for(let W=0;W<x.length;W+=1)x[W].m(E,null);_(e,C),G&&G.m(e,null),_(e,P),_(e,U),_(U,S),_(S,M),_(U,T),_(U,V),_(V,O),_(O,F),_(V,K),re.m(V,null),_(U,de),Z&&Z.m(U,null),ee=!0},p(B,Q){if(me===(me=ge(B))&&le?le.p(B,Q):(le.d(1),le=me(B),le&&(le.c(),le.m(t,null))),(!ee||Q[0]&11)&&m!==(m=B[3].filter(B[14]).length+"")&&Y(g,m),Q[0]&11){he=B[3].filter(B[15]);let W;for(W=0;W<he.length;W+=1){const te=yt(B,he,W);x[W]?x[W].p(te,Q):(x[W]=$t(te),x[W].c(),x[W].m(E,null))}for(;W<x.length;W+=1)x[W].d(1);x.length=he.length}B[2]?G?(G.p(B,Q),Q[0]&4&&N(G,1)):(G=It(B),G.c(),N(G,1),G.m(e,P)):G&&(ie(),A(G,1,1,()=>{G=null}),oe()),be===(be=we(B))&&re?re.p(B,Q):(re.d(1),re=be(B),re&&(re.c(),re.m(V,null))),B[2]?Z?(Z.p(B,Q),Q[0]&4&&N(Z,1)):(Z=Vt(B),Z.c(),N(Z,1),Z.m(U,null)):Z&&(ie(),A(Z,1,1,()=>{Z=null}),oe())},i(B){ee||(N(G),N(Z),ee=!0)},o(B){A(G),A(Z),ee=!1},d(B){B&&d(e),le.d(),De(x,B),G&&G.d(),re.d(),Z&&Z.d()}}}function Mt(i){let e;function t(s,o){return s[2].x>2?br:mr}let l=t(i),r=l(i);return{c(){r.c(),e=X()},l(s){r.l(s),e=X()},m(s,o){r.m(s,o),D(s,e,o)},p(s,o){l!==(l=t(s))&&(r.d(1),r=l(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&d(e)}}}function mr(i){let e,t,l,r,s,o,a,n;return{c(){e=q("svg"),t=q("rect"),l=q("rect"),r=q("g"),s=q("path"),o=q("animateTransform"),a=q("path"),n=q("animateTransform"),this.h()},l(u){e=R(u,"svg",{xmlns:!0,viewBox:!0});var c=k(e);t=R(c,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0}),k(t).forEach(d),l=R(c,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0}),k(l).forEach(d),r=R(c,"g",{transform:!0});var p=k(r);s=R(p,"path",{stroke:!0,d:!0,fill:!0,"stroke-width":!0});var v=k(s);o=R(v,"animateTransform",{attributeName:!0,attributeType:!0,type:!0,from:!0,to:!0,dur:!0,repeatCount:!0}),k(o).forEach(d),v.forEach(d),a=R(p,"path",{stroke:!0,d:!0,fill:!0,"stroke-width":!0});var m=k(a);n=R(m,"animateTransform",{attributeName:!0,attributeType:!0,type:!0,from:!0,to:!0,dur:!0,repeatCount:!0}),k(n).forEach(d),m.forEach(d),p.forEach(d),c.forEach(d),this.h()},h(){f(t,"fill","burlywood"),f(t,"x","0.25"),f(t,"y","0.3"),f(t,"width","1.5"),f(t,"height","2.5"),f(l,"fill","sienna"),f(l,"x","0.7"),f(l,"y","2.1"),f(l,"width","0.6"),f(l,"height","0.7"),f(o,"attributeName","transform"),f(o,"attributeType","XML"),f(o,"type","rotate"),f(o,"from","0 0 0"),f(o,"to","360 0 0"),f(o,"dur","4s"),f(o,"repeatCount","indefinite"),f(s,"stroke","brown"),f(s,"d","M0 0.8 V -0.8"),f(s,"fill","transparent"),f(s,"stroke-width","0.4"),f(n,"attributeName","transform"),f(n,"attributeType","XML"),f(n,"type","rotate"),f(n,"from","0 0 0"),f(n,"to","360 0 0"),f(n,"dur","4s"),f(n,"repeatCount","indefinite"),f(a,"stroke","brown"),f(a,"d","M0.8 0 H -0.8"),f(a,"fill","transparent"),f(a,"stroke-width","0.4"),f(r,"transform","translate(1 0.7)"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 2 3")},m(u,c){D(u,e,c),_(e,t),_(e,l),_(e,r),_(r,s),_(s,o),_(r,a),_(a,n)},d(u){u&&d(e)}}}function br(i){let e,t,l,r;return{c(){e=q("svg"),t=q("polygon"),l=q("rect"),r=q("rect"),this.h()},l(s){e=R(s,"svg",{xmlns:!0,viewBox:!0});var o=k(e);t=R(o,"polygon",{fill:!0,points:!0}),k(t).forEach(d),l=R(o,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0}),k(l).forEach(d),r=R(o,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0}),k(r).forEach(d),o.forEach(d),this.h()},h(){f(t,"fill","gold"),f(t,"points","0.25,0.35 0.5,0.1 0.75,0.35"),f(l,"fill","darkkhaki"),f(l,"x","0.25"),f(l,"y","0.35"),f(l,"width","0.5"),f(l,"height","0.5"),f(r,"fill","brown"),f(r,"x","0.45"),f(r,"y","0.65"),f(r,"width","0.1"),f(r,"height","0.2"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 1 1")},m(s,o){D(s,e,o),_(e,t),_(e,l),_(e,r)},d(s){s&&d(e)}}}function kr(i){let e,t;return{c(){e=q("svg"),t=q("circle"),this.h()},l(l){e=R(l,"svg",{xmlns:!0,viewBox:!0});var r=k(e);t=R(r,"circle",{fill:!0,"stroke-width":!0,stroke:!0,r:!0,cx:!0,cy:!0}),k(t).forEach(d),r.forEach(d),this.h()},h(){f(t,"fill","grey"),f(t,"stroke-width","0.1"),f(t,"stroke","green"),f(t,"r","0.25"),f(t,"cx","0.5"),f(t,"cy","0.5"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 1 1")},m(l,r){D(l,e,r),_(e,t)},d(l){l&&d(e)}}}function gr(i){let e,t;return{c(){e=q("svg"),t=q("circle"),this.h()},l(l){e=R(l,"svg",{xmlns:!0,viewBox:!0});var r=k(e);t=R(r,"circle",{fill:!0,"stroke-width":!0,stroke:!0,r:!0,cx:!0,cy:!0}),k(t).forEach(d),r.forEach(d),this.h()},h(){f(t,"fill","grey"),f(t,"stroke-width","0.1"),f(t,"stroke","red"),f(t,"r","0.25"),f(t,"cx","0.5"),f(t,"cy","0.5"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 1 1")},m(l,r){D(l,e,r),_(e,t)},d(l){l&&d(e)}}}function Pt(i){let e;function t(s,o){if(s[20].arrivalTime&&s[20].xDestination===s[0]&&s[20].yDestination===s[1])return gr;if(!s[20].arrivalTime&&s[20].x===s[0]&&s[20].y===s[1])return kr}let l=t(i),r=l&&l(i);return{c(){r&&r.c(),e=X()},l(s){r&&r.l(s),e=X()},m(s,o){r&&r.m(s,o),D(s,e,o)},p(s,o){l!==(l=t(s))&&(r&&r.d(1),r=l&&l(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r&&r.d(s),s&&d(e)}}}function wr(i){let e,t,l,r,s,o,a,n,u,c,p,v,m,g,h,b,E,C=i[6]&&Et(i),P=i[2]&&Mt(i),U=i[3],S=[];for(let M=0;M<U.length;M+=1)S[M]=Pt(kt(i,U,M));return{c(){e=$("div"),C&&C.c(),t=j(),l=$("div"),r=q("svg"),s=q("svg"),o=q("rect"),a=q("path"),n=q("path"),u=q("path"),c=q("path"),p=q("path"),v=q("path"),P&&P.c(),m=X();for(let M=0;M<S.length;M+=1)S[M].c();this.h()},l(M){e=I(M,"DIV",{});var T=k(e);C&&C.l(T),t=z(T),l=I(T,"DIV",{class:!0});var V=k(l);r=R(V,"svg",{width:!0,height:!0});var O=k(r);s=R(O,"svg",{xmlns:!0,viewBox:!0});var F=k(s);o=R(F,"rect",{fill:!0,width:!0,height:!0}),k(o).forEach(d),a=R(F,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),k(a).forEach(d),n=R(F,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),k(n).forEach(d),u=R(F,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),k(u).forEach(d),c=R(F,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),k(c).forEach(d),p=R(F,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),k(p).forEach(d),v=R(F,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),k(v).forEach(d),F.forEach(d),P&&P.l(O),m=X();for(let K=0;K<S.length;K+=1)S[K].l(O);O.forEach(d),V.forEach(d),T.forEach(d),this.h()},h(){f(o,"fill","#009A17"),f(o,"width","1"),f(o,"height","1"),f(a,"d","M 0.161,0.178 0.249,0.336"),f(a,"fill","none"),f(a,"stroke","#004400"),f(a,"stroke-width","0.02"),f(n,"d","M 0.314,0.173 V 0.33"),f(n,"fill","none"),f(n,"stroke","#004400"),f(n,"stroke-width","0.02"),f(u,"d","M 0.469,0.178 0.376,0.336"),f(u,"fill","none"),f(u,"stroke","#004400"),f(u,"stroke-width","0.02"),f(c,"d","m 0.48277796,0.53428125 0.088,0.158"),f(c,"fill","none"),f(c,"stroke","#004400"),f(c,"stroke-width","0.02"),f(p,"d","m 0.63577796,0.52928125 v 0.157"),f(p,"fill","none"),f(p,"stroke","#004400"),f(p,"stroke-width","0.02"),f(v,"d","m 0.79077796,0.53428125 -0.093,0.158"),f(v,"fill","none"),f(v,"stroke","#004400"),f(v,"stroke-width","0.02"),f(s,"xmlns","http://www.w3.org/2000/svg"),f(s,"viewBox","0 0 1 1"),f(r,"width","100"),f(r,"height","100"),f(l,"class",g="border-4 hover:border-green-500 "+(i[5]&&i[3].some(i[19])?"border-yellow-500 hover:border-yellow-500":"border-black-500"))},m(M,T){D(M,e,T),C&&C.m(e,null),_(e,t),_(e,l),_(l,r),_(r,s),_(s,o),_(s,a),_(s,n),_(s,u),_(s,c),_(s,p),_(s,v),P&&P.m(r,null),_(r,m);for(let V=0;V<S.length;V+=1)S[V].m(r,null);h=!0,b||(E=ue(r,"click",i[18]),b=!0)},p(M,T){if(M[6]?C?(C.p(M,T),T[0]&64&&N(C,1)):(C=Et(M),C.c(),N(C,1),C.m(e,t)):C&&(ie(),A(C,1,1,()=>{C=null}),oe()),M[2]?P?P.p(M,T):(P=Mt(M),P.c(),P.m(r,m)):P&&(P.d(1),P=null),T[0]&11){U=M[3];let V;for(V=0;V<U.length;V+=1){const O=kt(M,U,V);S[V]?S[V].p(O,T):(S[V]=Pt(O),S[V].c(),S[V].m(r,null))}for(;V<S.length;V+=1)S[V].d(1);S.length=U.length}(!h||T[0]&43&&g!==(g="border-4 hover:border-green-500 "+(M[5]&&M[3].some(M[19])?"border-yellow-500 hover:border-yellow-500":"border-black-500")))&&f(l,"class",g)},i(M){h||(N(C),h=!0)},o(M){A(C),h=!1},d(M){M&&d(e),C&&C.d(),P&&P.d(),De(S,M),b=!1,E()}}}const Pe=2;function Ce(i,e,t,l){return Math.abs(t-i)+Math.abs(l-e)}function yr(i,e,t){let l,{x:r}=e,{y:s}=e,{village:o}=e,{players:a}=e,{items:n}=e,{currentPlayer:u}=e,c=!1,p=Date.now(),v=ar(o?o.member:"");pe(i,v,T=>t(8,l=T));async function m(){await ve.execute(T=>T.UnionQuestCore.resolveMove())}async function g(){await ve.execute(T=>T.UnionQuestCore.fight())}async function h(T,V){await ve.execute(O=>O.UnionQuestCore.beginMove(T,V))}async function b(){await ve.execute(T=>T.UnionQuestCore.buyItem(0,1,"0x"))}ft(()=>{const T=setInterval(()=>{t(7,p=Date.now())},1e3);return()=>{clearInterval(T)}});const E=T=>T.x===r&&T.y===s,C=T=>T.x===r&&T.y===s,P=()=>h(r,s),U=()=>t(6,c=!1),S=()=>t(6,c=!0),M=T=>T.x===r&&T.y===s&&T.id===u.id;return i.$$set=T=>{"x"in T&&t(0,r=T.x),"y"in T&&t(1,s=T.y),"village"in T&&t(2,o=T.village),"players"in T&&t(3,a=T.players),"items"in T&&t(4,n=T.items),"currentPlayer"in T&&t(5,u=T.currentPlayer)},[r,s,o,a,n,u,c,p,l,v,m,g,h,b,E,C,P,U,S,M]}class Er extends Se{constructor(e){super();Ne(this,e,yr,wr,Le,{x:0,y:1,village:2,players:3,items:4,currentPlayer:5},null,[-1,-1])}}function Ct(i,e,t){const l=i.slice();return l[10]=e[t],l}function Bt(i,e,t){const l=i.slice();return l[13]=e[t],l}function $r(i){let e,t,l,r=Math.round(i[1].data.find(i[7]).balance/10**18)+"",s,o,a,n,u,c,p;a=new tt({});let v=[0,1,2,3,4,5],m=[];for(let h=0;h<6;h+=1)m[h]=Nt(Ct(i,v,h));const g=h=>A(m[h],1,1,()=>{m[h]=null});return{c(){e=$("div"),t=$("div"),l=w("Balance: "),s=w(r),o=j(),ne(a.$$.fragment),n=j(),u=$("div"),c=$("div");for(let h=0;h<6;h+=1)m[h].c();this.h()},l(h){e=I(h,"DIV",{class:!0});var b=k(e);t=I(b,"DIV",{class:!0});var E=k(t);l=y(E,"Balance: "),s=y(E,r),o=z(E),ae(a.$$.fragment,E),E.forEach(d),n=z(b),u=I(b,"DIV",{class:!0});var C=k(u);c=I(C,"DIV",{class:!0});var P=k(c);for(let U=0;U<6;U+=1)m[U].l(P);P.forEach(d),C.forEach(d),b.forEach(d),this.h()},h(){f(t,"class","flex svelte-8b44jz"),f(c,"class","grid grid-cols-6 w-fit h-fit svelte-8b44jz"),f(u,"class","flex justify-center svelte-8b44jz"),f(e,"class","svelte-8b44jz")},m(h,b){D(h,e,b),_(e,t),_(t,l),_(t,s),_(t,o),ce(a,t,null),_(e,n),_(e,u),_(u,c);for(let E=0;E<6;E+=1)m[E].m(c,null);p=!0},p(h,b){if((!p||b&10)&&r!==(r=Math.round(h[1].data.find(h[7]).balance/10**18)+"")&&Y(s,r),b&15){v=[0,1,2,3,4,5];let E;for(E=0;E<6;E+=1){const C=Ct(h,v,E);m[E]?(m[E].p(C,b),N(m[E],1)):(m[E]=Nt(C),m[E].c(),N(m[E],1),m[E].m(c,null))}for(ie(),E=6;E<6;E+=1)g(E);oe()}},i(h){if(!p){N(a.$$.fragment,h);for(let b=0;b<6;b+=1)N(m[b]);p=!0}},o(h){A(a.$$.fragment,h),m=m.filter(Boolean);for(let b=0;b<6;b+=1)A(m[b]);p=!1},d(h){h&&d(e),fe(a),De(m,h)}}}function Ir(i){let e,t,l,r;return{c(){e=$("button"),t=w("START"),this.h()},l(s){e=I(s,"BUTTON",{class:!0});var o=k(e);t=y(o,"START"),o.forEach(d),this.h()},h(){f(e,"class","svelte-8b44jz")},m(s,o){D(s,e,o),_(e,t),l||(r=ue(e,"click",i[6]),l=!0)},p:L,i:L,o:L,d(s){s&&d(e),l=!1,r()}}}function Dr(i){let e,t;return{c(){e=$("div"),t=w("Null!"),this.h()},l(l){e=I(l,"DIV",{class:!0});var r=k(e);t=y(r,"Null!"),r.forEach(d),this.h()},h(){f(e,"class","svelte-8b44jz")},m(l,r){D(l,e,r),_(e,t)},p:L,i:L,o:L,d(l){l&&d(e)}}}function Vr(i){let e,t;return{c(){e=$("div"),t=w("Loading Map..."),this.h()},l(l){e=I(l,"DIV",{class:!0});var r=k(e);t=y(r,"Loading Map..."),r.forEach(d),this.h()},h(){f(e,"class","svelte-8b44jz")},m(l,r){D(l,e,r),_(e,t)},p:L,i:L,o:L,d(l){l&&d(e)}}}function Tr(i){let e,t,l=i[0].error+"",r;return{c(){e=$("div"),t=w("Error: "),r=w(l),this.h()},l(s){e=I(s,"DIV",{class:!0});var o=k(e);t=y(o,"Error: "),r=y(o,l),o.forEach(d),this.h()},h(){f(e,"class","svelte-8b44jz")},m(s,o){D(s,e,o),_(e,t),_(e,r)},p(s,o){o&1&&l!==(l=s[0].error+"")&&Y(r,l)},i:L,o:L,d(s){s&&d(e)}}}function Mr(i){let e,t;return{c(){e=$("div"),t=w("Messages not loaded"),this.h()},l(l){e=I(l,"DIV",{class:!0});var r=k(e);t=y(r,"Messages not loaded"),r.forEach(d),this.h()},h(){f(e,"class","svelte-8b44jz")},m(l,r){D(l,e,r),_(e,t)},p:L,i:L,o:L,d(l){l&&d(e)}}}function St(i){let e,t;function l(...r){return i[8](i[10],i[13],...r)}return e=new Er({props:{x:i[10],y:i[13],village:i[0].data.find(l),players:i[1].data,items:i[2].data,currentPlayer:i[1].data.find(i[9])}}),{c(){ne(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,s){ce(e,r,s),t=!0},p(r,s){i=r;const o={};s&1&&(o.village=i[0].data.find(l)),s&2&&(o.players=i[1].data),s&4&&(o.items=i[2].data),s&10&&(o.currentPlayer=i[1].data.find(i[9])),e.$set(o)},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){fe(e,r)}}}function Nt(i){let e,t,l=[0,1,2,3,4,5],r=[];for(let o=0;o<6;o+=1)r[o]=St(Bt(i,l,o));const s=o=>A(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<6;o+=1)r[o].c();e=X()},l(o){for(let a=0;a<6;a+=1)r[a].l(o);e=X()},m(o,a){for(let n=0;n<6;n+=1)r[n].m(o,a);D(o,e,a),t=!0},p(o,a){if(a&15){l=[0,1,2,3,4,5];let n;for(n=0;n<6;n+=1){const u=Bt(o,l,n);r[n]?(r[n].p(u,a),N(r[n],1)):(r[n]=St(u),r[n].c(),N(r[n],1),r[n].m(e.parentNode,e))}for(ie(),n=6;n<6;n+=1)s(n);oe()}},i(o){if(!t){for(let a=0;a<6;a+=1)N(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<6;a+=1)A(r[a]);t=!1},d(o){De(r,o),o&&d(e)}}}function Pr(i){let e,t,l,r,s;const o=[Mr,Tr,Vr,Dr,Ir,$r],a=[];function n(u,c){return u[0].step?u[0].error?1:u[0].step==="LOADING"?2:!u[0].data||!u[1].data||!u[2].data?3:((t==null||c&10)&&(t=!u[1].data.find(u[5])),t?4:5):0}return l=n(i,-1),r=a[l]=o[l](i),{c(){e=$("section"),r.c(),this.h()},l(u){e=I(u,"SECTION",{class:!0});var c=k(e);r.l(c),c.forEach(d),this.h()},h(){f(e,"class","py-8 px-4 svelte-8b44jz")},m(u,c){D(u,e,c),a[l].m(e,null),s=!0},p(u,c){let p=l;l=n(u,c),l===p?a[l].p(u,c):(ie(),A(a[p],1,1,()=>{a[p]=null}),oe(),r=a[l],r?r.p(u,c):(r=a[l]=o[l](u),r.c()),N(r,1),r.m(e,null))},i(u){s||(N(r),s=!0)},o(u){A(r),s=!1},d(u){u&&d(e),a[l].d()}}}function Cr(i){let e,t,l,r,s;return r=new Fl({props:{$$slots:{default:[Pr]},$$scope:{ctx:i}}}),{c(){e=q("symbol"),t=q("path"),l=j(),ne(r.$$.fragment),this.h()},l(o){e=R(o,"symbol",{id:!0,viewBox:!0,class:!0});var a=k(e);t=R(a,"path",{d:!0,class:!0}),k(t).forEach(d),a.forEach(d),l=z(o),ae(r.$$.fragment,o),this.h()},h(){f(t,"d","M12 4c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4s-4-1.791-4-4zM24.719 16c0 0 0 0 0 0 0-1.812 1.469-3.281 3.281-3.281s3.281 1.469 3.281 3.281c0 0 0 0 0 0 0 1.812-1.469 3.281-3.281 3.281s-3.281-1.469-3.281-3.281zM21.513 24.485c0-1.641 1.331-2.972 2.972-2.972s2.972 1.331 2.972 2.972c0 1.641-1.331 2.972-2.972 2.972s-2.972-1.331-2.972-2.972zM13.308 28c0-1.487 1.205-2.692 2.692-2.692s2.692 1.205 2.692 2.692c0 1.487-1.205 2.692-2.692 2.692s-2.692-1.205-2.692-2.692zM5.077 24.485c0-1.346 1.092-2.438 2.438-2.438s2.438 1.092 2.438 2.438c0 1.346-1.092 2.438-2.438 2.438s-2.438-1.092-2.438-2.438zM1.792 16c0-1.22 0.989-2.208 2.208-2.208s2.208 0.989 2.208 2.208c0 1.22-0.989 2.208-2.208 2.208s-2.208-0.989-2.208-2.208zM5.515 7.515c0 0 0 0 0 0 0-1.105 0.895-2 2-2s2 0.895 2 2c0 0 0 0 0 0 0 1.105-0.895 2-2 2s-2-0.895-2-2zM28.108 7.515c0 2.001-1.622 3.623-3.623 3.623s-3.623-1.622-3.623-3.623c0-2.001 1.622-3.623 3.623-3.623s3.623 1.622 3.623 3.623z"),f(t,"class","svelte-8b44jz"),f(e,"id","icon-spinner6"),f(e,"viewBox","0 0 32 32"),f(e,"class","svelte-8b44jz")},m(o,a){D(o,e,a),_(e,t),D(o,l,a),ce(r,o,a),s=!0},p(o,[a]){const n={};a&65551&&(n.$$scope={dirty:a,ctx:o}),r.$set(n)},i(o){s||(N(r.$$.fragment,o),s=!0)},o(o){A(r.$$.fragment,o),s=!1},d(o){o&&d(e),o&&d(l),fe(r,o)}}}function Br(i,e,t){let l,r,s,o;pe(i,sr,m=>t(0,l=m)),pe(i,lr,m=>t(1,r=m)),pe(i,or,m=>t(2,s=m)),pe(i,Te,m=>t(3,o=m));async function a(){await ve.execute(m=>m.UnionQuestCore.start())}return ft(()=>{console.log("mount demo",{combine:Ql(Te.address||"0x0000000000000000000000000000000000000000","hi").toString()})}),[l,r,s,o,a,m=>o.address?m.id===o.address.toLowerCase():!1,()=>a(),m=>o.address?m.id===o.address.toLowerCase():!1,(m,g,h)=>h.x===m&&h.y===g,m=>o.address?m.id===o.address.toLowerCase():!1]}class Ar extends Se{constructor(e){super();Ne(this,e,Br,Cr,Le,{})}}export{Ar as default};
//# sourceMappingURL=map.svelte-541d88df.js.map
