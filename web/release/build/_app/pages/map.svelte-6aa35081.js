var Bl=Object.defineProperty;var Ct=Object.getOwnPropertySymbols;var Cl=Object.prototype.hasOwnProperty,Nl=Object.prototype.propertyIsEnumerable;var Nt=(s,e,t)=>e in s?Bl(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Le=(s,e)=>{for(var t in e||(e={}))Cl.call(e,t)&&Nt(s,t,e[t]);if(Ct)for(var t of Ct(e))Nl.call(e,t)&&Nt(s,t,e[t]);return s};import{S as ce,i as fe,s as ue,e as y,c as E,a as k,d as u,b,f as T,H as _,I as re,J as q,L as he,O as Ll,F as ie,G as se,$ as Lt,r as Al,a0 as nt,j as H,t as D,l as z,g as V,h as Y,P as dt,R as _t,T as ht,U as vt,p as O,n as R,N as mt,K as Ol,a1 as Ul,a2 as jl,k as ee,m as X,o as J,Z as At,v as F,w as Q,x as G,A as K,M as pt,a3 as _e,a4 as Rl,a5 as ql,a6 as bt,a7 as Hl,a8 as Ot,a9 as zl,aa as Wl,ab as Yl,C as Fl,E as Ql,ac as We,ad as Gl,ae as Ye,af as Kl,u as ze,ag as Fe,ah as Zl,ai as Xl}from"../chunks/vendor-ec6c92af.js";import{b as Jl,w as Ae,f as de,c as Qe,d as xl,e as er,h as Ge,i as tr,t as Ke,j as Ze}from"../chunks/wallet-9a25ca5e.js";import{N as Oe,u as lr}from"../chunks/url-e44ef79e.js";import{b as gt}from"../chunks/paths-28a87002.js";import{d as Ut}from"../chunks/CanvasBlockie.svelte_svelte_type_style_lang-45c0ef05.js";function rr(s){let e,t;return{c(){e=ie("svg"),t=ie("path"),this.h()},l(l){e=se(l,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,stroke:!0});var r=k(e);t=se(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),k(t).forEach(u),r.forEach(u),this.h()},h(){b(t,"stroke-linecap","round"),b(t,"stroke-linejoin","round"),b(t,"stroke-width",2),b(t,"d","M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"),b(e,"class","w-8 h-8"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"fill","none"),b(e,"viewBox","0 0 24 24"),b(e,"stroke","currentColor")},m(l,r){T(l,e,r),_(e,t)},d(l){l&&u(e)}}}function nr(s){let e,t;return{c(){e=ie("svg"),t=ie("path"),this.h()},l(l){e=se(l,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,stroke:!0});var r=k(e);t=se(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),k(t).forEach(u),r.forEach(u),this.h()},h(){b(t,"stroke-linecap","round"),b(t,"stroke-linejoin","round"),b(t,"stroke-width",2),b(t,"d","M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"),b(e,"class","w-8 h-8"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"fill","none"),b(e,"viewBox","0 0 24 24"),b(e,"stroke","currentColor")},m(l,r){T(l,e,r),_(e,t)},d(l){l&&u(e)}}}function ir(s){let e,t,l,r;function o(i,c){return i[0]?nr:rr}let n=o(s),a=n(s);return{c(){e=y("div"),t=y("button"),a.c(),this.h()},l(i){e=E(i,"DIV",{class:!0});var c=k(e);t=E(c,"BUTTON",{});var f=k(t);a.l(f),f.forEach(u),c.forEach(u),this.h()},h(){b(e,"class","dark:text-white")},m(i,c){T(i,e,c),_(e,t),a.m(t,null),l||(r=re(t,"click",s[1]),l=!0)},p(i,[c]){n!==(n=o(i))&&(a.d(1),a=n(i),a&&(a.c(),a.m(t,null)))},i:q,o:q,d(i){i&&u(e),a.d(),l=!1,r()}}}function sr(s,e,t){let l;return he(s,Ut,o=>t(0,l=o)),[l,()=>Ll(Ut,l=!l,l)]}class or extends ce{constructor(e){super();fe(this,e,sr,ir,ue,{})}}function ar(s){let e,t,l;return{c(){e=y("canvas"),this.h()},l(r){e=E(r,"CANVAS",{class:!0,id:!0}),k(e).forEach(u),this.h()},h(){b(e,"class",t=""+(Lt(s[0])+" svelte-1ac911f")),b(e,"id",l=s[1].toLowerCase())},m(r,o){T(r,e,o),s[4](e)},p(r,[o]){o&1&&t!==(t=""+(Lt(r[0])+" svelte-1ac911f"))&&b(e,"class",t),o&2&&l!==(l=r[1].toLowerCase())&&b(e,"id",l)},i:q,o:q,d(r){r&&u(e),s[4](null)}}}function cr(s,e,t,l,r,o){const n=Math.sqrt(e.length),a=n*l;s.width=a,s.height=a;const i=s.getContext("2d");if(i){i.fillStyle=r,i.fillRect(0,0,s.width,s.height),i.fillStyle=t;for(let c=0;c<e.length;c++)if(i.fillStyle=e[c]===1?t:o,e[c]){const f=Math.floor(c/n),d=c%n;i.fillRect(d*l,f*l,l,l)}}else console.error("could not create 2d context for Blockie canvas")}function fr(s,e,t){let{class:l=""}=e,{address:r}=e,{scale:o=4}=e,n,a;const i=new Array(4);function c(h){for(let $=0;$<i.length;$++)i[$]=0;for(let $=0;$<h.length;$++)i[$%4]=(i[$%4]<<5)-i[$%4]+h.charCodeAt($)}function f(){const h=i[0]^i[0]<<11;return i[0]=i[1],i[1]=i[2],i[2]=i[3],i[3]=i[3]^i[3]>>19^h^h>>8,(i[3]>>>0)/(1<<31>>>0)}function d(){const h=Math.floor(f()*360),$=f()*60+40+"%",M=(f()+f()+f()+f())*25+"%";return"hsl("+h+","+$+","+M+")"}function v(h){const $=h,M=h,w=Math.ceil($/2),S=$-w,P=[];for(let U=0;U<M;U++){let N=[];for(let I=0;I<w;I++)N[I]=Math.floor(f()*2.3);const A=N.slice(0,S);A.reverse(),N=N.concat(A);for(let I=0;I<N.length;I++)P.push(N[I])}return P}function m(){if(n&&n.address===r&&n.scale===o)return;n={address:r,scale:o},c(r&&r.toLowerCase()||"0x0000000000000000000000000000000000000000");const h=d(),$=d(),M=d(),w=v(8);cr(a,w,h,o,$,M)}Al(m);function p(h){nt[h?"unshift":"push"](()=>{a=h,t(2,a)})}return s.$$set=h=>{"class"in h&&t(0,l=h.class),"address"in h&&t(1,r=h.address),"scale"in h&&t(3,o=h.scale)},[l,r,a,o,p]}class kt extends ce{constructor(e){super();fe(this,e,fr,ar,ue,{class:0,address:1,scale:3})}}const{window:ur}=jl,dr=s=>({}),jt=s=>({});function Rt(s){let e,t,l,r,o,n,a,i;return{c(){e=y("div"),t=ie("svg"),l=ie("path"),r=H(),o=y("span"),n=D("(Esc)"),this.h()},l(c){e=E(c,"DIV",{class:!0});var f=k(e);t=se(f,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var d=k(t);l=se(d,"path",{d:!0}),k(l).forEach(u),d.forEach(u),r=z(f),o=E(f,"SPAN",{class:!0});var v=k(o);n=V(v,"(Esc)"),v.forEach(u),f.forEach(u),this.h()},h(){b(l,"d","M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"),b(t,"class","fill-current text-white"),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"width","18"),b(t,"height","18"),b(t,"viewBox","0 0 18 18"),b(o,"class","text-sm"),b(e,"class","modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-sm")},m(c,f){T(c,e,f),_(e,t),_(t,l),_(e,r),_(e,o),_(o,n),a||(i=re(e,"click",s[4]),a=!0)},p:q,d(c){c&&u(e),a=!1,i()}}}function qt(s){let e,t;return{c(){e=y("p"),t=D(s[2]),this.h()},l(l){e=E(l,"P",{class:!0});var r=k(e);t=V(r,s[2]),r.forEach(u),this.h()},h(){b(e,"class","text-2xl font-bold")},m(l,r){T(l,e,r),_(e,t)},p(l,r){r&4&&Y(t,l[2])},d(l){l&&u(e)}}}function Ht(s){let e,t,l,r,o;return{c(){e=y("div"),t=ie("svg"),l=ie("path"),this.h()},l(n){e=E(n,"DIV",{class:!0});var a=k(e);t=se(a,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var i=k(t);l=se(i,"path",{d:!0}),k(l).forEach(u),i.forEach(u),a.forEach(u),this.h()},h(){b(l,"d","M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"),b(t,"class","fill-current text-black"),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"width","18"),b(t,"height","18"),b(t,"viewBox","0 0 18 18"),b(e,"class","modal-close cursor-pointer z-50")},m(n,a){T(n,e,a),_(e,t),_(t,l),r||(o=re(e,"click",s[4]),r=!0)},p:q,d(n){n&&u(e),r=!1,o()}}}function _r(s){let e,t,l,r,o,n,a,i,c,f,d,v,m,p,h=s[0]&&Rt(s),$=s[2]&&qt(s),M=s[1]&&Ht(s);const w=s[8].default,S=dt(w,s,s[7],null),P=s[8].footer,U=dt(P,s,s[7],jt);return{c(){e=y("div"),t=y("div"),l=H(),r=y("div"),h&&h.c(),o=H(),n=y("div"),a=y("div"),$&&$.c(),i=H(),M&&M.c(),c=H(),S&&S.c(),f=H(),d=y("div"),U&&U.c(),this.h()},l(N){e=E(N,"DIV",{class:!0});var A=k(e);t=E(A,"DIV",{class:!0}),k(t).forEach(u),l=z(A),r=E(A,"DIV",{class:!0});var I=k(r);h&&h.l(I),o=z(I),n=E(I,"DIV",{class:!0});var C=k(n);a=E(C,"DIV",{class:!0});var L=k(a);$&&$.l(L),i=z(L),M&&M.l(L),L.forEach(u),c=z(C),S&&S.l(C),f=z(C),d=E(C,"DIV",{class:!0});var g=k(d);U&&U.l(g),g.forEach(u),C.forEach(u),I.forEach(u),A.forEach(u),this.h()},h(){b(t,"class","absolute w-full h-full bg-gray-900 opacity-80"),b(a,"class","flex justify-between items-center"),b(d,"class","flex justify-end pt-2"),b(n,"class","modal-content py-4 text-left px-6"),b(r,"class","absolute border-2 w-11/12 md:max-w-md mx-auto overflow-y-auto max-h-screen dark:bg-black dark:border-2 dark:border-gray-800 bg-white"),b(e,"class","z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center text-black dark:text-white")},m(N,A){T(N,e,A),_(e,t),_(e,l),_(e,r),h&&h.m(r,null),_(r,o),_(r,n),_(n,a),$&&$.m(a,null),_(a,i),M&&M.m(a,null),_(n,c),S&&S.m(n,null),_(n,f),_(n,d),U&&U.m(d,null),s[9](n),v=!0,m||(p=[re(ur,"keydown",s[5]),re(t,"click",s[4])],m=!0)},p(N,[A]){N[0]?h?h.p(N,A):(h=Rt(N),h.c(),h.m(r,o)):h&&(h.d(1),h=null),N[2]?$?$.p(N,A):($=qt(N),$.c(),$.m(a,i)):$&&($.d(1),$=null),N[1]?M?M.p(N,A):(M=Ht(N),M.c(),M.m(a,null)):M&&(M.d(1),M=null),S&&S.p&&(!v||A&128)&&_t(S,w,N,N[7],v?vt(w,N[7],A,null):ht(N[7]),null),U&&U.p&&(!v||A&128)&&_t(U,P,N,N[7],v?vt(P,N[7],A,dr):ht(N[7]),jt)},i(N){v||(O(S,N),O(U,N),v=!0)},o(N){R(S,N),R(U,N),v=!1},d(N){N&&u(e),h&&h.d(),$&&$.d(),M&&M.d(),S&&S.d(N),U&&U.d(N),s[9](null),m=!1,mt(p)}}}function hr(s,e,t){let{$$slots:l={},$$scope:r}=e,{globalCloseButton:o=!1}=e,{closeButton:n=!1}=e,{title:a=""}=e,{cancelable:i=!0}=e;const c=Ol(),f=()=>i&&c("close");let d;function v(h){h=h||window.event;var $=!1;if("key"in h?$=h.key==="Escape"||h.key==="Esc":$=h.keyCode===27,$){f();return}if(h.key==="Tab"){const M=d.querySelectorAll("*"),w=Array.from(M).filter(P=>P.tabIndex>=0);let S=-1;document.activeElement&&(S=w.indexOf(document.activeElement)),S===-1&&h.shiftKey&&(S=0),S+=w.length+(h.shiftKey?-1:1),S%=w.length,w[S].focus&&w[S].focus(),h.preventDefault()}}const m=typeof document!="undefined"&&document.activeElement;m&&Ul(()=>{const h=m;h.focus&&h.focus()});function p(h){nt[h?"unshift":"push"](()=>{d=h,t(3,d)})}return s.$$set=h=>{"globalCloseButton"in h&&t(0,o=h.globalCloseButton),"closeButton"in h&&t(1,n=h.closeButton),"title"in h&&t(2,a=h.title),"cancelable"in h&&t(6,i=h.cancelable),"$$scope"in h&&t(7,r=h.$$scope)},[o,n,a,d,f,v,i,r,l,p]}class Ee extends ce{constructor(e){super();fe(this,e,hr,_r,ue,{globalCloseButton:0,closeButton:1,title:2,cancelable:6})}}function zt(s,e,t){const l=s.slice();return l[21]=e[t],l}function vr(s){let e,t,l,r,o,n,a;return{c(){e=y("div"),t=y("p"),l=D("chain reset detected! Metamask need to have its account reset! "),r=y("button"),o=D("OK"),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var c=k(e);t=E(c,"P",{class:!0});var f=k(t);l=V(f,"chain reset detected! Metamask need to have its account reset! "),r=E(f,"BUTTON",{class:!0});var d=k(r);o=V(d,"OK"),d.forEach(u),f.forEach(u),c.forEach(u),this.h()},h(){b(r,"class","border-2 border-white p-2"),b(t,"class","w-64 text-center rounded-bl-xl rounded-br-xl text-gray-200 bg-red-500 p-1"),b(e,"class","w-full flex items-center justify-center fixed top-0"),At(e,"z-index","5")},m(i,c){T(i,e,c),_(e,t),_(t,l),_(t,r),_(r,o),n||(a=re(r,"click",s[8]),n=!0)},p:q,d(i){i&&u(e),n=!1,a()}}}function mr(s){let e,t,l,r,o,n,a,i,c;return{c(){e=y("div"),t=y("p"),l=D(`Wrong network, switch to
      `),r=D(Ge),o=H(),n=y("button"),a=D("OK"),this.h()},l(f){e=E(f,"DIV",{class:!0,style:!0});var d=k(e);t=E(d,"P",{class:!0});var v=k(t);l=V(v,`Wrong network, switch to
      `),r=V(v,Ge),o=z(v),n=E(v,"BUTTON",{class:!0});var m=k(n);a=V(m,"OK"),m.forEach(u),v.forEach(u),d.forEach(u),this.h()},h(){b(n,"class","border-2 border-white p-2"),b(t,"class","w-64 text-center rounded-bl-xl rounded-br-xl text-gray-200 bg-pink-600 p-1"),b(e,"class","w-full flex items-center justify-center fixed top-0"),At(e,"z-index","5")},m(f,d){T(f,e,d),_(e,t),_(t,l),_(t,r),_(t,o),_(t,n),_(n,a),i||(c=re(n,"click",s[9]),i=!0)},p:q,d(f){f&&u(e),i=!1,c()}}}function pr(s){return{c:q,l:q,m:q,p:q,d:q}}function br(s){return{c:q,l:q,m:q,p:q,d:q}}function gr(s){let e,t;return e=new Ee({props:{title:s[0],cancelable:!s[1].connecting,closeButton:!1,$$slots:{default:[Xr]},$$scope:{ctx:s}}}),e.$on("close",s[19]),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.title=l[0]),r&2&&(o.cancelable=!l[1].connecting),r&1048698&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function kr(s){let e,t;return e=new Ee({props:{title:"An Error Happened",$$slots:{default:[Jr]},$$scope:{ctx:s}}}),e.$on("close",s[13]),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&1048640&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function $r(s){let e,t;return e=new Ee({props:{title:"An Error Happened",$$slots:{default:[xr]},$$scope:{ctx:s}}}),e.$on("close",s[12]),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&1048578&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function wr(s){let e,t,l,r=s[1].state+"",o,n,a,i;return a=new Oe({props:{class:"mt-4",label:"Cancel",$$slots:{default:[Pr]},$$scope:{ctx:s}}}),a.$on("click",s[18]),{c(){e=y("div"),t=y("p"),l=D("Flow aborted "),o=D(r),n=H(),F(a.$$.fragment),this.h()},l(c){e=E(c,"DIV",{class:!0});var f=k(e);t=E(f,"P",{});var d=k(t);l=V(d,"Flow aborted "),o=V(d,r),d.forEach(u),n=z(f),Q(a.$$.fragment,f),f.forEach(u),this.h()},h(){b(e,"class","text-center")},m(c,f){T(c,e,f),_(e,t),_(t,l),_(t,o),_(e,n),G(a,e,null),i=!0},p(c,f){(!i||f&2)&&r!==(r=c[1].state+"")&&Y(o,r);const d={};f&1048576&&(d.$$scope={dirty:f,ctx:c}),a.$set(d)},i(c){i||(O(a.$$.fragment,c),i=!0)},o(c){R(a.$$.fragment,c),i=!1},d(c){c&&u(e),K(a)}}}function Ir(s){let e;return{c(){e=D("Please wait...")},l(t){e=V(t,"Please wait...")},m(t,l){T(t,e,l)},p:q,i:q,o:q,d(t){t&&u(e)}}}function yr(s){let e;function t(o,n){return o[1].pendingUserConfirmation[0]==="transaction"?Cr:o[1].pendingUserConfirmation[0]==="signature"?Br:Sr}let l=t(s),r=l(s);return{c(){r.c(),e=ee()},l(o){r.l(o),e=ee()},m(o,n){r.m(o,n),T(o,e,n)},p(o,n){l!==(l=t(o))&&(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},i:q,o:q,d(o){r.d(o),o&&u(e)}}}function Er(s){let e,t,l,r,o;function n(c,f){return c[5].code===4001?Ar:c[5].message?Lr:Nr}let a=n(s),i=a(s);return r=new Oe({props:{class:"mt-4",label:"Retry",$$slots:{default:[Or]},$$scope:{ctx:s}}}),r.$on("click",s[17]),{c(){e=y("div"),t=y("p"),i.c(),l=H(),F(r.$$.fragment),this.h()},l(c){e=E(c,"DIV",{class:!0});var f=k(e);t=E(f,"P",{});var d=k(t);i.l(d),d.forEach(u),l=z(f),Q(r.$$.fragment,f),f.forEach(u),this.h()},h(){b(e,"class","text-center")},m(c,f){T(c,e,f),_(e,t),i.m(t,null),_(e,l),G(r,e,null),o=!0},p(c,f){a===(a=n(c))&&i?i.p(c,f):(i.d(1),i=a(c),i&&(i.c(),i.m(t,null)));const d={};f&1048576&&(d.$$scope={dirty:f,ctx:c}),r.$set(d)},i(c){o||(O(r.$$.fragment,c),o=!0)},o(c){R(r.$$.fragment,c),o=!1},d(c){c&&u(e),i.d(),K(r)}}}function Dr(s){let e,t,l,r;const o=[jr,Ur],n=[];function a(i,c){return i[6].loadingData?0:i[6].notSupported?1:-1}return~(e=a(s))&&(t=n[e]=o[e](s)),{c(){t&&t.c(),l=ee()},l(i){t&&t.l(i),l=ee()},m(i,c){~e&&n[e].m(i,c),T(i,l,c),r=!0},p(i,c){let f=e;e=a(i),e===f?~e&&n[e].p(i,c):(t&&(X(),R(n[f],1,1,()=>{n[f]=null}),J()),~e?(t=n[e],t?t.p(i,c):(t=n[e]=o[e](i),t.c()),O(t,1),t.m(l.parentNode,l)):t=null)},i(i){r||(O(t),r=!0)},o(i){R(t),r=!1},d(i){~e&&n[e].d(i),i&&u(l)}}}function Vr(s){let e,t,l,r;const o=[Hr,qr],n=[];function a(i,c){return i[6].connecting?0:i[6].error?1:-1}return~(e=a(s))&&(t=n[e]=o[e](s)),{c(){t&&t.c(),l=ee()},l(i){t&&t.l(i),l=ee()},m(i,c){~e&&n[e].m(i,c),T(i,l,c),r=!0},p(i,c){let f=e;e=a(i),e===f?~e&&n[e].p(i,c):(t&&(X(),R(n[f],1,1,()=>{n[f]=null}),J()),~e?(t=n[e],t?t.p(i,c):(t=n[e]=o[e](i),t.c()),O(t,1),t.m(l.parentNode,l)):t=null)},i(i){r||(O(t),r=!0)},o(i){R(t),r=!1},d(i){~e&&n[e].d(i),i&&u(l)}}}function Tr(s){let e,t,l,r;const o=[Yr,Wr],n=[];function a(i,c){return i[1].unlocking?0:1}return e=a(s),t=n[e]=o[e](s),{c(){t.c(),l=ee()},l(i){t.l(i),l=ee()},m(i,c){n[e].m(i,c),T(i,l,c),r=!0},p(i,c){let f=e;e=a(i),e===f?n[e].p(i,c):(X(),R(n[f],1,1,()=>{n[f]=null}),J(),t=n[e],t?t.p(i,c):(t=n[e]=o[e](i),t.c()),O(t,1),t.m(l.parentNode,l))},i(i){r||(O(t),r=!0)},o(i){R(t),r=!1},d(i){n[e].d(i),i&&u(l)}}}function Mr(s){let e,t,l,r;const o=[Kr,Gr,Qr],n=[];function a(i,c){return i[1].loadingModule?0:i[1].connecting?1:2}return e=a(s),t=n[e]=o[e](s),{c(){t.c(),l=ee()},l(i){t.l(i),l=ee()},m(i,c){n[e].m(i,c),T(i,l,c),r=!0},p(i,c){let f=e;e=a(i),e===f?n[e].p(i,c):(X(),R(n[f],1,1,()=>{n[f]=null}),J(),t=n[e],t?t.p(i,c):(t=n[e]=o[e](i),t.c()),O(t,1),t.m(l.parentNode,l))},i(i){r||(O(t),r=!0)},o(i){R(t),r=!1},d(i){n[e].d(i),i&&u(l)}}}function Pr(s){let e;return{c(){e=D("OK")},l(t){e=V(t,"OK")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function Sr(s){let e;return{c(){e=D("Please accept request...")},l(t){e=V(t,"Please accept request...")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function Br(s){let e;return{c(){e=D("Please accept signature...")},l(t){e=V(t,"Please accept signature...")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function Cr(s){let e;return{c(){e=D("Please accept transaction...")},l(t){e=V(t,"Please accept transaction...")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function Nr(s){let e,t;return{c(){e=D("Error: "),t=D(s[5])},l(l){e=V(l,"Error: "),t=V(l,s[5])},m(l,r){T(l,e,r),T(l,t,r)},p(l,r){r&32&&Y(t,l[5])},d(l){l&&u(e),l&&u(t)}}}function Lr(s){let e=s[5].message+"",t;return{c(){t=D(e)},l(l){t=V(l,e)},m(l,r){T(l,t,r)},p(l,r){r&32&&e!==(e=l[5].message+"")&&Y(t,e)},d(l){l&&u(t)}}}function Ar(s){let e;return{c(){e=D("You rejected the request")},l(t){e=V(t,"You rejected the request")},m(t,l){T(t,e,l)},p:q,d(t){t&&u(e)}}}function Or(s){let e;return{c(){e=D("Retry")},l(t){e=V(t,"Retry")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function Ur(s){let e,t,l,r,o;return r=new Oe({props:{label:"Unlock Wallet",$$slots:{default:[Rr]},$$scope:{ctx:s}}}),r.$on("click",s[9]),{c(){e=D(`Please switch to
        `),t=D(Ge),l=H(),F(r.$$.fragment)},l(n){e=V(n,`Please switch to
        `),t=V(n,Ge),l=z(n),Q(r.$$.fragment,n)},m(n,a){T(n,e,a),T(n,t,a),T(n,l,a),G(r,n,a),o=!0},p(n,a){const i={};a&1048576&&(i.$$scope={dirty:a,ctx:n}),r.$set(i)},i(n){o||(O(r.$$.fragment,n),o=!0)},o(n){R(r.$$.fragment,n),o=!1},d(n){n&&u(e),n&&u(t),n&&u(l),K(r,n)}}}function jr(s){let e;return{c(){e=D("Loading contracts...")},l(t){e=V(t,"Loading contracts...")},m(t,l){T(t,e,l)},p:q,i:q,o:q,d(t){t&&u(e)}}}function Rr(s){let e;return{c(){e=D("Switch")},l(t){e=V(t,"Switch")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function qr(s){var i;let e,t,l=(((i=s[6].error)==null?void 0:i.message)||""+s[6].error)+"",r,o,n,a;return n=new Oe({props:{class:"mt-4",label:"OK",$$slots:{default:[zr]},$$scope:{ctx:s}}}),n.$on("click",s[16]),{c(){e=y("div"),t=y("p"),r=D(l),o=H(),F(n.$$.fragment),this.h()},l(c){e=E(c,"DIV",{class:!0});var f=k(e);t=E(f,"P",{});var d=k(t);r=V(d,l),d.forEach(u),o=z(f),Q(n.$$.fragment,f),f.forEach(u),this.h()},h(){b(e,"class","text-center")},m(c,f){T(c,e,f),_(e,t),_(t,r),_(e,o),G(n,e,null),a=!0},p(c,f){var v;(!a||f&64)&&l!==(l=(((v=c[6].error)==null?void 0:v.message)||""+c[6].error)+"")&&Y(r,l);const d={};f&1048576&&(d.$$scope={dirty:f,ctx:c}),n.$set(d)},i(c){a||(O(n.$$.fragment,c),a=!0)},o(c){R(n.$$.fragment,c),a=!1},d(c){c&&u(e),K(n)}}}function Hr(s){let e;return{c(){e=D("Connecting...")},l(t){e=V(t,"Connecting...")},m(t,l){T(t,e,l)},p:q,i:q,o:q,d(t){t&&u(e)}}}function zr(s){let e;return{c(){e=D("OK")},l(t){e=V(t,"OK")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function Wr(s){let e,t;return e=new Oe({props:{label:"Unlock Wallet",$$slots:{default:[Fr]},$$scope:{ctx:s}}}),e.$on("click",s[15]),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&1048576&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Yr(s){let e;return{c(){e=D("Please accept the application to access your wallet.")},l(t){e=V(t,"Please accept the application to access your wallet.")},m(t,l){T(t,e,l)},p:q,i:q,o:q,d(t){t&&u(e)}}}function Fr(s){let e;return{c(){e=D("Unlock")},l(t){e=V(t,"Unlock")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function Qr(s){let e,t,l,r,o,n,a,i,c=s[3],f=[];for(let v=0;v<c.length;v+=1)f[v]=Wt(zt(s,c,v));let d=s[4]&&Yt(s);return{c(){e=y("div"),t=y("p"),l=D("You need to connect your wallet."),r=H(),o=y("div");for(let v=0;v<f.length;v+=1)f[v].c();n=H(),d&&d.c(),a=ee(),this.h()},l(v){e=E(v,"DIV",{class:!0});var m=k(e);t=E(m,"P",{});var p=k(t);l=V(p,"You need to connect your wallet."),p.forEach(u),m.forEach(u),r=z(v),o=E(v,"DIV",{class:!0});var h=k(o);for(let $=0;$<f.length;$+=1)f[$].l(h);h.forEach(u),n=z(v),d&&d.l(v),a=ee(),this.h()},h(){b(e,"class","text-center"),b(o,"class","flex flex-wrap justify-center pb-3")},m(v,m){T(v,e,m),_(e,t),_(t,l),T(v,r,m),T(v,o,m);for(let p=0;p<f.length;p+=1)f[p].m(o,null);T(v,n,m),d&&d.m(v,m),T(v,a,m),i=!0},p(v,m){if(m&8){c=v[3];let p;for(p=0;p<c.length;p+=1){const h=zt(v,c,p);f[p]?f[p].p(h,m):(f[p]=Wt(h),f[p].c(),f[p].m(o,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=c.length}v[4]?d?(d.p(v,m),m&16&&O(d,1)):(d=Yt(v),d.c(),O(d,1),d.m(a.parentNode,a)):d&&(X(),R(d,1,1,()=>{d=null}),J())},i(v){i||(O(d),i=!0)},o(v){R(d),i=!1},d(v){v&&u(e),v&&u(r),v&&u(o),_e(f,v),v&&u(n),d&&d.d(v),v&&u(a)}}}function Gr(s){let e;return{c(){e=D("Connecting to wallet...")},l(t){e=V(t,"Connecting to wallet...")},m(t,l){T(t,e,l)},p:q,i:q,o:q,d(t){t&&u(e)}}}function Kr(s){let e,t=s[1].selected+"",l;return{c(){e=D(`Loading module:
        `),l=D(t)},l(r){e=V(r,`Loading module:
        `),l=V(r,t)},m(r,o){T(r,e,o),T(r,l,o)},p(r,o){o&2&&t!==(t=r[1].selected+"")&&Y(l,t)},i:q,o:q,d(r){r&&u(e),r&&u(l)}}}function Wt(s){let e,t,l,r,o;function n(){return s[14](s[21])}return{c(){e=y("img"),this.h()},l(a){e=E(a,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){b(e,"class","cursor-pointer p-2 m-2 border-2 h-12 w-12 object-contain"),b(e,"alt",t=`Login with ${s[21].name}`),pt(e.src,l=`${gt}/${s[21].img}`)||b(e,"src",l)},m(a,i){T(a,e,i),r||(o=re(e,"click",n),r=!0)},p(a,i){s=a,i&8&&t!==(t=`Login with ${s[21].name}`)&&b(e,"alt",t),i&8&&!pt(e.src,l=`${gt}/${s[21].img}`)&&b(e,"src",l)},d(a){a&&u(e),r=!1,o()}}}function Yt(s){let e,t,l,r,o,n;return o=new Oe({props:{label:"Download Metamask",blank:!0,href:"https://metamask.io/download.html",class:"m-4 w-max-content",$$slots:{default:[Zr]},$$scope:{ctx:s}}}),{c(){e=y("div"),t=D("OR"),l=H(),r=y("div"),F(o.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0});var i=k(e);t=V(i,"OR"),i.forEach(u),l=z(a),r=E(a,"DIV",{class:!0});var c=k(r);Q(o.$$.fragment,c),c.forEach(u),this.h()},h(){b(e,"class","text-center"),b(r,"class","flex justify-center")},m(a,i){T(a,e,i),_(e,t),T(a,l,i),T(a,r,i),G(o,r,null),n=!0},p(a,i){const c={};i&1048576&&(c.$$scope={dirty:i,ctx:a}),o.$set(c)},i(a){n||(O(o.$$.fragment,a),n=!0)},o(a){R(o.$$.fragment,a),n=!1},d(a){a&&u(e),a&&u(l),a&&u(r),K(o)}}}function Zr(s){let e,t,l;return{c(){e=y("img"),l=D(`
              Download metamask`),this.h()},l(r){e=E(r,"IMG",{class:!0,alt:!0,src:!0}),l=V(r,`
              Download metamask`),this.h()},h(){b(e,"class","cursor-pointer p-0 mx-2 h-10 w-10 object-contain"),b(e,"alt","Download Metamask}"),pt(e.src,t=`${gt}/images/metamask.svg`)||b(e,"src",t)},m(r,o){T(r,e,o),T(r,l,o)},p:q,d(r){r&&u(e),r&&u(l)}}}function Xr(s){let e,t,l,r;const o=[Mr,Tr,Vr,Dr,Er,yr,Ir,wr],n=[];function a(i,c){return i[1].state==="Idle"?0:i[1].state==="Locked"?1:i[6].state==="Idle"?2:i[6].state==="Connected"?3:i[5]?4:i[1].pendingUserConfirmation?5:i[1].state==="Ready"?6:7}return e=a(s),t=n[e]=o[e](s),{c(){t.c(),l=ee()},l(i){t.l(i),l=ee()},m(i,c){n[e].m(i,c),T(i,l,c),r=!0},p(i,c){let f=e;e=a(i),e===f?n[e].p(i,c):(X(),R(n[f],1,1,()=>{n[f]=null}),J(),t=n[e],t?t.p(i,c):(t=n[e]=o[e](i),t.c()),O(t,1),t.m(l.parentNode,l))},i(i){r||(O(t),r=!0)},o(i){R(t),r=!1},d(i){n[e].d(i),i&&u(l)}}}function Jr(s){let e,t=s[6].error.message+"",l;return{c(){e=y("p"),l=D(t),this.h()},l(r){e=E(r,"P",{class:!0});var o=k(e);l=V(o,t),o.forEach(u),this.h()},h(){b(e,"class","w-64 text-center text-red-500 p-1")},m(r,o){T(r,e,o),_(e,l)},p(r,o){o&64&&t!==(t=r[6].error.message+"")&&Y(l,t)},d(r){r&&u(e)}}}function xr(s){let e,t=s[1].error.message+"",l;return{c(){e=y("p"),l=D(t),this.h()},l(r){e=E(r,"P",{class:!0});var o=k(e);l=V(o,t),o.forEach(u),this.h()},h(){b(e,"class","w-64 text-center text-red-500 p-1")},m(r,o){T(r,e,o),_(e,l)},p(r,o){o&2&&t!==(t=r[1].error.message+"")&&Y(l,t)},d(r){r&&u(e)}}}function en(s){let e,t,l,r,o,n;const a=s[11].default,i=dt(a,s,s[20],null);function c(h,$){if(h[6].state==="Idle"&&!h[6].connecting&&h[7].state==="Idle"&&!h[7].connecting)return br;if(h[6].state==="Idle"&&!h[6].connecting&&h[7].error)return pr;if(h[6].notSupported)return mr;if(h[6].genesisChanged)return vr}let f=c(s),d=f&&f(s);const v=[$r,kr,gr],m=[];function p(h,$){return h[1].error?0:h[6].error?1:h[2].inProgress?2:-1}return~(l=p(s))&&(r=m[l]=v[l](s)),{c(){i&&i.c(),e=H(),d&&d.c(),t=H(),r&&r.c(),o=ee()},l(h){i&&i.l(h),e=z(h),d&&d.l(h),t=z(h),r&&r.l(h),o=ee()},m(h,$){i&&i.m(h,$),T(h,e,$),d&&d.m(h,$),T(h,t,$),~l&&m[l].m(h,$),T(h,o,$),n=!0},p(h,[$]){i&&i.p&&(!n||$&1048576)&&_t(i,a,h,h[20],n?vt(a,h[20],$,null):ht(h[20]),null),f===(f=c(h))&&d?d.p(h,$):(d&&d.d(1),d=f&&f(h),d&&(d.c(),d.m(t.parentNode,t)));let M=l;l=p(h),l===M?~l&&m[l].p(h,$):(r&&(X(),R(m[M],1,1,()=>{m[M]=null}),J()),~l?(r=m[l],r?r.p(h,$):(r=m[l]=v[l](h),r.c()),O(r,1),r.m(o.parentNode,o)):r=null)},i(h){n||(O(i,h),O(r),n=!0)},o(h){R(i,h),R(r),n=!1},d(h){i&&i.d(h),h&&u(e),d&&d.d(h),h&&u(t),~l&&m[l].d(h),h&&u(o)}}}function tn(s,e,t){let l,r,o,n,a,i,c;he(s,Jl,I=>t(10,o=I)),he(s,Ae,I=>t(1,n=I)),he(s,de,I=>t(2,a=I)),he(s,Qe,I=>t(6,i=I)),he(s,xl,I=>t(7,c=I));let{$$slots:f={},$$scope:d}=e,{title:v=""}=e,m=[];function p(){Qe.acknowledgeNewGenesisHash()}async function h(){let I;const C=[];await Qe.switchChain(er,{chainName:Ge,rpcUrls:C,blockExplorerUrls:I})}const $=()=>Ae.acknowledgeError(),M=()=>Qe.acknowledgeError(),w=I=>Ae.connect(I.id),S=()=>Ae.unlock(),P=()=>de.cancel(),U=()=>de.retry(),N=()=>de.cancel(),A=()=>de.cancel();return s.$$set=I=>{"title"in I&&t(0,v=I.title),"$$scope"in I&&t(20,d=I.$$scope)},s.$$.update=()=>{s.$$.dirty&4&&t(5,l=a.executionError),s.$$.dirty&1026&&t(4,r=n.options.filter(I=>I==="builtin"&&!o.available).length>0),s.$$.dirty&1026&&t(3,m=n.options.filter(I=>I!=="builtin"||o.available).map(I=>({img:(C=>{if(C==="builtin"){if(o.state==="Ready"){if(o.vendor==="Metamask")return"images/metamask.svg";if(o.vendor==="Opera")return"images/opera.svg"}return"images/web3-default.png"}else return C.startsWith("torus-")?`images/torus/${C.slice(6)}.svg`:`images/${C}.svg`})(I),id:I,name:I})))},[v,n,a,m,r,l,i,c,p,h,o,f,$,M,w,S,P,U,N,A,d]}class ln extends ce{constructor(e){super();fe(this,e,tn,en,ue,{title:0})}}const rn={fetching:!1,stale:!1,error:void 0,data:void 0,extensions:void 0},nn=Rl.concat();class sn{constructor(e){e?this.client=new ql({url:e,exchanges:nn}):console.error("need an url for graphql queries")}mutate(e,t){return this.client.mutation(e,t==null?void 0:t.variables,t==null?void 0:t.context).toPromise()}query(e,t){return this.client.query(e,t==null?void 0:t.variables,t==null?void 0:t.context).toPromise()}async queryList(e,t){const l=t.path.split("."),r=100;let o="0x0",n=r,a=[];for(;n===r;){const i=await this.client.query(e,Le({first:r,lastId:o},t==null?void 0:t.variables),t==null?void 0:t.context).toPromise();if(i.error)throw new Error(i.error.message);const c=i.data;let f=[];if(c&&t.path){let d=c;for(const v of l)d=d[v];f=d}if(n=f.length,n>0){const d=(t==null?void 0:t.getLastId)!==void 0?t==null?void 0:t.getLastId(a):f[n-1].id;if(o===d){console.log("same query, stop");break}o=d}a=a.concat(f)}return a}subscribeToQuery(e,t){const l=bt(Hl([Ot({fetching:!0,stale:!1}),bt(this.client.query(e,t==null?void 0:t.variables,t==null?void 0:t.context),zl(({stale:r,data:o,error:n,extensions:a})=>({fetching:!1,stale:!!r,data:o,error:n,extensions:a}))),Ot({fetching:!1,stale:!1})]),Wl((r,o)=>Le(Le({},r),o),rn));return{subscribe(r){return bt(l,Yl(r)).unsubscribe}}}}const Xe=new sn(tr);function Ft(s,e){for(const t of Object.keys(e))s[t]&&typeof s[t]=="object"&&typeof e[t]=="object"?Ft(s[t],e[t]):s[t]=e[t]}class on{constructor(e){this.$store=e,this.store=Fl(this.$store)}subscribe(e,t){return this.store.subscribe(e,t)}setPartial(e){this.$store||(this.$store={});for(const t of Object.keys(e))this.$store[t]=e[t];return this.store.set(this.$store),this.$store}set(e){if(this.$store||(this.$store={}),e||(this.$store=e),e!==this.$store){for(const t of Object.keys(this.$store))e[t]===void 0&&(this.$store[t]=void 0);for(const t of Object.keys(e))this.$store[t]=e[t]}return this.store.set(this.$store),this.$store}}class an extends on{constructor(e){super(e)}setData(e,t){return this.$store.data=this.$store.data||{},Ft(this.$store.data,e),t&&this.setPartial(t),this.store.set(this.$store),this.$store}}const Je=Ql("graphql");class cn extends an{constructor(e,t,l){super({step:"IDLE"});this.endpoint=e,this.query=t,this.options=l,this.runtimeVariables={}}acknowledgeError(){this.setPartial({error:void 0})}async fetch(e){var a,i,c,f,d,v,m;Je.info("fetching....");const t=typeof((i=(a=this.options)==null?void 0:a.variables)==null?void 0:i.first)=="number"?(f=(c=this.options)==null?void 0:c.variables)==null?void 0:f.first:1e3;let l=t,r="0x0",o,n;for(;l===t;)try{const p=Le(Le(Le({first:t,lastId:r},(d=this.options)==null?void 0:d.variables),this.runtimeVariables),e),h=this.query.split("?");let $="";for(let S=0;S<h.length;S++){const P=h[S];P.startsWith("$")?p[P.substr(1)]||S++:$+=P}const M=await this.endpoint.query($,{variables:p,context:{requestPolicy:"cache-and-network"}});if(!M.data)throw this.setPartial({error:"cannot fetch from thegraph node"}),new Error("cannot fetch from thegraph node");const w=((v=this.options)==null?void 0:v.path)?M.data[this.options.path]:M.data;if(o||(o=w),(m=this.options)==null?void 0:m.list){let S=w;if(typeof this.options.list!="boolean"&&this.options.list.path&&(S=w[this.options.list.path]),l=S.length,l>0){const P=typeof this.options.list!="boolean"&&this.options.list.getLastId!==void 0?this.options.list.getLastId(S):S[l-1].id;if(r===P){Je.log("same query, stop");break}r=P}n?n.push(...S):n=S}else l=0}catch(p){l=0,Je.error(p)}this.setPartial({data:o,step:"READY"})}}class xe extends cn{constructor(e,t,l,r){super(e,t,r);this.listenerCount=0,this.hook=l}acknowledgeError(){this.setPartial({error:void 0})}subscribe(e,t){this.listenerCount++,this.listenerCount===1&&(Je.info("start fetching"),this.stopUpdates=this.hook.subscribe(r=>this.fetch({blockNumber:r.lastBlockNumber})));const l=this.store.subscribe(e,t);return()=>{this.listenerCount--,this.listenerCount===0&&(Je.info("stop fetching"),this.stopUpdates&&(this.stopUpdates(),this.stopUpdates=void 0)),l()}}}class fn{constructor(e,t){this.transactions=t,this.queryStore=new xe(e,`
    query {
      players {
        id
        startTimestamp
        vouch
        startTile {
          x
          y
        }
        endTile {
          x
          y
          item {
            id
            tools {
              bonus
              tool {
                id
              }
            }
          }
        }
        balances {
          id
          value
          skill
          item {
            id
            name
            image
            tools {
              bonus
              tool {
                id
              }
            }
          }
        }
      }
    }`,Ze,{path:"players"}),this.store=We([this.queryStore,this.transactions],l=>this.update(l))}update([e]){if(e.data){let t=e.data;return{step:e.step,error:e.error,data:t}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,t){return this.store.subscribe(e,t)}}const un=new fn(Xe,Ke);class dn{constructor(e,t,l){this.transactions=t,this.queryStore=new xe(e,`
    query getPlayer($id: ID!){
      player(id: $id) {
        id
        startTimestamp
        vouch
        startTile {
          x
          y
          item {
            id
          }
        }
        endTile {
          x
          y
          item {
            id
          }
        }
        balances {
          id
          value
          skill
          item {
            id
            name
            image
            tools {
              bonus
              tool {
                id
              }
            }
          }
        }
      }
    }`,Ze,{path:"player",variables:{id:l.toLowerCase()}}),this.store=We([this.queryStore,this.transactions],r=>this.update(r))}update([e]){if(e.data){let t=e.data;return{step:e.step,error:e.error,data:t}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,t){return this.store.subscribe(e,t)}}const _n=s=>new dn(Xe,Ke,s),it=10,Qt=10,De=(s,e,t,l)=>{const r=t-s,o=l-e;return Math.sqrt(r*r+o*o)},oe=(s,e)=>{if(s==0&&e==0||s>10||s<-9||e>10||e<-9)return 0;const t=new Gl,l=Ye.from(Kl(t.encode(["int256","int256"],[s,e]))).mod(Ye.from(5)).toNumber();return l<2?0:l<4?1:2},we=(s,e)=>{const t=(e-parseInt(s.startTimestamp))/10,l=De(parseInt(s.startTile.x),parseInt(s.startTile.y),parseInt(s.endTile.x),parseInt(s.endTile.y));if(t<l){const r=parseInt(s.endTile.x)-parseInt(s.startTile.x),o=parseInt(s.endTile.y)-parseInt(s.startTile.y);return[parseInt(s.startTile.x)+r*t/l,parseInt(s.startTile.y)+o*t/l]}return[parseInt(s.endTile.x),parseInt(s.endTile.y)]},ae=(s,e,t)=>{const l=(e-parseInt(s.startTimestamp))/it,r=De(parseInt(s.startTile.x),parseInt(s.startTile.y),parseInt(s.endTile.x),parseInt(s.endTile.y)),o=s.balances.find(f=>f.item.id===t.toString()),n=o?parseInt(o.skill):0,a=o.item.tools.filter(f=>s.balances.some(d=>f.tool.id===d.item.id&&parseInt(d.value)>0)).map(f=>parseInt(f.bonus)),i=a.length>0?Math.max(...a):0,c=oe(parseInt(s.endTile.x),parseInt(s.endTile.y));return l>=r&&t.toString()===c.toString()?n+i*(e-(parseInt(s.startTimestamp)+r*it))/Qt:n},ge=(s,e,t)=>{const l=(e-parseInt(s.startTimestamp))/it,r=De(parseInt(s.startTile.x),parseInt(s.startTile.y),parseInt(s.endTile.x),parseInt(s.endTile.y)),o=s.balances.find(d=>d.item.id===t.toString()),n=o?parseInt(o.value):0,a=o?parseInt(o.skill):0,i=o.item.tools.filter(d=>s.balances.some(v=>d.tool.id===v.item.id&&parseInt(v.value)>0)).map(d=>parseInt(d.bonus)),c=i.length>0?Math.max(...i):0,f=oe(parseInt(s.endTile.x),parseInt(s.endTile.y));if(l>=r&&t.toString()===f.toString()){const d=c*(e-(parseInt(s.startTimestamp)+r*it))/Qt;return n+d*a+d*d/2}return n};class hn{constructor(e,t){this.transactions=t,this.queryStore=new xe(e,`
    query {
      items(where: {stake_gt: 0}) {
        id
        name
        image
        stake
      }
    }`,Ze,{path:"items"}),this.store=We([this.queryStore,this.transactions],l=>this.update(l))}update([e]){if(e.data){let t=e.data;return{step:e.step,error:e.error,data:t}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,t){return this.store.subscribe(e,t)}}const vn=new hn(Xe,Ke);class mn{constructor(e,t,l){this.transactions=t,this.queryStore=new xe(e,`
    query getItem($id: ID!) {
      item(id: $id) {
        id
        name
        description
        image
        stake
        tools {
          bonus
          tool {
            id
            name
            image
          }
        }
        isTools {
          bonus
          item {
            id
            name
            image
          }
        }
        outputRecipes {
          id
          inputs {
            quantity
            item {
              id
              name
              image
            }
          }
          output {
            id
            name
            image
          }
        }
        inputs {
          id
          recipe {
            id
            inputs {
              quantity
              item {
                id
                name
                image
              }
            }
            output {
              id
              name
              image
            }
          }
        }
      }
    }`,Ze,{path:"item",variables:{id:l}}),this.store=We([this.queryStore,this.transactions],r=>this.update(r))}update([e]){if(e.data){let t=e.data;return{step:e.step,error:e.error,data:t}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,t){return this.store.subscribe(e,t)}}const pn=s=>new mn(Xe,Ke,s);function Gt(s,e,t){const l=s.slice();return l[6]=e[t],l}function Kt(s,e,t){const l=s.slice();return l[6]=e[t],l[10]=t,l}function Zt(s,e,t){const l=s.slice();return l[11]=e[t],l}function Xt(s,e,t){const l=s.slice();return l[6]=e[t],l[10]=t,l}function Jt(s,e,t){const l=s.slice();return l[15]=e[t],l}function xt(s,e,t){const l=s.slice();return l[15]=e[t],l}function bn(s){let e,t,l=s[1].data.id+"",r,o,n,a,i,c,f=s[1].data.description+"",d,v,m,p,h=s[1].data.stake+"",$,M,w,S,P,U,N,A,I,C,L,g,B,j,x,ne,te,le,$e,Ie,Ue,ot,at,ve,me,et,ye,je,ct,ft,pe,be,Ce,ut,$t;n=new ke({props:{item:s[1].data}});const wt=[yn,In],Ve=[];function It(W,Z){return W[1].data.tools.length>0?0:1}C=It(s),L=Ve[C]=wt[C](s);const yt=[Dn,En],Te=[];function Et(W,Z){return W[1].data.isTools.length>0?0:1}te=Et(s),le=Te[te]=yt[te](s);const Dt=[Tn,Vn],Me=[];function Vt(W,Z){return W[1].data.outputRecipes.length>0?0:1}ve=Vt(s),me=Me[ve]=Dt[ve](s);const Tt=[Pn,Mn],Pe=[];function Mt(W,Z){return W[1].data.inputs.length>0?0:1}return pe=Mt(s),be=Pe[pe]=Tt[pe](s),{c(){e=y("div"),t=D("Item #"),r=D(l),o=H(),F(n.$$.fragment),a=H(),i=y("div"),c=D("Description: "),d=D(f),v=H(),m=y("div"),p=D("Stake: "),$=D(h),M=H(),w=y("button"),S=D("Transfer 1"),P=H(),U=y("div"),N=y("div"),A=D("Can be mined with:"),I=H(),L.c(),g=H(),B=y("div"),j=y("div"),x=D("Is used to mine:"),ne=H(),le.c(),$e=H(),Ie=y("div"),Ue=y("div"),ot=D("Can be crafted with:"),at=H(),me.c(),et=H(),ye=y("div"),je=y("div"),ct=D("Is used to craft:"),ft=H(),be.c(),this.h()},l(W){e=E(W,"DIV",{class:!0});var Z=k(e);t=V(Z,"Item #"),r=V(Z,l),Z.forEach(u),o=z(W),Q(n.$$.fragment,W),a=z(W),i=E(W,"DIV",{});var Re=k(i);c=V(Re,"Description: "),d=V(Re,f),Re.forEach(u),v=z(W),m=E(W,"DIV",{});var Ne=k(m);p=V(Ne,"Stake: "),$=V(Ne,h),Ne.forEach(u),M=z(W),w=E(W,"BUTTON",{class:!0});var qe=k(w);S=V(qe,"Transfer 1"),qe.forEach(u),P=z(W),U=E(W,"DIV",{class:!0});var Se=k(U);N=E(Se,"DIV",{class:!0});var He=k(N);A=V(He,"Can be mined with:"),He.forEach(u),I=z(Se),L.l(Se),Se.forEach(u),g=z(W),B=E(W,"DIV",{class:!0});var tt=k(B);j=E(tt,"DIV",{class:!0});var Pt=k(j);x=V(Pt,"Is used to mine:"),Pt.forEach(u),ne=z(tt),le.l(tt),tt.forEach(u),$e=z(W),Ie=E(W,"DIV",{class:!0});var lt=k(Ie);Ue=E(lt,"DIV",{class:!0});var St=k(Ue);ot=V(St,"Can be crafted with:"),St.forEach(u),at=z(lt),me.l(lt),lt.forEach(u),et=z(W),ye=E(W,"DIV",{class:!0});var rt=k(ye);je=E(rt,"DIV",{class:!0});var Bt=k(je);ct=V(Bt,"Is used to craft:"),Bt.forEach(u),ft=z(rt),be.l(rt),rt.forEach(u),this.h()},h(){b(e,"class","text-2xl"),b(w,"class","border-2"),b(N,"class","text-xl"),b(U,"class","flex flex-col"),b(j,"class","text-xl"),b(B,"class","flex flex-col"),b(Ue,"class","text-xl"),b(Ie,"class","flex flex-col"),b(je,"class","text-xl"),b(ye,"class","flex flex-col")},m(W,Z){T(W,e,Z),_(e,t),_(e,r),T(W,o,Z),G(n,W,Z),T(W,a,Z),T(W,i,Z),_(i,c),_(i,d),T(W,v,Z),T(W,m,Z),_(m,p),_(m,$),T(W,M,Z),T(W,w,Z),_(w,S),T(W,P,Z),T(W,U,Z),_(U,N),_(N,A),_(U,I),Ve[C].m(U,null),T(W,g,Z),T(W,B,Z),_(B,j),_(j,x),_(B,ne),Te[te].m(B,null),T(W,$e,Z),T(W,Ie,Z),_(Ie,Ue),_(Ue,ot),_(Ie,at),Me[ve].m(Ie,null),T(W,et,Z),T(W,ye,Z),_(ye,je),_(je,ct),_(ye,ft),Pe[pe].m(ye,null),Ce=!0,ut||($t=re(w,"click",s[4]),ut=!0)},p(W,Z){(!Ce||Z&2)&&l!==(l=W[1].data.id+"")&&Y(r,l);const Re={};Z&2&&(Re.item=W[1].data),n.$set(Re),(!Ce||Z&2)&&f!==(f=W[1].data.description+"")&&Y(d,f),(!Ce||Z&2)&&h!==(h=W[1].data.stake+"")&&Y($,h);let Ne=C;C=It(W),C===Ne?Ve[C].p(W,Z):(X(),R(Ve[Ne],1,1,()=>{Ve[Ne]=null}),J(),L=Ve[C],L?L.p(W,Z):(L=Ve[C]=wt[C](W),L.c()),O(L,1),L.m(U,null));let qe=te;te=Et(W),te===qe?Te[te].p(W,Z):(X(),R(Te[qe],1,1,()=>{Te[qe]=null}),J(),le=Te[te],le?le.p(W,Z):(le=Te[te]=yt[te](W),le.c()),O(le,1),le.m(B,null));let Se=ve;ve=Vt(W),ve===Se?Me[ve].p(W,Z):(X(),R(Me[Se],1,1,()=>{Me[Se]=null}),J(),me=Me[ve],me?me.p(W,Z):(me=Me[ve]=Dt[ve](W),me.c()),O(me,1),me.m(Ie,null));let He=pe;pe=Mt(W),pe===He?Pe[pe].p(W,Z):(X(),R(Pe[He],1,1,()=>{Pe[He]=null}),J(),be=Pe[pe],be?be.p(W,Z):(be=Pe[pe]=Tt[pe](W),be.c()),O(be,1),be.m(ye,null))},i(W){Ce||(O(n.$$.fragment,W),O(L),O(le),O(me),O(be),Ce=!0)},o(W){R(n.$$.fragment,W),R(L),R(le),R(me),R(be),Ce=!1},d(W){W&&u(e),W&&u(o),K(n,W),W&&u(a),W&&u(i),W&&u(v),W&&u(m),W&&u(M),W&&u(w),W&&u(P),W&&u(U),Ve[C].d(),W&&u(g),W&&u(B),Te[te].d(),W&&u($e),W&&u(Ie),Me[ve].d(),W&&u(et),W&&u(ye),Pe[pe].d(),ut=!1,$t()}}}function gn(s){let e,t;return{c(){e=y("div"),t=D("Item failed to load!")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"Item failed to load!"),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function kn(s){let e,t;return{c(){e=y("div"),t=D("Loading Item...")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"Loading Item..."),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function $n(s){let e,t,l=s[1].error+"",r;return{c(){e=y("div"),t=D("Error: "),r=D(l)},l(o){e=E(o,"DIV",{});var n=k(e);t=V(n,"Error: "),r=V(n,l),n.forEach(u)},m(o,n){T(o,e,n),_(e,t),_(e,r)},p(o,n){n&2&&l!==(l=o[1].error+"")&&Y(r,l)},i:q,o:q,d(o){o&&u(e)}}}function wn(s){let e,t;return{c(){e=y("div"),t=D("Item not loaded")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"Item not loaded"),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function In(s){let e;return{c(){e=D("This item cannot be mined.")},l(t){e=V(t,"This item cannot be mined.")},m(t,l){T(t,e,l)},p:q,i:q,o:q,d(t){t&&u(e)}}}function yn(s){let e,t,l=s[1].data.tools,r=[];for(let n=0;n<l.length;n+=1)r[n]=el(xt(s,l,n));const o=n=>R(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ee()},l(n){for(let a=0;a<r.length;a+=1)r[a].l(n);e=ee()},m(n,a){for(let i=0;i<r.length;i+=1)r[i].m(n,a);T(n,e,a),t=!0},p(n,a){if(a&2){l=n[1].data.tools;let i;for(i=0;i<l.length;i+=1){const c=xt(n,l,i);r[i]?(r[i].p(c,a),O(r[i],1)):(r[i]=el(c),r[i].c(),O(r[i],1),r[i].m(e.parentNode,e))}for(X(),i=l.length;i<r.length;i+=1)o(i);J()}},i(n){if(!t){for(let a=0;a<l.length;a+=1)O(r[a]);t=!0}},o(n){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)R(r[a]);t=!1},d(n){_e(r,n),n&&u(e)}}}function el(s){let e,t,l,r,o=s[15].bonus+"",n,a;return e=new ke({props:{item:s[15].tool}}),{c(){F(e.$$.fragment),t=H(),l=y("div"),r=D("Bonus: "),n=D(o)},l(i){Q(e.$$.fragment,i),t=z(i),l=E(i,"DIV",{});var c=k(l);r=V(c,"Bonus: "),n=V(c,o),c.forEach(u)},m(i,c){G(e,i,c),T(i,t,c),T(i,l,c),_(l,r),_(l,n),a=!0},p(i,c){const f={};c&2&&(f.item=i[15].tool),e.$set(f),(!a||c&2)&&o!==(o=i[15].bonus+"")&&Y(n,o)},i(i){a||(O(e.$$.fragment,i),a=!0)},o(i){R(e.$$.fragment,i),a=!1},d(i){K(e,i),i&&u(t),i&&u(l)}}}function En(s){let e;return{c(){e=D("This item isn't used to mine anything.")},l(t){e=V(t,"This item isn't used to mine anything.")},m(t,l){T(t,e,l)},p:q,i:q,o:q,d(t){t&&u(e)}}}function Dn(s){let e,t,l=s[1].data.isTools,r=[];for(let n=0;n<l.length;n+=1)r[n]=tl(Jt(s,l,n));const o=n=>R(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ee()},l(n){for(let a=0;a<r.length;a+=1)r[a].l(n);e=ee()},m(n,a){for(let i=0;i<r.length;i+=1)r[i].m(n,a);T(n,e,a),t=!0},p(n,a){if(a&2){l=n[1].data.isTools;let i;for(i=0;i<l.length;i+=1){const c=Jt(n,l,i);r[i]?(r[i].p(c,a),O(r[i],1)):(r[i]=tl(c),r[i].c(),O(r[i],1),r[i].m(e.parentNode,e))}for(X(),i=l.length;i<r.length;i+=1)o(i);J()}},i(n){if(!t){for(let a=0;a<l.length;a+=1)O(r[a]);t=!0}},o(n){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)R(r[a]);t=!1},d(n){_e(r,n),n&&u(e)}}}function tl(s){let e,t,l,r,o=s[15].bonus+"",n,a;return e=new ke({props:{item:s[15].item}}),{c(){F(e.$$.fragment),t=H(),l=y("div"),r=D("Bonus: "),n=D(o)},l(i){Q(e.$$.fragment,i),t=z(i),l=E(i,"DIV",{});var c=k(l);r=V(c,"Bonus: "),n=V(c,o),c.forEach(u)},m(i,c){G(e,i,c),T(i,t,c),T(i,l,c),_(l,r),_(l,n),a=!0},p(i,c){const f={};c&2&&(f.item=i[15].item),e.$set(f),(!a||c&2)&&o!==(o=i[15].bonus+"")&&Y(n,o)},i(i){a||(O(e.$$.fragment,i),a=!0)},o(i){R(e.$$.fragment,i),a=!1},d(i){K(e,i),i&&u(t),i&&u(l)}}}function Vn(s){let e;return{c(){e=D("This item cannot be crafted.")},l(t){e=V(t,"This item cannot be crafted.")},m(t,l){T(t,e,l)},p:q,i:q,o:q,d(t){t&&u(e)}}}function Tn(s){let e,t,l=s[1].data.outputRecipes,r=[];for(let n=0;n<l.length;n+=1)r[n]=rl(Zt(s,l,n));const o=n=>R(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ee()},l(n){for(let a=0;a<r.length;a+=1)r[a].l(n);e=ee()},m(n,a){for(let i=0;i<r.length;i+=1)r[i].m(n,a);T(n,e,a),t=!0},p(n,a){if(a&2){l=n[1].data.outputRecipes;let i;for(i=0;i<l.length;i+=1){const c=Zt(n,l,i);r[i]?(r[i].p(c,a),O(r[i],1)):(r[i]=rl(c),r[i].c(),O(r[i],1),r[i].m(e.parentNode,e))}for(X(),i=l.length;i<r.length;i+=1)o(i);J()}},i(n){if(!t){for(let a=0;a<l.length;a+=1)O(r[a]);t=!0}},o(n){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)R(r[a]);t=!1},d(n){_e(r,n),n&&u(e)}}}function ll(s){let e,t,l=s[6].quantity+"",r,o,n,a,i;return n=new ke({props:{item:s[6].item}}),{c(){e=y("div"),t=y("div"),r=D(l),o=H(),F(n.$$.fragment),a=H(),this.h()},l(c){e=E(c,"DIV",{class:!0});var f=k(e);t=E(f,"DIV",{class:!0});var d=k(t);r=V(d,l),d.forEach(u),o=z(f),Q(n.$$.fragment,f),a=z(f),f.forEach(u),this.h()},h(){b(t,"class","border-2 bg-gray-300"),b(e,"class","border-2")},m(c,f){T(c,e,f),_(e,t),_(t,r),_(e,o),G(n,e,null),_(e,a),i=!0},p(c,f){(!i||f&2)&&l!==(l=c[6].quantity+"")&&Y(r,l);const d={};f&2&&(d.item=c[6].item),n.$set(d)},i(c){i||(O(n.$$.fragment,c),i=!0)},o(c){R(n.$$.fragment,c),i=!1},d(c){c&&u(e),K(n)}}}function rl(s){let e,t,l=s[11].id+"",r,o,n,a,i,c,f,d,v,m,p,h,$,M=s[11].inputs,w=[];for(let P=0;P<M.length;P+=1)w[P]=ll(Xt(s,M,P));const S=P=>R(w[P],1,1,()=>{w[P]=null});return p=new ke({props:{item:s[11].output}}),{c(){e=y("div"),t=D("Recipe "),r=D(l),o=H(),n=y("div"),a=y("div");for(let P=0;P<w.length;P+=1)w[P].c();i=H(),c=y("div"),f=D("\u27A1\uFE0F"),d=H(),v=y("div"),m=y("div"),F(p.$$.fragment),h=H(),this.h()},l(P){e=E(P,"DIV",{class:!0});var U=k(e);t=V(U,"Recipe "),r=V(U,l),U.forEach(u),o=z(P),n=E(P,"DIV",{class:!0});var N=k(n);a=E(N,"DIV",{});var A=k(a);for(let g=0;g<w.length;g+=1)w[g].l(A);A.forEach(u),i=z(N),c=E(N,"DIV",{class:!0});var I=k(c);f=V(I,"\u27A1\uFE0F"),I.forEach(u),d=z(N),v=E(N,"DIV",{class:!0});var C=k(v);m=E(C,"DIV",{class:!0});var L=k(m);Q(p.$$.fragment,L),L.forEach(u),C.forEach(u),h=z(N),N.forEach(u),this.h()},h(){b(e,"class","text-xl "),b(c,"class","text-2xl"),b(m,"class","border-2 text-center"),b(v,"class","flex flex-col"),b(n,"class","flex flex-row justify-between m-2 border-2")},m(P,U){T(P,e,U),_(e,t),_(e,r),T(P,o,U),T(P,n,U),_(n,a);for(let N=0;N<w.length;N+=1)w[N].m(a,null);_(n,i),_(n,c),_(c,f),_(n,d),_(n,v),_(v,m),G(p,m,null),_(n,h),$=!0},p(P,U){if((!$||U&2)&&l!==(l=P[11].id+"")&&Y(r,l),U&2){M=P[11].inputs;let A;for(A=0;A<M.length;A+=1){const I=Xt(P,M,A);w[A]?(w[A].p(I,U),O(w[A],1)):(w[A]=ll(I),w[A].c(),O(w[A],1),w[A].m(a,null))}for(X(),A=M.length;A<w.length;A+=1)S(A);J()}const N={};U&2&&(N.item=P[11].output),p.$set(N)},i(P){if(!$){for(let U=0;U<M.length;U+=1)O(w[U]);O(p.$$.fragment,P),$=!0}},o(P){w=w.filter(Boolean);for(let U=0;U<w.length;U+=1)R(w[U]);R(p.$$.fragment,P),$=!1},d(P){P&&u(e),P&&u(o),P&&u(n),_e(w,P),K(p)}}}function Mn(s){let e;return{c(){e=D("This item cannot be crafted.")},l(t){e=V(t,"This item cannot be crafted.")},m(t,l){T(t,e,l)},p:q,i:q,o:q,d(t){t&&u(e)}}}function Pn(s){let e,t,l=s[1].data.inputs,r=[];for(let n=0;n<l.length;n+=1)r[n]=il(Gt(s,l,n));const o=n=>R(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ee()},l(n){for(let a=0;a<r.length;a+=1)r[a].l(n);e=ee()},m(n,a){for(let i=0;i<r.length;i+=1)r[i].m(n,a);T(n,e,a),t=!0},p(n,a){if(a&2){l=n[1].data.inputs;let i;for(i=0;i<l.length;i+=1){const c=Gt(n,l,i);r[i]?(r[i].p(c,a),O(r[i],1)):(r[i]=il(c),r[i].c(),O(r[i],1),r[i].m(e.parentNode,e))}for(X(),i=l.length;i<r.length;i+=1)o(i);J()}},i(n){if(!t){for(let a=0;a<l.length;a+=1)O(r[a]);t=!0}},o(n){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)R(r[a]);t=!1},d(n){_e(r,n),n&&u(e)}}}function nl(s){let e,t,l=s[6].quantity+"",r,o,n,a,i;return n=new ke({props:{item:s[6].item}}),{c(){e=y("div"),t=y("div"),r=D(l),o=H(),F(n.$$.fragment),a=H(),this.h()},l(c){e=E(c,"DIV",{class:!0});var f=k(e);t=E(f,"DIV",{class:!0});var d=k(t);r=V(d,l),d.forEach(u),o=z(f),Q(n.$$.fragment,f),a=z(f),f.forEach(u),this.h()},h(){b(t,"class","border-2 bg-gray-300"),b(e,"class","border-2")},m(c,f){T(c,e,f),_(e,t),_(t,r),_(e,o),G(n,e,null),_(e,a),i=!0},p(c,f){(!i||f&2)&&l!==(l=c[6].quantity+"")&&Y(r,l);const d={};f&2&&(d.item=c[6].item),n.$set(d)},i(c){i||(O(n.$$.fragment,c),i=!0)},o(c){R(n.$$.fragment,c),i=!1},d(c){c&&u(e),K(n)}}}function il(s){let e,t,l=s[6].recipe.id+"",r,o,n,a,i,c,f,d,v,m,p,h,$,M=s[6].recipe.inputs,w=[];for(let P=0;P<M.length;P+=1)w[P]=nl(Kt(s,M,P));const S=P=>R(w[P],1,1,()=>{w[P]=null});return p=new ke({props:{item:s[6].recipe.output}}),{c(){e=y("div"),t=D("Recipe "),r=D(l),o=H(),n=y("div"),a=y("div");for(let P=0;P<w.length;P+=1)w[P].c();i=H(),c=y("div"),f=D("\u27A1\uFE0F"),d=H(),v=y("div"),m=y("div"),F(p.$$.fragment),h=H(),this.h()},l(P){e=E(P,"DIV",{class:!0});var U=k(e);t=V(U,"Recipe "),r=V(U,l),U.forEach(u),o=z(P),n=E(P,"DIV",{class:!0});var N=k(n);a=E(N,"DIV",{});var A=k(a);for(let g=0;g<w.length;g+=1)w[g].l(A);A.forEach(u),i=z(N),c=E(N,"DIV",{class:!0});var I=k(c);f=V(I,"\u27A1\uFE0F"),I.forEach(u),d=z(N),v=E(N,"DIV",{class:!0});var C=k(v);m=E(C,"DIV",{class:!0});var L=k(m);Q(p.$$.fragment,L),L.forEach(u),C.forEach(u),h=z(N),N.forEach(u),this.h()},h(){b(e,"class","text-xl "),b(c,"class","text-2xl"),b(m,"class","border-2 text-center"),b(v,"class","flex flex-col"),b(n,"class","flex flex-row justify-between m-2 border-2")},m(P,U){T(P,e,U),_(e,t),_(e,r),T(P,o,U),T(P,n,U),_(n,a);for(let N=0;N<w.length;N+=1)w[N].m(a,null);_(n,i),_(n,c),_(c,f),_(n,d),_(n,v),_(v,m),G(p,m,null),_(n,h),$=!0},p(P,U){if((!$||U&2)&&l!==(l=P[6].recipe.id+"")&&Y(r,l),U&2){M=P[6].recipe.inputs;let A;for(A=0;A<M.length;A+=1){const I=Kt(P,M,A);w[A]?(w[A].p(I,U),O(w[A],1)):(w[A]=nl(I),w[A].c(),O(w[A],1),w[A].m(a,null))}for(X(),A=M.length;A<w.length;A+=1)S(A);J()}const N={};U&2&&(N.item=P[6].recipe.output),p.$set(N)},i(P){if(!$){for(let U=0;U<M.length;U+=1)O(w[U]);O(p.$$.fragment,P),$=!0}},o(P){w=w.filter(Boolean);for(let U=0;U<w.length;U+=1)R(w[U]);R(p.$$.fragment,P),$=!1},d(P){P&&u(e),P&&u(o),P&&u(n),_e(w,P),K(p)}}}function Sn(s){let e,t,l,r;const o=[wn,$n,kn,gn,bn],n=[];function a(i,c){return i[1].step?i[1].error?1:i[1].step==="LOADING"?2:i[1].data?4:3:0}return t=a(s),l=n[t]=o[t](s),{c(){e=y("div"),l.c()},l(i){e=E(i,"DIV",{});var c=k(e);l.l(c),c.forEach(u)},m(i,c){T(i,e,c),n[t].m(e,null),r=!0},p(i,[c]){let f=t;t=a(i),t===f?n[t].p(i,c):(X(),R(n[f],1,1,()=>{n[f]=null}),J(),l=n[t],l?l.p(i,c):(l=n[t]=o[t](i),l.c()),O(l,1),l.m(e,null))},i(i){r||(O(l),r=!0)},o(i){R(l),r=!1},d(i){i&&u(e),n[t].d()}}}function Bn(s,e,t){let l,r;he(s,Ae,c=>t(5,l=c));let{id:o}=e;async function n(c){await de.execute(f=>f.UnionQuest.safeTransferFrom(l.address,"0xb19BC46C52A1352A071fe2389503B6FE1ABD50Ff",c,1,[]))}const a=pn(o);he(s,a,c=>t(1,r=c));const i=()=>n(o);return s.$$set=c=>{"id"in c&&t(0,o=c.id)},[o,r,n,a,i]}class Cn extends ce{constructor(e){super();fe(this,e,Bn,Sn,ue,{id:0})}}function sl(s){let e,t;return e=new Ee({props:{closeButton:!0,$$slots:{default:[Nn]},$$scope:{ctx:s}}}),e.$on("close",s[3]),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&36&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Nn(s){let e,t;return e=new Cn({props:{id:s[2]}}),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&4&&(o.id=l[2]),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ln(s){let e,t,l,r,o,n=s[0].image+"",a,i,c=s[0].name+"",f,d,v,m,p=s[1]&&sl(s);return{c(){e=y("div"),p&&p.c(),t=H(),l=y("div"),r=y("div"),o=ie("svg"),a=H(),i=y("div"),f=D(c),this.h()},l(h){e=E(h,"DIV",{});var $=k(e);p&&p.l($),t=z($),l=E($,"DIV",{class:!0});var M=k(l);r=E(M,"DIV",{class:!0});var w=k(r);o=se(w,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var S=k(o);S.forEach(u),w.forEach(u),a=z(M),i=E(M,"DIV",{class:!0});var P=k(i);f=V(P,c),P.forEach(u),M.forEach(u),$.forEach(u),this.h()},h(){b(o,"xmlns","http://www.w3.org/2000/svg"),b(o,"width","50"),b(o,"height","50"),b(o,"viewBox","0 0 100 100"),b(r,"class","flex justify-center"),b(i,"class","border-2 text-xl bg-gray-300 text-center"),b(l,"class","flex flex-col content-center border-2 w-fit")},m(h,$){T(h,e,$),p&&p.m(e,null),_(e,t),_(e,l),_(l,r),_(r,o),o.innerHTML=n,_(l,a),_(l,i),_(i,f),d=!0,v||(m=re(l,"click",s[4]),v=!0)},p(h,[$]){h[1]?p?(p.p(h,$),$&2&&O(p,1)):(p=sl(h),p.c(),O(p,1),p.m(e,t)):p&&(X(),R(p,1,1,()=>{p=null}),J()),(!d||$&1)&&n!==(n=h[0].image+"")&&(o.innerHTML=n),(!d||$&1)&&c!==(c=h[0].name+"")&&Y(f,c)},i(h){d||(O(p),d=!0)},o(h){R(p),d=!1},d(h){h&&u(e),p&&p.d(),v=!1,m()}}}function An(s,e,t){let{item:l}=e,r=!1,o="0";const n=()=>t(1,r=!1),a=()=>{t(1,r=!0),t(2,o=l.id)};return s.$$set=i=>{"item"in i&&t(0,l=i.item)},[l,r,o,n,a]}class ke extends ce{constructor(e){super();fe(this,e,An,Ln,ue,{item:0})}}function On(s){let e,t,l,r,o,n,a;return{c(){e=ie("svg"),t=ie("path"),l=ie("path"),r=ie("defs"),o=ie("linearGradient"),n=ie("stop"),a=ie("stop"),this.h()},l(i){e=se(i,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var c=k(e);t=se(c,"path",{d:!0,fill:!0}),k(t).forEach(u),l=se(c,"path",{d:!0,fill:!0}),k(l).forEach(u),r=se(c,"defs",{});var f=k(r);o=se(f,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,gradientUnits:!0});var d=k(o);n=se(d,"stop",{"stop-color":!0}),k(n).forEach(u),a=se(d,"stop",{offset:!0,"stop-color":!0}),k(a).forEach(u),d.forEach(u),f.forEach(u),c.forEach(u),this.h()},h(){b(t,"d","M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"),b(t,"fill","url(#paint0_linear)"),b(l,"d","M12.744 6.67999H11.7947C11.272 5.22932 9.86668 4.23466 8.01334 4.23466H4.96534V6.67999H3.90668V7.55732H4.96534V8.47732H3.90668V9.35466H4.96534V11.7707H8.01334C9.84534 11.7707 11.24 10.784 11.776 9.35466H12.744V8.47732H11.9893C12.008 8.32266 12.0187 8.16266 12.0187 8.00266V7.98132C12.0187 7.83732 12.0107 7.69599 11.9973 7.55732H12.7467V6.67999H12.744ZM5.81868 5.01599H8.01334C9.37334 5.01599 10.384 5.68532 10.8507 6.67732H5.81868V5.01599ZM8.01334 10.9813H5.81868V9.35199H10.8453C10.376 10.328 9.36801 10.9813 8.01334 10.9813ZM11.136 8.02132C11.136 8.17599 11.1253 8.32799 11.104 8.47466H5.81868V7.55466H11.1067C11.1253 7.69866 11.136 7.84799 11.136 7.99999V8.02132Z"),b(l,"fill","white"),b(n,"stop-color","#F9A606"),b(a,"offset","1"),b(a,"stop-color","#FBCC5F"),b(o,"id","paint0_linear"),b(o,"x1","8"),b(o,"y1","-2.26667"),b(o,"x2","8"),b(o,"y2","17.68"),b(o,"gradientUnits","userSpaceOnUse"),b(e,"class","dai"),b(e,"width","16"),b(e,"height","16"),b(e,"viewBox","0 0 16 16"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(i,c){T(i,e,c),_(e,t),_(e,l),_(e,r),_(r,o),_(o,n),_(o,a)},p:q,i:q,o:q,d(i){i&&u(e)}}}class Un extends ce{constructor(e){super();fe(this,e,null,On,ue,{})}}function jn(s){let e,t=s[0].div("1000000000000000000")+"",l,r,o,n;return o=new Un({}),{c(){e=y("div"),l=D(t),r=H(),F(o.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0});var i=k(e);l=V(i,t),r=z(i),Q(o.$$.fragment,i),i.forEach(u),this.h()},h(){b(e,"class","flex justify-center")},m(a,i){T(a,e,i),_(e,l),_(e,r),G(o,e,null),n=!0},p(a,[i]){(!n||i&1)&&t!==(t=a[0].div("1000000000000000000")+"")&&Y(l,t)},i(a){n||(O(o.$$.fragment,a),n=!0)},o(a){R(o.$$.fragment,a),n=!1},d(a){a&&u(e),K(o)}}}function Rn(s,e,t){let{value:l}=e;return s.$$set=r=>{"value"in r&&t(0,l=r.value)},[l]}class st extends ce{constructor(e){super();fe(this,e,Rn,jn,ue,{value:0})}}function ol(s,e,t){const l=s.slice();return l[10]=e[t],l}function al(s){let e,t;return e=new Ee({props:{title:"Shop",closeButton:!0,$$slots:{default:[Gn]},$$scope:{ctx:s}}}),e.$on("close",s[8]),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&8203&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function qn(s){let e,t,l=s[3].data,r=[];for(let n=0;n<l.length;n+=1)r[n]=fl(ol(s,l,n));const o=n=>R(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ee()},l(n){for(let a=0;a<r.length;a+=1)r[a].l(n);e=ee()},m(n,a){for(let i=0;i<r.length;i+=1)r[i].m(n,a);T(n,e,a),t=!0},p(n,a){if(a&59){l=n[3].data;let i;for(i=0;i<l.length;i+=1){const c=ol(n,l,i);r[i]?(r[i].p(c,a),O(r[i],1)):(r[i]=fl(c),r[i].c(),O(r[i],1),r[i].m(e.parentNode,e))}for(X(),i=l.length;i<r.length;i+=1)o(i);J()}},i(n){if(!t){for(let a=0;a<l.length;a+=1)O(r[a]);t=!0}},o(n){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)R(r[a]);t=!1},d(n){_e(r,n),n&&u(e)}}}function Hn(s){let e,t;return{c(){e=y("div"),t=D("Shop items failed to load!")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"Shop items failed to load!"),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function zn(s){let e,t;return{c(){e=y("div"),t=D("Loading Map...")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"Loading Map..."),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function Wn(s){let e,t,l=s[3].error+"",r;return{c(){e=y("div"),t=D("Error: "),r=D(l)},l(o){e=E(o,"DIV",{});var n=k(e);t=V(n,"Error: "),r=V(n,l),n.forEach(u)},m(o,n){T(o,e,n),_(e,t),_(e,r)},p(o,n){n&8&&l!==(l=o[3].error+"")&&Y(r,l)},i:q,o:q,d(o){o&&u(e)}}}function Yn(s){let e,t;return{c(){e=y("div"),t=D("Messages not loaded")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"Messages not loaded"),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function cl(s){let e,t,l,r,o,n,a;function i(v,m){return(t==null||m&2)&&(t=!!v[1].gt(Ye.from(0))),t?Qn:Fn}let c=i(s,-1),f=c(s);function d(){return s[7](s[10])}return{c(){e=y("div"),f.c(),l=H(),r=y("div"),o=D("Sell 1"),this.h()},l(v){e=E(v,"DIV",{class:!0});var m=k(e);f.l(m),l=z(m),r=E(m,"DIV",{class:!0});var p=k(r);o=V(p,"Sell 1"),p.forEach(u),m.forEach(u),this.h()},h(){b(r,"class","border-2 w-full m-1"),b(e,"class","flex")},m(v,m){T(v,e,m),f.m(e,null),_(e,l),_(e,r),_(r,o),n||(a=re(r,"click",d),n=!0)},p(v,m){s=v,c===(c=i(s,m))&&f?f.p(s,m):(f.d(1),f=c(s),f&&(f.c(),f.m(e,l)))},d(v){v&&u(e),f.d(),n=!1,a()}}}function Fn(s){let e,t;return{c(){e=y("div"),t=D("Buy 1"),this.h()},l(l){e=E(l,"DIV",{class:!0});var r=k(e);t=V(r,"Buy 1"),r.forEach(u),this.h()},h(){b(e,"class","border-2 w-full m-1 bg-red-400")},m(l,r){T(l,e,r),_(e,t)},p:q,d(l){l&&u(e)}}}function Qn(s){let e,t,l,r;function o(){return s[6](s[10])}return{c(){e=y("div"),t=D("Buy 1"),this.h()},l(n){e=E(n,"DIV",{class:!0});var a=k(e);t=V(a,"Buy 1"),a.forEach(u),this.h()},h(){b(e,"class","border-2 w-full m-1")},m(n,a){T(n,e,a),_(e,t),l||(r=re(e,"click",o),l=!0)},p(n,a){s=n},d(n){n&&u(e),l=!1,r()}}}function fl(s){let e,t,l,r,o,n,a,i;l=new ke({props:{item:s[10]}}),o=new st({props:{value:Ye.from(s[10].stake)}});let c=s[0]&&cl(s);return{c(){e=y("div"),t=y("div"),F(l.$$.fragment),r=H(),F(o.$$.fragment),n=H(),c&&c.c(),a=H(),this.h()},l(f){e=E(f,"DIV",{class:!0});var d=k(e);t=E(d,"DIV",{class:!0});var v=k(t);Q(l.$$.fragment,v),r=z(v),Q(o.$$.fragment,v),v.forEach(u),n=z(d),c&&c.l(d),a=z(d),d.forEach(u),this.h()},h(){b(t,"class","flex flex-row justify-between"),b(e,"class","flex flex-col border-2 border-dotted p-1 m-1")},m(f,d){T(f,e,d),_(e,t),G(l,t,null),_(t,r),G(o,t,null),_(e,n),c&&c.m(e,null),_(e,a),i=!0},p(f,d){const v={};d&8&&(v.item=f[10]),l.$set(v);const m={};d&8&&(m.value=Ye.from(f[10].stake)),o.$set(m),f[0]?c?c.p(f,d):(c=cl(f),c.c(),c.m(e,a)):c&&(c.d(1),c=null)},i(f){i||(O(l.$$.fragment,f),O(o.$$.fragment,f),i=!0)},o(f){R(l.$$.fragment,f),R(o.$$.fragment,f),i=!1},d(f){f&&u(e),K(l),K(o),c&&c.d()}}}function Gn(s){let e,t,l,r,o,n,a;t=new st({props:{value:s[1]}});const i=[Yn,Wn,zn,Hn,qn],c=[];function f(d,v){return d[3].step?d[3].error?1:d[3].step==="LOADING"?2:d[3].data?4:3:0}return o=f(s),n=c[o]=i[o](s),{c(){e=y("div"),F(t.$$.fragment),l=H(),r=y("div"),n.c(),this.h()},l(d){e=E(d,"DIV",{class:!0});var v=k(e);Q(t.$$.fragment,v),l=z(v),r=E(v,"DIV",{class:!0});var m=k(r);n.l(m),m.forEach(u),v.forEach(u),this.h()},h(){b(r,"class","border-2 p-2"),b(e,"class","flex flex-col")},m(d,v){T(d,e,v),G(t,e,null),_(e,l),_(e,r),c[o].m(r,null),a=!0},p(d,v){const m={};v&2&&(m.value=d[1]),t.$set(m);let p=o;o=f(d),o===p?c[o].p(d,v):(X(),R(c[p],1,1,()=>{c[p]=null}),J(),n=c[o],n?n.p(d,v):(n=c[o]=i[o](d),n.c()),O(n,1),n.m(r,null))},i(d){a||(O(t.$$.fragment,d),O(n),a=!0)},o(d){R(t.$$.fragment,d),R(n),a=!1},d(d){d&&u(e),K(t),c[o].d()}}}function Kn(s){let e,t,l,r,o,n,a,i,c,f,d=s[2]&&al(s);return{c(){e=y("div"),d&&d.c(),t=H(),l=y("div"),r=D("Shop"),o=H(),n=y("button"),a=D("Enter the shop"),this.h()},l(v){e=E(v,"DIV",{class:!0});var m=k(e);d&&d.l(m),t=z(m),l=E(m,"DIV",{class:!0});var p=k(l);r=V(p,"Shop"),p.forEach(u),o=z(m),n=E(m,"BUTTON",{class:!0});var h=k(n);a=V(h,"Enter the shop"),h.forEach(u),m.forEach(u),this.h()},h(){b(l,"class","text-xl"),b(n,"class","border-2 border-gray-700 p-1"),b(e,"class","h-full")},m(v,m){T(v,e,m),d&&d.m(e,null),_(e,t),_(e,l),_(l,r),_(e,o),_(e,n),_(n,a),i=!0,c||(f=re(n,"click",s[9]),c=!0)},p(v,[m]){v[2]?d?(d.p(v,m),m&4&&O(d,1)):(d=al(v),d.c(),O(d,1),d.m(e,t)):d&&(X(),R(d,1,1,()=>{d=null}),J())},i(v){i||(O(d),i=!0)},o(v){R(d),i=!1},d(v){v&&u(e),d&&d.d(),c=!1,f()}}}function Zn(s,e,t){let l;he(s,vn,m=>t(3,l=m));let{currentPlayer:r}=e,{balance:o}=e;async function n(m,p){await de.execute(h=>h.UnionQuest.buy(m,p))}async function a(m,p){await de.execute(h=>h.UnionQuest.sell(m,p))}let i=!1;const c=m=>n(m.id,"1"),f=m=>a(m.id,"1"),d=()=>t(2,i=!1),v=()=>t(2,i=!0);return s.$$set=m=>{"currentPlayer"in m&&t(0,r=m.currentPlayer),"balance"in m&&t(1,o=m.balance)},[r,o,i,l,n,a,c,f,d,v]}class Xn extends ce{constructor(e){super();fe(this,e,Zn,Kn,ue,{currentPlayer:0,balance:1})}}class Jn{constructor(e,t){this.transactions=t,this.queryStore=new xe(e,`
    query {
      recipes {
        id
        inputs {
          quantity
          item {
            id
            name
            image
          }
        }
        output {
          id
          name
          image
        }
      }
    }`,Ze,{path:"recipes"}),this.store=We([this.queryStore,this.transactions],l=>this.update(l))}update([e]){if(e.data){let t=e.data;return{step:e.step,error:e.error,data:t}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,t){return this.store.subscribe(e,t)}}const xn=new Jn(Xe,Ke);function ul(s,e,t){const l=s.slice();return l[8]=e[t],l}function dl(s,e,t){const l=s.slice();return l[11]=e[t],l[13]=t,l}function _l(s){let e,t;return e=new Ee({props:{title:"Crafting",closeButton:!0,$$slots:{default:[oi]},$$scope:{ctx:s}}}),e.$on("close",s[6]),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&16395&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ei(s){let e,t,l,r=Math.round(ge(s[0],s[1]/1e3,"1"))+"",o,n,a,i,c=Math.round(ge(s[0],s[1]/1e3,"2"))+"",f,d,v,m,p=s[3].data,h=[];for(let M=0;M<p.length;M+=1)h[M]=vl(ul(s,p,M));const $=M=>R(h[M],1,1,()=>{h[M]=null});return{c(){e=y("div"),t=y("div"),l=y("div"),o=D(r),n=D(" \u{1FAB5}"),a=H(),i=y("div"),f=D(c),d=D(" \u{1FAA8}"),v=H();for(let M=0;M<h.length;M+=1)h[M].c();this.h()},l(M){e=E(M,"DIV",{class:!0});var w=k(e);t=E(w,"DIV",{class:!0});var S=k(t);l=E(S,"DIV",{class:!0});var P=k(l);o=V(P,r),n=V(P," \u{1FAB5}"),P.forEach(u),a=z(S),i=E(S,"DIV",{class:!0});var U=k(i);f=V(U,c),d=V(U," \u{1FAA8}"),U.forEach(u),S.forEach(u),v=z(w);for(let N=0;N<h.length;N+=1)h[N].l(w);w.forEach(u),this.h()},h(){b(l,"class","border-2 w-full border-gray-500"),b(i,"class","border-2 w-full border-gray-500"),b(t,"class","flex justify-between text-center"),b(e,"class","flex flex-col")},m(M,w){T(M,e,w),_(e,t),_(t,l),_(l,o),_(l,n),_(t,a),_(t,i),_(i,f),_(i,d),_(e,v);for(let S=0;S<h.length;S+=1)h[S].m(e,null);m=!0},p(M,w){if((!m||w&3)&&r!==(r=Math.round(ge(M[0],M[1]/1e3,"1"))+"")&&Y(o,r),(!m||w&3)&&c!==(c=Math.round(ge(M[0],M[1]/1e3,"2"))+"")&&Y(f,c),w&27){p=M[3].data;let S;for(S=0;S<p.length;S+=1){const P=ul(M,p,S);h[S]?(h[S].p(P,w),O(h[S],1)):(h[S]=vl(P),h[S].c(),O(h[S],1),h[S].m(e,null))}for(X(),S=p.length;S<h.length;S+=1)$(S);J()}},i(M){if(!m){for(let w=0;w<p.length;w+=1)O(h[w]);m=!0}},o(M){h=h.filter(Boolean);for(let w=0;w<h.length;w+=1)R(h[w]);m=!1},d(M){M&&u(e),_e(h,M)}}}function ti(s){let e,t;return{c(){e=y("div"),t=D("Recipes failed to load!")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"Recipes failed to load!"),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function li(s){let e,t;return{c(){e=y("div"),t=D("Loading Map...")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"Loading Map..."),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function ri(s){let e,t,l=s[3].error+"",r;return{c(){e=y("div"),t=D("Error: "),r=D(l)},l(o){e=E(o,"DIV",{});var n=k(e);t=V(n,"Error: "),r=V(n,l),n.forEach(u)},m(o,n){T(o,e,n),_(e,t),_(e,r)},p(o,n){n&8&&l!==(l=o[3].error+"")&&Y(r,l)},i:q,o:q,d(o){o&&u(e)}}}function ni(s){let e,t;return{c(){e=y("div"),t=D("Messages not loaded")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"Messages not loaded"),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function hl(s){let e,t,l=s[11].quantity+"",r,o,n,a,i;return n=new ke({props:{item:s[11].item}}),{c(){e=y("div"),t=y("div"),r=D(l),o=H(),F(n.$$.fragment),a=H(),this.h()},l(c){e=E(c,"DIV",{class:!0});var f=k(e);t=E(f,"DIV",{class:!0});var d=k(t);r=V(d,l),d.forEach(u),o=z(f),Q(n.$$.fragment,f),a=z(f),f.forEach(u),this.h()},h(){b(t,"class","border-2 bg-gray-300"),b(e,"class","border-2")},m(c,f){T(c,e,f),_(e,t),_(t,r),_(e,o),G(n,e,null),_(e,a),i=!0},p(c,f){(!i||f&8)&&l!==(l=c[11].quantity+"")&&Y(r,l);const d={};f&8&&(d.item=c[11].item),n.$set(d)},i(c){i||(O(n.$$.fragment,c),i=!0)},o(c){R(n.$$.fragment,c),i=!1},d(c){c&&u(e),K(n)}}}function ii(s){let e,t;return{c(){e=y("button"),t=D("Craft"),this.h()},l(l){e=E(l,"BUTTON",{class:!0});var r=k(e);t=V(r,"Craft"),r.forEach(u),this.h()},h(){b(e,"class","border-2 bg-red-400 border-gray-500 p-1 m-2")},m(l,r){T(l,e,r),_(e,t)},p:q,d(l){l&&u(e)}}}function si(s){let e,t,l,r;function o(){return s[5](s[8])}return{c(){e=y("button"),t=D("Craft"),this.h()},l(n){e=E(n,"BUTTON",{class:!0});var a=k(e);t=V(a,"Craft"),a.forEach(u),this.h()},h(){b(e,"class","border-2 bg-green-400 border-gray-500 p-1 m-2")},m(n,a){T(n,e,a),_(e,t),l||(r=re(e,"click",o),l=!0)},p(n,a){s=n},d(n){n&&u(e),l=!1,r()}}}function vl(s){let e,t,l=s[8].id+"",r,o,n,a,i,c,f,d,v,m,p,h,$,M,w=s[8].inputs,S=[];for(let I=0;I<w.length;I+=1)S[I]=hl(dl(s,w,I));const P=I=>R(S[I],1,1,()=>{S[I]=null});m=new ke({props:{item:s[8].output}});function U(I,C){return(h==null||C&11)&&(h=ge(I[0],I[1]/1e3,I[8].inputs[0].item.id)>parseInt(I[8].inputs[0].quantity)&&ge(I[0],I[1]/1e3,I[8].inputs[1].item.id)>parseInt(I[8].inputs[1].quantity)),h?si:ii}let N=U(s,-1),A=N(s);return{c(){e=y("div"),t=D("Recipe "),r=D(l),o=H(),n=y("div"),a=y("div");for(let I=0;I<S.length;I+=1)S[I].c();i=H(),c=y("div"),f=D("\u27A1\uFE0F"),d=H(),v=y("div"),F(m.$$.fragment),p=H(),A.c(),$=H(),this.h()},l(I){e=E(I,"DIV",{class:!0});var C=k(e);t=V(C,"Recipe "),r=V(C,l),C.forEach(u),o=z(I),n=E(I,"DIV",{class:!0});var L=k(n);a=E(L,"DIV",{});var g=k(a);for(let x=0;x<S.length;x+=1)S[x].l(g);g.forEach(u),i=z(L),c=E(L,"DIV",{class:!0});var B=k(c);f=V(B,"\u27A1\uFE0F"),B.forEach(u),d=z(L),v=E(L,"DIV",{class:!0});var j=k(v);Q(m.$$.fragment,j),p=z(j),A.l(j),j.forEach(u),$=z(L),L.forEach(u),this.h()},h(){b(e,"class","text-xl "),b(c,"class","text-2xl"),b(v,"class","flex flex-col"),b(n,"class","flex flex-row justify-between m-2 border-2")},m(I,C){T(I,e,C),_(e,t),_(e,r),T(I,o,C),T(I,n,C),_(n,a);for(let L=0;L<S.length;L+=1)S[L].m(a,null);_(n,i),_(n,c),_(c,f),_(n,d),_(n,v),G(m,v,null),_(v,p),A.m(v,null),_(n,$),M=!0},p(I,C){if((!M||C&8)&&l!==(l=I[8].id+"")&&Y(r,l),C&8){w=I[8].inputs;let g;for(g=0;g<w.length;g+=1){const B=dl(I,w,g);S[g]?(S[g].p(B,C),O(S[g],1)):(S[g]=hl(B),S[g].c(),O(S[g],1),S[g].m(a,null))}for(X(),g=w.length;g<S.length;g+=1)P(g);J()}const L={};C&8&&(L.item=I[8].output),m.$set(L),N===(N=U(I,C))&&A?A.p(I,C):(A.d(1),A=N(I),A&&(A.c(),A.m(v,null)))},i(I){if(!M){for(let C=0;C<w.length;C+=1)O(S[C]);O(m.$$.fragment,I),M=!0}},o(I){S=S.filter(Boolean);for(let C=0;C<S.length;C+=1)R(S[C]);R(m.$$.fragment,I),M=!1},d(I){I&&u(e),I&&u(o),I&&u(n),_e(S,I),K(m),A.d()}}}function oi(s){let e,t,l,r;const o=[ni,ri,li,ti,ei],n=[];function a(i,c){return i[3].step?i[3].error?1:i[3].step==="LOADING"?2:i[3].data?4:3:0}return e=a(s),t=n[e]=o[e](s),{c(){t.c(),l=ee()},l(i){t.l(i),l=ee()},m(i,c){n[e].m(i,c),T(i,l,c),r=!0},p(i,c){let f=e;e=a(i),e===f?n[e].p(i,c):(X(),R(n[f],1,1,()=>{n[f]=null}),J(),t=n[e],t?t.p(i,c):(t=n[e]=o[e](i),t.c()),O(t,1),t.m(l.parentNode,l))},i(i){r||(O(t),r=!0)},o(i){R(t),r=!1},d(i){n[e].d(i),i&&u(l)}}}function ai(s){let e,t,l,r,o,n,a,i,c,f,d=s[2]&&_l(s);return{c(){e=y("div"),d&&d.c(),t=H(),l=y("div"),r=D("Crafting"),o=H(),n=y("button"),a=D("View the crafting table"),this.h()},l(v){e=E(v,"DIV",{});var m=k(e);d&&d.l(m),t=z(m),l=E(m,"DIV",{class:!0});var p=k(l);r=V(p,"Crafting"),p.forEach(u),o=z(m),n=E(m,"BUTTON",{class:!0});var h=k(n);a=V(h,"View the crafting table"),h.forEach(u),m.forEach(u),this.h()},h(){b(l,"class","text-xl"),b(n,"class","border-2 border-gray-700 p-1")},m(v,m){T(v,e,m),d&&d.m(e,null),_(e,t),_(e,l),_(l,r),_(e,o),_(e,n),_(n,a),i=!0,c||(f=re(n,"click",s[7]),c=!0)},p(v,[m]){v[2]?d?(d.p(v,m),m&4&&O(d,1)):(d=_l(v),d.c(),O(d,1),d.m(e,t)):d&&(X(),R(d,1,1,()=>{d=null}),J())},i(v){i||(O(d),i=!0)},o(v){R(d),i=!1},d(v){v&&u(e),d&&d.d(),c=!1,f()}}}function ci(s,e,t){let l;he(s,xn,d=>t(3,l=d));let{currentPlayer:r}=e;async function o(d){await de.execute(v=>v.UnionQuest.craft(d))}let n=Date.now(),a=!1;ze(()=>{const d=setInterval(()=>{t(1,n=Date.now())},100);return()=>{clearInterval(d)}});const i=d=>o(d.id),c=()=>t(2,a=!1),f=()=>t(2,a=!0);return s.$$set=d=>{"currentPlayer"in d&&t(0,r=d.currentPlayer)},[r,n,a,l,o,i,c,f]}class fi extends ce{constructor(e){super();fe(this,e,ci,ai,ue,{currentPlayer:0})}}function ml(s,e,t){const l=s.slice();return l[4]=e[t],l}function ui(s){let e;return{c(){e=D("You don't own any items.")},l(t){e=V(t,"You don't own any items.")},m(t,l){T(t,e,l)},p:q,i:q,o:q,d(t){t&&u(e)}}}function di(s){let e,t,l=s[0].balances.filter(s[3]),r=[];for(let n=0;n<l.length;n+=1)r[n]=pl(ml(s,l,n));const o=n=>R(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ee()},l(n){for(let a=0;a<r.length;a+=1)r[a].l(n);e=ee()},m(n,a){for(let i=0;i<r.length;i+=1)r[i].m(n,a);T(n,e,a),t=!0},p(n,a){if(a&3){l=n[0].balances.filter(n[3]);let i;for(i=0;i<l.length;i+=1){const c=ml(n,l,i);r[i]?(r[i].p(c,a),O(r[i],1)):(r[i]=pl(c),r[i].c(),O(r[i],1),r[i].m(e.parentNode,e))}for(X(),i=l.length;i<r.length;i+=1)o(i);J()}},i(n){if(!t){for(let a=0;a<l.length;a+=1)O(r[a]);t=!0}},o(n){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)R(r[a]);t=!1},d(n){_e(r,n),n&&u(e)}}}function pl(s){let e,t,l,r,o=Math.round(ge(s[0],s[1]/1e3,s[4].item.id))+"",n,a,i;return t=new ke({props:{item:s[4].item}}),{c(){e=y("div"),F(t.$$.fragment),l=H(),r=y("div"),n=D(o),a=H(),this.h()},l(c){e=E(c,"DIV",{class:!0});var f=k(e);Q(t.$$.fragment,f),l=z(f),r=E(f,"DIV",{});var d=k(r);n=V(d,o),d.forEach(u),a=z(f),f.forEach(u),this.h()},h(){b(e,"class","border-2")},m(c,f){T(c,e,f),G(t,e,null),_(e,l),_(e,r),_(r,n),_(e,a),i=!0},p(c,f){const d={};f&3&&(d.item=c[4].item),t.$set(d),(!i||f&3)&&o!==(o=Math.round(ge(c[0],c[1]/1e3,c[4].item.id))+"")&&Y(n,o)},i(c){i||(O(t.$$.fragment,c),i=!0)},o(c){R(t.$$.fragment,c),i=!1},d(c){c&&u(e),K(t)}}}function _i(s){let e,t,l,r,o,n,a,i,c;const f=[di,ui],d=[];function v(m,p){return(n==null||p&3)&&(n=m[0].balances.filter(m[2]).length>0),n?0:1}return a=v(s,-1),i=d[a]=f[a](s),{c(){e=y("div"),t=y("div"),l=D("Inventory"),r=H(),o=y("div"),i.c(),this.h()},l(m){e=E(m,"DIV",{});var p=k(e);t=E(p,"DIV",{class:!0});var h=k(t);l=V(h,"Inventory"),h.forEach(u),r=z(p),o=E(p,"DIV",{class:!0});var $=k(o);i.l($),$.forEach(u),p.forEach(u),this.h()},h(){b(t,"class","text-xl"),b(o,"class","flex")},m(m,p){T(m,e,p),_(e,t),_(t,l),_(e,r),_(e,o),d[a].m(o,null),c=!0},p(m,[p]){let h=a;a=v(m,p),a===h?d[a].p(m,p):(X(),R(d[h],1,1,()=>{d[h]=null}),J(),i=d[a],i?i.p(m,p):(i=d[a]=f[a](m),i.c()),O(i,1),i.m(o,null))},i(m){c||(O(i),c=!0)},o(m){R(i),c=!1},d(m){m&&u(e),d[a].d()}}}function hi(s,e,t){let{player:l}=e,r=Date.now();ze(()=>{const a=setInterval(()=>{t(1,r=Date.now())},100);return()=>{clearInterval(a)}});const o=a=>Math.round(ge(l,r/1e3,a.item.id))>0,n=a=>Math.round(ge(l,r/1e3,a.item.id))>0;return s.$$set=a=>{"player"in a&&t(0,l=a.player)},[l,r,o,n]}class vi extends ce{constructor(e){super();fe(this,e,hi,_i,ue,{player:0})}}function bl(s,e,t){const l=s.slice();return l[3]=e[t],l}function mi(s){let e,t,l=s[0].data.id+"",r,o,n,a,i=s[0].data.vouch+"",c,f,d,v,m,p,h,$,M,w,S,P;function U(g,B){return $i}let A=U()(s),I=s[0].data.balances,C=[];for(let g=0;g<I.length;g+=1)C[g]=gl(bl(s,I,g));const L=g=>R(C[g],1,1,()=>{C[g]=null});return{c(){e=y("div"),t=D("Player "),r=D(l),o=H(),n=y("div"),a=D("Vouch: "),c=D(i),f=H(),d=y("div"),v=y("a"),m=D(`View on
        `),A.c(),h=H(),$=y("div"),M=y("div"),w=D("Inventory"),S=H();for(let g=0;g<C.length;g+=1)C[g].c();this.h()},l(g){e=E(g,"DIV",{class:!0});var B=k(e);t=V(B,"Player "),r=V(B,l),B.forEach(u),o=z(g),n=E(g,"DIV",{});var j=k(n);a=V(j,"Vouch: "),c=V(j,i),j.forEach(u),f=z(g),d=E(g,"DIV",{class:!0});var x=k(d);v=E(x,"A",{rel:!0,target:!0,href:!0});var ne=k(v);m=V(ne,`View on
        `),A.l(ne),ne.forEach(u),x.forEach(u),h=z(g),$=E(g,"DIV",{class:!0});var te=k($);M=E(te,"DIV",{class:!0});var le=k(M);w=V(le,"Inventory"),le.forEach(u),S=z(te);for(let $e=0;$e<C.length;$e+=1)C[$e].l(te);te.forEach(u),this.h()},h(){b(e,"class","text-2xl"),b(v,"rel","noopener"),b(v,"target","_blank"),b(v,"href",p=`https://kovan.union.finance/profile/${s[0].data.id}`),b(d,"class","border-2 bg-gray-200 border-gray-500 m-1 p-2"),b(M,"class","text-xl"),b($,"class","flex flex-col")},m(g,B){T(g,e,B),_(e,t),_(e,r),T(g,o,B),T(g,n,B),_(n,a),_(n,c),T(g,f,B),T(g,d,B),_(d,v),_(v,m),A.m(v,null),T(g,h,B),T(g,$,B),_($,M),_(M,w),_($,S);for(let j=0;j<C.length;j+=1)C[j].m($,null);P=!0},p(g,B){if((!P||B&1)&&l!==(l=g[0].data.id+"")&&Y(r,l),(!P||B&1)&&i!==(i=g[0].data.vouch+"")&&Y(c,i),(!P||B&1&&p!==(p=`https://kovan.union.finance/profile/${g[0].data.id}`))&&b(v,"href",p),B&1){I=g[0].data.balances;let j;for(j=0;j<I.length;j+=1){const x=bl(g,I,j);C[j]?(C[j].p(x,B),O(C[j],1)):(C[j]=gl(x),C[j].c(),O(C[j],1),C[j].m($,null))}for(X(),j=I.length;j<C.length;j+=1)L(j);J()}},i(g){if(!P){for(let B=0;B<I.length;B+=1)O(C[B]);P=!0}},o(g){C=C.filter(Boolean);for(let B=0;B<C.length;B+=1)R(C[B]);P=!1},d(g){g&&u(e),g&&u(o),g&&u(n),g&&u(f),g&&u(d),A.d(),g&&u(h),g&&u($),_e(C,g)}}}function pi(s){let e,t;return{c(){e=y("div"),t=D("Player failed to load!")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"Player failed to load!"),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function bi(s){let e,t;return{c(){e=y("div"),t=D("Loading Player...")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"Loading Player..."),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function gi(s){let e,t,l=s[0].error+"",r;return{c(){e=y("div"),t=D("Error: "),r=D(l)},l(o){e=E(o,"DIV",{});var n=k(e);t=V(n,"Error: "),r=V(n,l),n.forEach(u)},m(o,n){T(o,e,n),_(e,t),_(e,r)},p(o,n){n&1&&l!==(l=o[0].error+"")&&Y(r,l)},i:q,o:q,d(o){o&&u(e)}}}function ki(s){let e,t;return{c(){e=y("div"),t=D("Player not loaded")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"Player not loaded"),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function $i(s){let e;return{c(){e=D("kovan.union.finance")},l(t){e=V(t,"kovan.union.finance")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function gl(s){let e,t,l,r=s[3].value+"",o,n,a=s[3].skill+"",i,c,f;return t=new ke({props:{item:s[3].item}}),{c(){e=y("div"),F(t.$$.fragment),l=D(`
          | balance:`),o=D(r),n=D(" | skill:"),i=D(a),c=H()},l(d){e=E(d,"DIV",{});var v=k(e);Q(t.$$.fragment,v),l=V(v,`
          | balance:`),o=V(v,r),n=V(v," | skill:"),i=V(v,a),c=z(v),v.forEach(u)},m(d,v){T(d,e,v),G(t,e,null),_(e,l),_(e,o),_(e,n),_(e,i),_(e,c),f=!0},p(d,v){const m={};v&1&&(m.item=d[3].item),t.$set(m),(!f||v&1)&&r!==(r=d[3].value+"")&&Y(o,r),(!f||v&1)&&a!==(a=d[3].skill+"")&&Y(i,a)},i(d){f||(O(t.$$.fragment,d),f=!0)},o(d){R(t.$$.fragment,d),f=!1},d(d){d&&u(e),K(t)}}}function wi(s){let e,t,l,r;const o=[ki,gi,bi,pi,mi],n=[];function a(i,c){return i[0].step?i[0].error?1:i[0].step==="LOADING"?2:i[0].data?4:3:0}return t=a(s),l=n[t]=o[t](s),{c(){e=y("div"),l.c()},l(i){e=E(i,"DIV",{});var c=k(e);l.l(c),c.forEach(u)},m(i,c){T(i,e,c),n[t].m(e,null),r=!0},p(i,[c]){let f=t;t=a(i),t===f?n[t].p(i,c):(X(),R(n[f],1,1,()=>{n[f]=null}),J(),l=n[t],l?l.p(i,c):(l=n[t]=o[t](i),l.c()),O(l,1),l.m(e,null))},i(i){r||(O(l),r=!0)},o(i){R(l),r=!1},d(i){i&&u(e),n[t].d()}}}function Ii(s,e,t){let l,{id:r}=e;const o=_n(r);return he(s,o,n=>t(0,l=n)),s.$$set=n=>{"id"in n&&t(2,r=n.id)},[l,o,r]}class yi extends ce{constructor(e){super();fe(this,e,Ii,wi,ue,{id:2})}}function kl(s,e,t){const l=s.slice();return l[6]=e[t],l}function $l(s){let e,t;return e=new Ee({props:{closeButton:!0,$$slots:{default:[Ei]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&520&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ei(s){let e,t;return e=new yi({props:{id:s[3]}}),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&8&&(o.id=l[3]),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function wl(s){let e,t,l,r,o=s[6].id.slice(0,4)+"",n,a,i=s[6].id.slice(-4)+"",c,f,d,v,m,p,h=Math.round(ae(s[6],s[1]/1e3,1)+ae(s[6],s[1]/1e3,2))+"",$,M,w,S,P,U;l=new kt({props:{address:s[6].id,class:"h-6 w-6"}});function N(){return s[5](s[6])}return{c(){e=y("div"),t=y("div"),F(l.$$.fragment),r=H(),n=D(o),a=D("..."),c=D(i),f=H(),d=y("div"),v=y("div"),m=D("Total level:"),p=H(),$=D(h),M=H(),w=y("div"),this.h()},l(A){e=E(A,"DIV",{class:!0});var I=k(e);t=E(I,"DIV",{class:!0});var C=k(t);Q(l.$$.fragment,C),r=z(C),n=V(C,o),a=V(C,"..."),c=V(C,i),C.forEach(u),f=z(I),d=E(I,"DIV",{});var L=k(d);v=E(L,"DIV",{class:!0});var g=k(v);m=V(g,"Total level:"),g.forEach(u),p=z(L),$=V(L,h),L.forEach(u),I.forEach(u),M=z(A),w=E(A,"DIV",{}),k(w).forEach(u),this.h()},h(){b(t,"class","flex"),b(v,"class","inline font-medium"),b(e,"class","flex justify-between p-1")},m(A,I){T(A,e,I),_(e,t),G(l,t,null),_(t,r),_(t,n),_(t,a),_(t,c),_(e,f),_(e,d),_(d,v),_(v,m),_(d,p),_(d,$),T(A,M,I),T(A,w,I),S=!0,P||(U=re(t,"click",N),P=!0)},p(A,I){s=A;const C={};I&1&&(C.address=s[6].id),l.$set(C),(!S||I&1)&&o!==(o=s[6].id.slice(0,4)+"")&&Y(n,o),(!S||I&1)&&i!==(i=s[6].id.slice(-4)+"")&&Y(c,i),(!S||I&3)&&h!==(h=Math.round(ae(s[6],s[1]/1e3,1)+ae(s[6],s[1]/1e3,2))+"")&&Y($,h)},i(A){S||(O(l.$$.fragment,A),S=!0)},o(A){R(l.$$.fragment,A),S=!1},d(A){A&&u(e),K(l),A&&u(M),A&&u(w),P=!1,U()}}}function Di(s){let e,t,l,r,o,n,a,i=s[2]&&$l(s),c=s[0],f=[];for(let v=0;v<c.length;v+=1)f[v]=wl(kl(s,c,v));const d=v=>R(f[v],1,1,()=>{f[v]=null});return{c(){e=y("div"),i&&i.c(),t=H(),l=y("div"),r=D("Players"),o=H(),n=y("div");for(let v=0;v<f.length;v+=1)f[v].c();this.h()},l(v){e=E(v,"DIV",{});var m=k(e);i&&i.l(m),t=z(m),l=E(m,"DIV",{class:!0});var p=k(l);r=V(p,"Players"),p.forEach(u),o=z(m),n=E(m,"DIV",{class:!0});var h=k(n);for(let $=0;$<f.length;$+=1)f[$].l(h);h.forEach(u),m.forEach(u),this.h()},h(){b(l,"class","text-xl"),b(n,"class","flex flex-col")},m(v,m){T(v,e,m),i&&i.m(e,null),_(e,t),_(e,l),_(l,r),_(e,o),_(e,n);for(let p=0;p<f.length;p+=1)f[p].m(n,null);a=!0},p(v,[m]){if(v[2]?i?(i.p(v,m),m&4&&O(i,1)):(i=$l(v),i.c(),O(i,1),i.m(e,t)):i&&(X(),R(i,1,1,()=>{i=null}),J()),m&15){c=v[0];let p;for(p=0;p<c.length;p+=1){const h=kl(v,c,p);f[p]?(f[p].p(h,m),O(f[p],1)):(f[p]=wl(h),f[p].c(),O(f[p],1),f[p].m(n,null))}for(X(),p=c.length;p<f.length;p+=1)d(p);J()}},i(v){if(!a){O(i);for(let m=0;m<c.length;m+=1)O(f[m]);a=!0}},o(v){R(i),f=f.filter(Boolean);for(let m=0;m<f.length;m+=1)R(f[m]);a=!1},d(v){v&&u(e),i&&i.d(),_e(f,v)}}}function Vi(s,e,t){let{players:l}=e,r=Date.now(),o=!1,n="0";ze(()=>{const c=setInterval(()=>{t(1,r=Date.now())},100);return()=>{clearInterval(c)}});const a=()=>t(2,o=!1),i=c=>{t(2,o=!0),t(3,n=c.id)};return s.$$set=c=>{"players"in c&&t(0,l=c.players)},[l,r,o,n,a,i]}class Ti extends ce{constructor(e){super();fe(this,e,Vi,Di,ue,{players:0})}}function Il(s,e,t){const l=s.slice();return l[24]=e[t],l[26]=t,l}function yl(s){let e,t;return e=new Ee({props:{title:"Info",closeButton:!0,$$slots:{default:[Pi]},$$scope:{ctx:s}}}),e.$on("close",s[15]),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&134217728&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Mi(s){let e;return{c(){e=D("kovan.union.finance")},l(t){e=V(t,"kovan.union.finance")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function Pi(s){let e,t,l,r,o,n,a,i,c,f,d,v,m,p,h,$,M,w;function S(N,A){return Mi}let U=S()(s);return{c(){e=y("div"),t=D("As a reward for improving your skills, you are entitled to a credit line from the Bank of UnionQuest."),l=H(),r=y("div"),o=D("Your vouch must be manually updated and does "),n=y("div"),a=D("not"),i=D(`
        automatically increase when you perform an activity. This difference is indicated by the
        `),c=y("span"),f=D('"Actual Vouch"'),d=D(`
        and `),v=y("span"),m=D('"Potential Vouch"'),p=D(" amounts."),h=H(),$=y("div"),M=y("a"),w=D(`View the Bank on
          `),U.c(),this.h()},l(N){e=E(N,"DIV",{class:!0});var A=k(e);t=V(A,"As a reward for improving your skills, you are entitled to a credit line from the Bank of UnionQuest."),A.forEach(u),l=z(N),r=E(N,"DIV",{class:!0});var I=k(r);o=V(I,"Your vouch must be manually updated and does "),n=E(I,"DIV",{class:!0});var C=k(n);a=V(C,"not"),C.forEach(u),i=V(I,`
        automatically increase when you perform an activity. This difference is indicated by the
        `),c=E(I,"SPAN",{class:!0});var L=k(c);f=V(L,'"Actual Vouch"'),L.forEach(u),d=V(I,`
        and `),v=E(I,"SPAN",{class:!0});var g=k(v);m=V(g,'"Potential Vouch"'),g.forEach(u),p=V(I," amounts."),I.forEach(u),h=z(N),$=E(N,"DIV",{class:!0});var B=k($);M=E(B,"A",{rel:!0,target:!0,href:!0});var j=k(M);w=V(j,`View the Bank on
          `),U.l(j),j.forEach(u),B.forEach(u),this.h()},h(){b(e,"class","p-1"),b(n,"class","inline font-bold"),b(c,"class","italic"),b(v,"class","italic"),b(r,"class","p-1"),b(M,"rel","noopener"),b(M,"target","_blank"),b(M,"href",`https://kovan.union.finance/profile/${Qe.contracts.UnionQuest.address}`),b($,"class","border-2 bg-gray-200 border-gray-500 m-1 p-2")},m(N,A){T(N,e,A),_(e,t),T(N,l,A),T(N,r,A),_(r,o),_(r,n),_(n,a),_(r,i),_(r,c),_(c,f),_(r,d),_(r,v),_(v,m),_(r,p),T(N,h,A),T(N,$,A),_($,M),_(M,w),U.m(M,null)},p:q,d(N){N&&u(e),N&&u(l),N&&u(r),N&&u(h),N&&u($),U.d()}}}function El(s){let e,t,l,r,o,n;function a(){return s[16](s[26])}return{c(){e=y("button"),t=D(s[24]),l=H(),this.h()},l(i){e=E(i,"BUTTON",{class:!0});var c=k(e);t=V(c,s[24]),l=z(c),c.forEach(u),this.h()},h(){b(e,"class",r="w-12 border-2 border-gray-700 "+(s[2]===s[26]?"bg-red-700":"bg-neutral-400"))},m(i,c){T(i,e,c),_(e,t),_(e,l),o||(n=re(e,"click",a),o=!0)},p(i,c){s=i,c&4&&r!==(r="w-12 border-2 border-gray-700 "+(s[2]===s[26]?"bg-red-700":"bg-neutral-400"))&&b(e,"class",r)},d(i){i&&u(e),o=!1,n()}}}function Si(s){let e,t,l,r,o,n,a,i,c,f,d,v,m,p,h,$;return m=new or({}),{c(){e=y("div"),t=y("div"),l=D("Settings"),r=H(),o=y("div"),n=H(),a=y("div"),i=D("Allow DAI transfers for The Shop"),c=H(),f=y("div"),d=D("Allow NFT transfers for The Shop"),v=H(),F(m.$$.fragment),this.h()},l(M){e=E(M,"DIV",{});var w=k(e);t=E(w,"DIV",{class:!0});var S=k(t);l=V(S,"Settings"),S.forEach(u),r=z(w),o=E(w,"DIV",{});var P=k(o);n=z(P),a=E(P,"DIV",{class:!0});var U=k(a);i=V(U,"Allow DAI transfers for The Shop"),U.forEach(u),c=z(P),f=E(P,"DIV",{class:!0});var N=k(f);d=V(N,"Allow NFT transfers for The Shop"),N.forEach(u),v=z(P),Q(m.$$.fragment,P),P.forEach(u),w.forEach(u),this.h()},h(){b(t,"class","text-xl"),b(a,"class","border-2"),b(f,"class","border-2")},m(M,w){T(M,e,w),_(e,t),_(t,l),_(e,r),_(e,o),_(o,n),_(o,a),_(a,i),_(o,c),_(o,f),_(f,d),_(o,v),G(m,o,null),p=!0,h||($=[re(a,"click",s[10]),re(f,"click",s[11])],h=!0)},p(M,w){},i(M){p||(O(m.$$.fragment,M),p=!0)},o(M){R(m.$$.fragment,M),p=!1},d(M){M&&u(e),K(m),h=!1,mt($)}}}function Bi(s){let e,t;return e=new Ti({props:{players:s[0]}}),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.players=l[0]),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ci(s){let e,t,l,r,o,n,a,i,c,f,d,v,m,p,h,$,M,w,S,P,U,N,A,I;return v=new st({props:{value:Fe.from(s[1].vouch)}}),w=new st({props:{value:Fe.from(Math.round(ae(s[1],s[4]/1e3,1)+ae(s[1],s[4]/1e3,2))).mul("10000000000000000")}}),{c(){e=y("div"),t=y("div"),l=D(`Vouching Rewards
          `),r=y("button"),o=D("\u2139\uFE0F"),n=H(),a=y("div"),i=y("div"),c=y("div"),f=D("Actual Vouch:"),d=H(),F(v.$$.fragment),m=H(),p=y("div"),h=y("div"),$=D("Potential Vouch:"),M=H(),F(w.$$.fragment),S=H(),P=y("button"),U=D("Update"),this.h()},l(C){e=E(C,"DIV",{});var L=k(e);t=E(L,"DIV",{class:!0});var g=k(t);l=V(g,`Vouching Rewards
          `),r=E(g,"BUTTON",{class:!0});var B=k(r);o=V(B,"\u2139\uFE0F"),B.forEach(u),g.forEach(u),n=z(L),a=E(L,"DIV",{class:!0});var j=k(a);i=E(j,"DIV",{class:!0});var x=k(i);c=E(x,"DIV",{class:!0});var ne=k(c);f=V(ne,"Actual Vouch:"),ne.forEach(u),d=z(x),Q(v.$$.fragment,x),x.forEach(u),m=z(j),p=E(j,"DIV",{class:!0});var te=k(p);h=E(te,"DIV",{class:!0});var le=k(h);$=V(le,"Potential Vouch:"),le.forEach(u),M=z(te),Q(w.$$.fragment,te),te.forEach(u),S=z(j),P=E(j,"BUTTON",{class:!0});var $e=k(P);U=V($e,"Update"),$e.forEach(u),j.forEach(u),L.forEach(u),this.h()},h(){b(r,"class","border-2 border-gray-700"),b(t,"class","text-xl"),b(c,"class","font-bold"),b(i,"class","text-left flex"),b(h,"class","font-bold"),b(p,"class","text-left flex"),b(P,"class","border-2 bg-yellow-400 border-gray-500 p-1"),b(a,"class","p-1")},m(C,L){T(C,e,L),_(e,t),_(t,l),_(t,r),_(r,o),_(e,n),_(e,a),_(a,i),_(i,c),_(c,f),_(i,d),G(v,i,null),_(a,m),_(a,p),_(p,h),_(h,$),_(p,M),G(w,p,null),_(a,S),_(a,P),_(P,U),N=!0,A||(I=[re(r,"click",s[22]),re(P,"click",s[12])],A=!0)},p(C,L){const g={};L&2&&(g.value=Fe.from(C[1].vouch)),v.$set(g);const B={};L&18&&(B.value=Fe.from(Math.round(ae(C[1],C[4]/1e3,1)+ae(C[1],C[4]/1e3,2))).mul("10000000000000000")),w.$set(B)},i(C){N||(O(v.$$.fragment,C),O(w.$$.fragment,C),N=!0)},o(C){R(v.$$.fragment,C),R(w.$$.fragment,C),N=!1},d(C){C&&u(e),K(v),K(w),A=!1,mt(I)}}}function Ni(s){let e,t;return e=new fi({props:{currentPlayer:s[1]}}),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.currentPlayer=l[1]),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Li(s){let e,t;return e=new Xn({props:{currentPlayer:s[1],balance:s[7]}}),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.currentPlayer=l[1]),r&128&&(o.balance=l[7]),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ai(s){let e,t;return e=new vi({props:{player:s[1]}}),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.player=l[1]),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Oi(s){let e,t,l,r,o,n,a,i,c=Math.round(ae(s[1],s[4]/1e3,2))+"",f,d,v,m,p=Math.round(ae(s[1],s[4]/1e3,1))+"",h,$,M,w,S,P,U=Math.round(ae(s[1],s[4]/1e3,1)+ae(s[1],s[4]/1e3,2))+"",N;return{c(){e=y("div"),t=y("div"),l=D("Skills"),r=H(),o=y("div"),n=y("div"),a=y("div"),i=D("\u26CF\uFE0F "),f=D(c),d=H(),v=y("div"),m=D("\u{1FA93} "),h=D(p),$=H(),M=y("div"),w=y("div"),S=D("Total level:"),P=H(),N=D(U),this.h()},l(A){e=E(A,"DIV",{});var I=k(e);t=E(I,"DIV",{class:!0});var C=k(t);l=V(C,"Skills"),C.forEach(u),r=z(I),o=E(I,"DIV",{class:!0});var L=k(o);n=E(L,"DIV",{class:!0});var g=k(n);a=E(g,"DIV",{class:!0});var B=k(a);i=V(B,"\u26CF\uFE0F "),f=V(B,c),B.forEach(u),d=z(g),v=E(g,"DIV",{class:!0});var j=k(v);m=V(j,"\u{1FA93} "),h=V(j,p),j.forEach(u),g.forEach(u),$=z(L),M=E(L,"DIV",{class:!0});var x=k(M);w=E(x,"DIV",{class:!0});var ne=k(w);S=V(ne,"Total level:"),ne.forEach(u),P=z(x),N=V(x,U),x.forEach(u),L.forEach(u),I.forEach(u),this.h()},h(){b(t,"class","text-xl"),b(a,"class","border-2 rounded-lg border-gray-600 m-1 w-full text-center"),b(v,"class","border-2 rounded-lg border-gray-600 m-1 w-full text-center"),b(n,"class","flex"),b(w,"class","inline font-medium"),b(M,"class","border-2 rounded-lg border-gray-600 m-1 text-center"),b(o,"class","text-left text-lg")},m(A,I){T(A,e,I),_(e,t),_(t,l),_(e,r),_(e,o),_(o,n),_(n,a),_(a,i),_(a,f),_(n,d),_(n,v),_(v,m),_(v,h),_(o,$),_(o,M),_(M,w),_(w,S),_(M,P),_(M,N)},p(A,I){I&18&&c!==(c=Math.round(ae(A[1],A[4]/1e3,2))+"")&&Y(f,c),I&18&&p!==(p=Math.round(ae(A[1],A[4]/1e3,1))+"")&&Y(h,p),I&18&&U!==(U=Math.round(ae(A[1],A[4]/1e3,1)+ae(A[1],A[4]/1e3,2))+"")&&Y(N,U)},i:q,o:q,d(A){A&&u(e)}}}function Ui(s){let e,t,l,r,o,n,a=Math.round(s[5])+"",i,c,f=Math.round(s[6])+"",d,v,m,p;function h(w,S){return(p==null||S&98)&&(p=w[5]===parseInt(w[1].endTile.x)&&w[6]===parseInt(w[1].endTile.y)),p?Ri:ji}let $=h(s,-1),M=$(s);return{c(){e=y("div"),t=y("div"),l=D("Status"),r=H(),o=y("div"),n=D("Location: ("),i=D(a),c=D(", "),d=D(f),v=D(")"),m=H(),M.c(),this.h()},l(w){e=E(w,"DIV",{});var S=k(e);t=E(S,"DIV",{class:!0});var P=k(t);l=V(P,"Status"),P.forEach(u),r=z(S),o=E(S,"DIV",{});var U=k(o);n=V(U,"Location: ("),i=V(U,a),c=V(U,", "),d=V(U,f),v=V(U,")"),U.forEach(u),m=z(S),M.l(S),S.forEach(u),this.h()},h(){b(t,"class","text-xl")},m(w,S){T(w,e,S),_(e,t),_(t,l),_(e,r),_(e,o),_(o,n),_(o,i),_(o,c),_(o,d),_(o,v),_(e,m),M.m(e,null)},p(w,S){S&32&&a!==(a=Math.round(w[5])+"")&&Y(i,a),S&64&&f!==(f=Math.round(w[6])+"")&&Y(d,f),$===($=h(w,S))&&M?M.p(w,S):(M.d(1),M=$(w),M&&(M.c(),M.m(e,null)))},i:q,o:q,d(w){w&&u(e),M.d()}}}function ji(s){let e,t,l,r,o,n,a,i=s[1].endTile.x+"",c,f,d=s[1].endTile.y+"",v,m,p,h,$,M=s[13](De(s[5],s[6],parseInt(s[1].endTile.x),parseInt(s[1].endTile.y)))+"",w,S,P,U;return{c(){e=y("div"),t=y("div"),l=D("Walking"),r=H(),o=y("div"),n=y("div"),a=D("Walking to: ("),c=D(i),f=D(", "),v=D(d),m=D(")"),p=H(),h=y("div"),$=D("Distance: "),w=D(M),S=D(` tiles
                `),P=y("div"),U=D("(-0.1 tiles/s)"),this.h()},l(N){e=E(N,"DIV",{class:!0});var A=k(e);t=E(A,"DIV",{});var I=k(t);l=V(I,"Walking"),I.forEach(u),r=z(A),o=E(A,"DIV",{class:!0});var C=k(o);n=E(C,"DIV",{});var L=k(n);a=V(L,"Walking to: ("),c=V(L,i),f=V(L,", "),v=V(L,d),m=V(L,")"),L.forEach(u),p=z(C),h=E(C,"DIV",{});var g=k(h);$=V(g,"Distance: "),w=V(g,M),S=V(g,` tiles
                `),P=E(g,"DIV",{class:!0});var B=k(P);U=V(B,"(-0.1 tiles/s)"),B.forEach(u),g.forEach(u),C.forEach(u),A.forEach(u),this.h()},h(){b(P,"class","inline text-sm text-green-700"),b(o,"class","text-left"),b(e,"class","border-2 border-gray-600")},m(N,A){T(N,e,A),_(e,t),_(t,l),_(e,r),_(e,o),_(o,n),_(n,a),_(n,c),_(n,f),_(n,v),_(n,m),_(o,p),_(o,h),_(h,$),_(h,w),_(h,S),_(h,P),_(P,U)},p(N,A){A&2&&i!==(i=N[1].endTile.x+"")&&Y(c,i),A&2&&d!==(d=N[1].endTile.y+"")&&Y(v,d),A&98&&M!==(M=N[13](De(N[5],N[6],parseInt(N[1].endTile.x),parseInt(N[1].endTile.y)))+"")&&Y(w,M)},d(N){N&&u(e)}}}function Ri(s){let e,t;function l(n,a){return(e==null||a&2)&&(e=oe(parseInt(n[1].endTile.x),parseInt(n[1].endTile.y))===0),e?Hi:qi}let r=l(s,-1),o=r(s);return{c(){o.c(),t=ee()},l(n){o.l(n),t=ee()},m(n,a){o.m(n,a),T(n,t,a)},p(n,a){r===(r=l(n,a))&&o?o.p(n,a):(o.d(1),o=r(n),o&&(o.c(),o.m(t.parentNode,t)))},d(n){o.d(n),n&&u(t)}}}function qi(s){let e,t,l,r,o,n,a,i=(oe(parseInt(s[1].endTile.x),parseInt(s[1].endTile.y))===1?"\u{1FA93}":"\u26CF\uFE0F")+"",c,f,d=Math.round(ae(s[1],s[4]/1e3,oe(parseInt(s[1].endTile.x),parseInt(s[1].endTile.y))))+"",v,m,p,h=(oe(parseInt(s[1].endTile.x),parseInt(s[1].endTile.y))===1?"\u{1FAB5}":"\u{1FAA8}")+"",$,M,w=Math.round(ge(s[1],s[4]/1e3,oe(parseInt(s[1].endTile.x),parseInt(s[1].endTile.y)).toString()))+"",S,P,U;function N(B,j){return(r==null||j&2)&&(r=oe(parseInt(B[1].endTile.x),parseInt(B[1].endTile.y))===1),r?Wi:zi}let A=N(s,-1),I=A(s);function C(B,j){return(U==null||j&2)&&(U=!B[1].balances.some(B[14])),U?Fi:Yi}let L=C(s,-1),g=L(s);return{c(){e=y("div"),t=y("div"),l=D(`Activity:
                `),I.c(),o=H(),n=y("div"),a=y("div"),c=D(i),f=H(),v=D(d),m=H(),p=y("div"),$=D(h),M=H(),S=D(w),P=H(),g.c(),this.h()},l(B){e=E(B,"DIV",{class:!0});var j=k(e);t=E(j,"DIV",{});var x=k(t);l=V(x,`Activity:
                `),I.l(x),x.forEach(u),o=z(j),n=E(j,"DIV",{class:!0});var ne=k(n);a=E(ne,"DIV",{});var te=k(a);c=V(te,i),f=z(te),v=V(te,d),te.forEach(u),m=z(ne),p=E(ne,"DIV",{});var le=k(p);$=V(le,h),M=z(le),S=V(le,w),le.forEach(u),ne.forEach(u),P=z(j),g.l(j),j.forEach(u),this.h()},h(){b(n,"class","text-left"),b(e,"class","border-2 border-gray-600")},m(B,j){T(B,e,j),_(e,t),_(t,l),I.m(t,null),_(e,o),_(e,n),_(n,a),_(a,c),_(a,f),_(a,v),_(n,m),_(n,p),_(p,$),_(p,M),_(p,S),_(e,P),g.m(e,null)},p(B,j){A!==(A=N(B,j))&&(I.d(1),I=A(B),I&&(I.c(),I.m(t,null))),j&2&&i!==(i=(oe(parseInt(B[1].endTile.x),parseInt(B[1].endTile.y))===1?"\u{1FA93}":"\u26CF\uFE0F")+"")&&Y(c,i),j&18&&d!==(d=Math.round(ae(B[1],B[4]/1e3,oe(parseInt(B[1].endTile.x),parseInt(B[1].endTile.y))))+"")&&Y(v,d),j&2&&h!==(h=(oe(parseInt(B[1].endTile.x),parseInt(B[1].endTile.y))===1?"\u{1FAB5}":"\u{1FAA8}")+"")&&Y($,h),j&18&&w!==(w=Math.round(ge(B[1],B[4]/1e3,oe(parseInt(B[1].endTile.x),parseInt(B[1].endTile.y)).toString()))+"")&&Y(S,w),L===(L=C(B,j))&&g?g.p(B,j):(g.d(1),g=L(B),g&&(g.c(),g.m(e,null)))},d(B){B&&u(e),I.d(),g.d()}}}function Hi(s){let e,t;return{c(){e=y("div"),t=D("There's nothing to do here!"),this.h()},l(l){e=E(l,"DIV",{class:!0});var r=k(e);t=V(r,"There's nothing to do here!"),r.forEach(u),this.h()},h(){b(e,"class","border-2 border-gray-600")},m(l,r){T(l,e,r),_(e,t)},p:q,d(l){l&&u(e)}}}function zi(s){let e;return{c(){e=D("Mining")},l(t){e=V(t,"Mining")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function Wi(s){let e;return{c(){e=D("Woodcutting")},l(t){e=V(t,"Woodcutting")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function Yi(s){let e,t,l=(s[1].balances.find(s[17]).item.tools.filter(s[18])?Math.max(...s[1].balances.find(s[19]).item.tools.filter(s[20]).map(s[21])):0)+"",r;return{c(){e=y("div"),t=D("Equipment boost: "),r=D(l),this.h()},l(o){e=E(o,"DIV",{class:!0});var n=k(e);t=V(n,"Equipment boost: "),r=V(n,l),n.forEach(u),this.h()},h(){b(e,"class","text-green-800")},m(o,n){T(o,e,n),_(e,t),_(e,r)},p(o,n){n&2&&l!==(l=(o[1].balances.find(o[17]).item.tools.filter(o[18])?Math.max(...o[1].balances.find(o[19]).item.tools.filter(o[20]).map(o[21])):0)+"")&&Y(r,l)},d(o){o&&u(e)}}}function Fi(s){let e;function t(o,n){if(o[1].endTile.item.id==="1")return Gi;if(o[1].endTile.item.id==="2")return Qi}let l=t(s),r=l&&l(s);return{c(){r&&r.c(),e=ee()},l(o){r&&r.l(o),e=ee()},m(o,n){r&&r.m(o,n),T(o,e,n)},p(o,n){l!==(l=t(o))&&(r&&r.d(1),r=l&&l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){r&&r.d(o),o&&u(e)}}}function Qi(s){let e,t;return{c(){e=y("div"),t=D("You do not have a pickaxe."),this.h()},l(l){e=E(l,"DIV",{class:!0});var r=k(e);t=V(r,"You do not have a pickaxe."),r.forEach(u),this.h()},h(){b(e,"class","text-red-500")},m(l,r){T(l,e,r),_(e,t)},d(l){l&&u(e)}}}function Gi(s){let e,t;return{c(){e=y("div"),t=D("You do not have an axe."),this.h()},l(l){e=E(l,"DIV",{class:!0});var r=k(e);t=V(r,"You do not have an axe."),r.forEach(u),this.h()},h(){b(e,"class","text-red-500")},m(l,r){T(l,e,r),_(e,t)},d(l){l&&u(e)}}}function Ki(s){let e,t,l,r=s[8].address.slice(0,4)+"",o,n,a=s[8].address.slice(-4)+"",i,c,f,d,v,m,p,h,$,M,w=s[3]&&yl(s);f=new kt({props:{address:s[8].address,class:"m-1 h-6 w-6"}});let S=["\u{1F3AE}","\u{1F4CA}","\u{1F392}","\u{1F3EA}","\u{1F6E0}\uFE0F","\u{1F3E6}","\u{1F3C5}","\u2699\uFE0F"],P=[];for(let I=0;I<8;I+=1)P[I]=El(Il(s,S,I));const U=[Ui,Oi,Ai,Li,Ni,Ci,Bi,Si],N=[];function A(I,C){return I[2]===0?0:I[2]===1?1:I[2]===2?2:I[2]===3?3:I[2]===4?4:I[2]===5?5:I[2]===6?6:7}return h=A(s),$=N[h]=U[h](s),{c(){e=y("div"),w&&w.c(),t=H(),l=y("div"),o=D(r),n=D("..."),i=D(a),c=H(),F(f.$$.fragment),d=H(),v=y("div");for(let I=0;I<8;I+=1)P[I].c();m=H(),p=y("div"),$.c(),this.h()},l(I){e=E(I,"DIV",{class:!0});var C=k(e);w&&w.l(C),t=z(C),l=E(C,"DIV",{class:!0});var L=k(l);o=V(L,r),n=V(L,"..."),i=V(L,a),c=z(L),Q(f.$$.fragment,L),L.forEach(u),d=z(C),v=E(C,"DIV",{class:!0});var g=k(v);for(let j=0;j<8;j+=1)P[j].l(g);g.forEach(u),m=z(C),p=E(C,"DIV",{class:!0});var B=k(p);$.l(B),B.forEach(u),C.forEach(u),this.h()},h(){b(l,"class","flex text-2xl justify-center p-2"),b(v,"class","flex text-2xl justify-start"),b(p,"class","border-2 border-gray-700 p-2 h-full"),b(e,"class","flex flex-col text-center bg-neutral-300 w-64 h-72")},m(I,C){T(I,e,C),w&&w.m(e,null),_(e,t),_(e,l),_(l,o),_(l,n),_(l,i),_(l,c),G(f,l,null),_(e,d),_(e,v);for(let L=0;L<8;L+=1)P[L].m(v,null);_(e,m),_(e,p),N[h].m(p,null),M=!0},p(I,[C]){I[3]?w?(w.p(I,C),C&8&&O(w,1)):(w=yl(I),w.c(),O(w,1),w.m(e,t)):w&&(X(),R(w,1,1,()=>{w=null}),J()),(!M||C&256)&&r!==(r=I[8].address.slice(0,4)+"")&&Y(o,r),(!M||C&256)&&a!==(a=I[8].address.slice(-4)+"")&&Y(i,a);const L={};if(C&256&&(L.address=I[8].address),f.$set(L),C&4){S=["\u{1F3AE}","\u{1F4CA}","\u{1F392}","\u{1F3EA}","\u{1F6E0}\uFE0F","\u{1F3E6}","\u{1F3C5}","\u2699\uFE0F"];let B;for(B=0;B<8;B+=1){const j=Il(I,S,B);P[B]?P[B].p(j,C):(P[B]=El(j),P[B].c(),P[B].m(v,null))}for(;B<8;B+=1)P[B].d(1)}let g=h;h=A(I),h===g?N[h].p(I,C):(X(),R(N[g],1,1,()=>{N[g]=null}),J(),$=N[h],$?$.p(I,C):($=N[h]=U[h](I),$.c()),O($,1),$.m(p,null))},i(I){M||(O(w),O(f.$$.fragment,I),O($),M=!0)},o(I){R(w),R(f.$$.fragment,I),R($),M=!1},d(I){I&&u(e),w&&w.d(),K(f),_e(P,I),N[h].d()}}}function Zi(s,e,t){let l;he(s,Ae,L=>t(8,l=L));let{players:r}=e,{currentPlayer:o}=e;async function n(){await de.execute(L=>L.DAI.mint(l.address,"100000000000000000000"))}async function a(){await de.execute(L=>L.DAI.approve(L.UnionQuest.address,"100000000000000000000000000000000"))}async function i(){await de.execute(L=>L.UnionQuest.setApprovalForAll(L.UnionQuest.address,!0))}async function c(){await de.execute(L=>L.UnionQuest.updateTrust(l.address))}let f=0,d=!1,v=Date.now(),m=0,p=0,h=Fe.from("0");const $=L=>Math.round(L*10)/10;ze(()=>{de.execute(g=>g.DAI.balanceOf(l.address).then(B=>t(7,h=B)));const L=setInterval(()=>{t(4,v=Date.now()),o&&t(5,[m,p]=we(o,v/1e3),m,t(6,p))},100);return()=>{clearInterval(L)}});const M=L=>o.endTile.item.tools.some(g=>g.tool.id===L.item.id)&&parseInt(L.value)>0,w=()=>t(3,d=!1),S=L=>t(2,f=L),P=L=>L.item.id===o.endTile.item.id,U=L=>o.balances.some(g=>L.tool.id===g.item.id&&parseInt(g.value)>0),N=L=>L.item.id===o.endTile.item.id,A=L=>o.balances.some(g=>L.tool.id===g.item.id&&parseInt(g.value)>0),I=L=>parseInt(L.bonus),C=()=>t(3,d=!0);return s.$$set=L=>{"players"in L&&t(0,r=L.players),"currentPlayer"in L&&t(1,o=L.currentPlayer)},[r,o,f,d,v,m,p,h,l,n,a,i,c,$,M,w,S,P,U,N,A,I,C]}class Xi extends ce{constructor(e){super();fe(this,e,Zi,Ki,ue,{players:0,currentPlayer:1})}}function Dl(s){let e,t;return e=new Ee({props:{title:`Tile (${s[1]},${s[2]})`,closeButton:!0,$$slots:{default:[ls]},$$scope:{ctx:s}}}),e.$on("close",s[8]),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&6&&(o.title=`Tile (${l[1]},${l[2]})`),r&542&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ji(s){let e,t;return{c(){e=y("div"),t=D("You need to join the game first!")},l(l){e=E(l,"DIV",{});var r=k(e);t=V(r,"You need to join the game first!"),r.forEach(u)},m(l,r){T(l,e,r),_(e,t)},p:q,d(l){l&&u(e)}}}function xi(s){let e,t,l,r=s[5](De(s[1],s[2],we(s[3],s[4]/1e3)[0],we(s[3],s[4]/1e3)[1]))+"",o,n,a,i,c,f,d=s[5](Tl*De(s[1],s[2],we(s[3],s[4]/1e3)[0],we(s[3],s[4]/1e3)[1]))+"",v,m,p,h,$,M,w,S,P,U,N;function A(L,g){return(M==null||g&6)&&(M=oe(L[1],L[2])!==0),M?ts:es}let I=A(s,-1),C=I(s);return{c(){e=y("div"),t=y("div"),l=D("This tile is "),o=D(r),n=D(" unit(s) from you."),a=H(),i=y("div"),c=D(`It will take
                `),f=y("span"),v=D(d),m=D(" seconds"),p=D(`
                to walk here.`),h=H(),$=y("div"),C.c(),w=H(),S=y("button"),P=D("MOVE HERE"),this.h()},l(L){e=E(L,"DIV",{class:!0});var g=k(e);t=E(g,"DIV",{});var B=k(t);l=V(B,"This tile is "),o=V(B,r),n=V(B," unit(s) from you."),B.forEach(u),a=z(g),i=E(g,"DIV",{});var j=k(i);c=V(j,`It will take
                `),f=E(j,"SPAN",{class:!0});var x=k(f);v=V(x,d),m=V(x," seconds"),x.forEach(u),p=V(j,`
                to walk here.`),j.forEach(u),h=z(g),$=E(g,"DIV",{});var ne=k($);C.l(ne),ne.forEach(u),w=z(g),S=E(g,"BUTTON",{class:!0,type:!0});var te=k(S);P=V(te,"MOVE HERE"),te.forEach(u),g.forEach(u),this.h()},h(){b(f,"class","font-bold"),b(S,"class","flex-shrink-0 bg-yellow-500 hover:bg-yellow-600 border-yellow-500 hover:border-yellow-600 text-sm border-4 text-white py-1 px-2 rounded disabled:bg-gray-400 disabled:border-gray-400 disabled:cursor-not-allowed m-1"),b(S,"type","button"),b(e,"class","p-1")},m(L,g){T(L,e,g),_(e,t),_(t,l),_(t,o),_(t,n),_(e,a),_(e,i),_(i,c),_(i,f),_(f,v),_(f,m),_(i,p),_(e,h),_(e,$),C.m($,null),_(e,w),_(e,S),_(S,P),U||(N=re(S,"click",s[7]),U=!0)},p(L,g){g&30&&r!==(r=L[5](De(L[1],L[2],we(L[3],L[4]/1e3)[0],we(L[3],L[4]/1e3)[1]))+"")&&Y(o,r),g&30&&d!==(d=L[5](Tl*De(L[1],L[2],we(L[3],L[4]/1e3)[0],we(L[3],L[4]/1e3)[1]))+"")&&Y(v,d),I===(I=A(L,g))&&C?C.p(L,g):(C.d(1),C=I(L),C&&(C.c(),C.m($,null)))},d(L){L&&u(e),C.d(),U=!1,N()}}}function es(s){let e;return{c(){e=D("There are no resources on this tile.")},l(t){e=V(t,"There are no resources on this tile.")},m(t,l){T(t,e,l)},p:q,d(t){t&&u(e)}}}function ts(s){let e,t=(oe(s[1],s[2])===1?"\u{1FAB5}":"\u{1FAA8}")+"",l,r;return{c(){e=D("Once you arrive, you will start gathering "),l=D(t),r=D(".")},l(o){e=V(o,"Once you arrive, you will start gathering "),l=V(o,t),r=V(o,".")},m(o,n){T(o,e,n),T(o,l,n),T(o,r,n)},p(o,n){n&6&&t!==(t=(oe(o[1],o[2])===1?"\u{1FAB5}":"\u{1FAA8}")+"")&&Y(l,t)},d(o){o&&u(e),o&&u(l),o&&u(r)}}}function Vl(s){let e,t;return{c(){e=y("div"),t=D("This is the spawn tile. All new players enter the UnionQuest world from here."),this.h()},l(l){e=E(l,"DIV",{class:!0});var r=k(e);t=V(r,"This is the spawn tile. All new players enter the UnionQuest world from here."),r.forEach(u),this.h()},h(){b(e,"class","italic")},m(l,r){T(l,e,r),_(e,t)},d(l){l&&u(e)}}}function ls(s){let e,t,l;function r(i,c){return i[3]?xi:Ji}let o=r(s),n=o(s),a=s[1]===0&&s[2]===0&&Vl();return{c(){e=y("div"),t=y("div"),n.c(),l=H(),a&&a.c(),this.h()},l(i){e=E(i,"DIV",{class:!0});var c=k(e);t=E(c,"DIV",{class:!0});var f=k(t);n.l(f),l=z(f),a&&a.l(f),f.forEach(u),c.forEach(u),this.h()},h(){b(t,"class","p-2 border-2 border-gray-400 h-full"),b(e,"class","flex flex-col border-2 border-gray-400 text-center")},m(i,c){T(i,e,c),_(e,t),n.m(t,null),_(t,l),a&&a.m(t,null)},p(i,c){o===(o=r(i))&&n?n.p(i,c):(n.d(1),n=o(i),n&&(n.c(),n.m(t,l))),i[1]===0&&i[2]===0?a||(a=Vl(),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(i){i&&u(e),n.d(),a&&a.d()}}}function rs(s){let e,t,l=s[0]&&Dl(s);return{c(){e=y("div"),l&&l.c()},l(r){e=E(r,"DIV",{});var o=k(e);l&&l.l(o),o.forEach(u)},m(r,o){T(r,e,o),l&&l.m(e,null),t=!0},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&O(l,1)):(l=Dl(r),l.c(),O(l,1),l.m(e,null)):l&&(X(),R(l,1,1,()=>{l=null}),J())},i(r){t||(O(l),t=!0)},o(r){R(l),t=!1},d(r){r&&u(e),l&&l.d()}}}const Tl=10;function ns(s,e,t){let{x:l}=e,{y:r}=e,{currentPlayer:o}=e,{showModal:n}=e;const a=v=>Math.round(v*10)/10;async function i(v,m){await de.execute(p=>p.UnionQuest.move(v,m,{gasLimit:"150000"}))}let c=Date.now();ze(()=>{const v=setInterval(()=>{t(4,c=Date.now())},100);return()=>{clearInterval(v)}});const f=()=>i(l,r),d=()=>t(0,n=!1);return s.$$set=v=>{"x"in v&&t(1,l=v.x),"y"in v&&t(2,r=v.y),"currentPlayer"in v&&t(3,o=v.currentPlayer),"showModal"in v&&t(0,n=v.showModal)},[n,l,r,o,c,a,i,f,d]}class is extends ce{constructor(e){super();fe(this,e,ns,rs,ue,{x:1,y:2,currentPlayer:3,showModal:0})}}function Ml(s,e,t){const l=s.slice();return l[24]=e[t],l}function Pl(s){let e,t;return e=new kt({props:{class:"hidden",address:s[24].id}}),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.address=l[24].id),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ss(s){let e,t,l,r,o,n,a;function i(m){s[6](m)}let c={x:s[3]+.5,y:s[4]+.5,currentPlayer:s[1]};s[5]!==void 0&&(c.showModal=s[5]),t=new is({props:c}),nt.push(()=>Zl(t,"showModal",i));let f=s[0],d=[];for(let m=0;m<f.length;m+=1)d[m]=Pl(Ml(s,f,m));const v=m=>R(d[m],1,1,()=>{d[m]=null});return{c(){e=y("div"),F(t.$$.fragment),r=H(),o=y("canvas"),n=H();for(let m=0;m<d.length;m+=1)d[m].c();this.h()},l(m){e=E(m,"DIV",{});var p=k(e);Q(t.$$.fragment,p),r=z(p),o=E(p,"CANVAS",{class:!0}),k(o).forEach(u),n=z(p);for(let h=0;h<d.length;h+=1)d[h].l(p);p.forEach(u),this.h()},h(){b(o,"class","svelte-1up74zk")},m(m,p){T(m,e,p),G(t,e,null),_(e,r),_(e,o),s[7](o),_(e,n);for(let h=0;h<d.length;h+=1)d[h].m(e,null);a=!0},p(m,[p]){const h={};if(p&8&&(h.x=m[3]+.5),p&16&&(h.y=m[4]+.5),p&2&&(h.currentPlayer=m[1]),!l&&p&32&&(l=!0,h.showModal=m[5],Xl(()=>l=!1)),t.$set(h),p&1){f=m[0];let $;for($=0;$<f.length;$+=1){const M=Ml(m,f,$);d[$]?(d[$].p(M,p),O(d[$],1)):(d[$]=Pl(M),d[$].c(),O(d[$],1),d[$].m(e,null))}for(X(),$=f.length;$<d.length;$+=1)v($);J()}},i(m){if(!a){O(t.$$.fragment,m);for(let p=0;p<f.length;p+=1)O(d[p]);a=!0}},o(m){R(t.$$.fragment,m),d=d.filter(Boolean);for(let p=0;p<d.length;p+=1)R(d[p]);a=!1},d(m){m&&u(e),K(t),s[7](null),_e(d,m)}}}const os=25,as=100,cs=.5,Sl=6;function Be(s){if(s.touches&&s.touches.length==1)return{x:s.touches[0].clientX,y:s.touches[0].clientY};if(s.clientX&&s.clientY)return{x:s.clientX,y:s.clientY}}function fs(s,e,t){let{players:l}=e,{currentPlayer:r}=e,o=Date.now(),n,a=50,i,c=!1,f={x:0,y:0},d={x:0,y:0},v,m,p=!1,h={};const $=()=>{t(2,n.width=window.innerWidth,n),t(2,n.height=window.innerHeight,n);let g=n.getContext("2d");g.translate(window.innerWidth/2,window.innerHeight/2),g.scale(a,a),g.translate(-window.innerWidth/2+i.x,-window.innerHeight/2+i.y),g.clearRect(0,0,window.innerWidth,window.innerHeight),g.strokeStyle="#BBBBBB",g.lineWidth=.01,g.font="1px Arial";for(let B=-50;B<50;B++)for(let j=-50;j<50;j++)g.fillStyle="#808080",g.fillRect(B-.5,j-.5,1,1),g.fillText("\u26F0\uFE0F",B-.5,j+.5);for(let B=-9;B<11;B++)for(let j=-9;j<11;j++)h[B]||(h[B]={}),h[B][j]||(h[B][j]=oe(B,j)),B===0&&j===0?(g.fillStyle="#1CA3EC",g.fillRect(B-.5,j-.5,1,1),g.fillText("\u{1F3F0}",B-.5,j+.5)):h[B][j]===1?(g.fillStyle="#22c55e",g.fillRect(B-.5,j-.5,1,1),g.fillText("\u{1F332}",B-.5,j+.5)):h[B][j]===2?(g.fillStyle="#cd9575",g.fillRect(B-.5,j-.5,1,1),g.fillText("\u{1FAA8}",B-.5,j+.5)):(g.fillStyle="#59A608",g.fillRect(B-.5,j-.5,1,1)),g.strokeRect(B-.5,j-.5,1,1);if(g.lineWidth=.04,r){g.strokeStyle="#FF0000",g.strokeRect(parseInt(r.endTile.x)-.5,parseInt(r.endTile.y)-.5,1,1),g.fillStyle="#FF0000";const B=we(r,o/1e3);g.beginPath(),g.moveTo(B[0],B[1]),g.lineTo(parseInt(r.endTile.x),parseInt(r.endTile.y)),g.stroke()}l.forEach(B=>{const j=we(B,o/1e3);let x=document.getElementById(B.id);g.drawImage(x,j[0]-.25,j[1]-.25,.5,.5),g.strokeStyle="#ffffff",g.strokeRect(j[0]-.25,j[1]-.25,.5,.5),j[0]===parseInt(B.endTile.x)&&j[1]===parseInt(B.endTile.y)&&oe(parseInt(B.endTile.x),parseInt(B.endTile.y))&&(oe(parseInt(B.endTile.x),parseInt(B.endTile.y))===1?g.fillText("\u{1FA93}",j[0],j[1]):g.fillText("\u26CF\uFE0F",j[0],j[1]))}),g.strokeStyle="#0000FF",g.strokeRect(v,m,1,1)};function M(g){c=!0,f.x=Be(g).x/a-i.x,f.y=Be(g).y/a-i.y,d.x=Be(g).x,d.y=Be(g).y}function w(g){Math.abs(d.x-Be(g).x)<Sl&&Math.abs(d.y-Be(g).y)<Sl&&t(5,p=!0),c=!1,U=null,N=a}function S(g){c&&(i.x=Be(g).x/a-f.x,i.y=Be(g).y/a-f.y);let B=n.getBoundingClientRect();t(3,v=Math.floor((g.clientX-B.left-window.innerWidth/2)/a+(window.innerWidth/2-i.x)+.5)-.5),t(4,m=Math.floor((g.clientY-B.left-window.innerHeight/2)/a+(window.innerHeight/2-i.y)-.5)+.5)}function P(g,B){g.touches.length==1?B(g):g.type=="touchmove"&&g.touches.length==2&&(c=!1,A(g))}let U=null,N=a;function A(g){g.preventDefault();let B={x:g.touches[0].clientX,y:g.touches[0].clientY},j={x:g.touches[1].clientX,y:g.touches[1].clientY},x=(B.x-j.x)**2+(B.y-j.y)**2;U==null?U=x:I(null,x/U)}function I(g,B){c||(g?a+=g:B&&(a=B*N),a=Math.min(a,as),a=Math.max(a,os))}ze(()=>{i={x:window.innerWidth/2,y:window.innerHeight/2},n.addEventListener("mousedown",M),n.addEventListener("touchstart",j=>P(j,M)),n.addEventListener("mouseup",w),n.addEventListener("touchend",j=>P(j,w)),n.addEventListener("mousemove",S),n.addEventListener("touchmove",j=>P(j,S)),n.addEventListener("wheel",j=>I(-j.deltaY*cs));const g=setInterval(()=>{o=Date.now()},10);function B(){$(),requestAnimationFrame(B)}return requestAnimationFrame(B),()=>{clearInterval(g)}});function C(g){p=g,t(5,p)}function L(g){nt[g?"unshift":"push"](()=>{n=g,t(2,n)})}return s.$$set=g=>{"players"in g&&t(0,l=g.players),"currentPlayer"in g&&t(1,r=g.currentPlayer)},[l,r,n,v,m,p,C,L]}class us extends ce{constructor(e){super();fe(this,e,fs,ss,ue,{players:0,currentPlayer:1})}}function ds(s){let e,t,l,r,o,n,a,i,c,f,d;e=new us({props:{players:s[0].data,currentPlayer:s[0].data.find(s[4])}}),o=new Oe({props:{href:lr("/"),label:"Home",$$slots:{default:[ps]},$$scope:{ctx:s}}});const v=[gs,bs],m=[];function p(h,$){return(i==null||$&3)&&(i=!!(h[1].address&&h[0].data.find(h[3]))),i?0:1}return c=p(s,-1),f=m[c]=v[c](s),{c(){F(e.$$.fragment),t=H(),l=y("div"),r=y("div"),F(o.$$.fragment),n=H(),a=y("div"),f.c(),this.h()},l(h){Q(e.$$.fragment,h),t=z(h),l=E(h,"DIV",{class:!0});var $=k(l);r=E($,"DIV",{class:!0});var M=k(r);Q(o.$$.fragment,M),M.forEach(u),n=z($),a=E($,"DIV",{class:!0});var w=k(a);f.l(w),w.forEach(u),$.forEach(u),this.h()},h(){b(r,"class","fixed bottom-0 left-0 m-2 svelte-8b44jz"),b(a,"class","fixed bottom-0 right-0 border-8 border-double border-gray-700 bg-gray-300 p-1 svelte-8b44jz"),b(l,"class","relative svelte-8b44jz")},m(h,$){G(e,h,$),T(h,t,$),T(h,l,$),_(l,r),G(o,r,null),_(l,n),_(l,a),m[c].m(a,null),d=!0},p(h,$){const M={};$&1&&(M.players=h[0].data),$&3&&(M.currentPlayer=h[0].data.find(h[4])),e.$set(M);const w={};$&128&&(w.$$scope={dirty:$,ctx:h}),o.$set(w);let S=c;c=p(h,$),c===S?m[c].p(h,$):(X(),R(m[S],1,1,()=>{m[S]=null}),J(),f=m[c],f?f.p(h,$):(f=m[c]=v[c](h),f.c()),O(f,1),f.m(a,null))},i(h){d||(O(e.$$.fragment,h),O(o.$$.fragment,h),O(f),d=!0)},o(h){R(e.$$.fragment,h),R(o.$$.fragment,h),R(f),d=!1},d(h){K(e,h),h&&u(t),h&&u(l),K(o),m[c].d()}}}function _s(s){let e,t;return{c(){e=y("div"),t=D("Players failed to load!"),this.h()},l(l){e=E(l,"DIV",{class:!0});var r=k(e);t=V(r,"Players failed to load!"),r.forEach(u),this.h()},h(){b(e,"class","svelte-8b44jz")},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function hs(s){let e,t;return{c(){e=y("div"),t=D("Loading Map..."),this.h()},l(l){e=E(l,"DIV",{class:!0});var r=k(e);t=V(r,"Loading Map..."),r.forEach(u),this.h()},h(){b(e,"class","svelte-8b44jz")},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function vs(s){let e,t,l=s[0].error+"",r;return{c(){e=y("div"),t=D("Error: "),r=D(l),this.h()},l(o){e=E(o,"DIV",{class:!0});var n=k(e);t=V(n,"Error: "),r=V(n,l),n.forEach(u),this.h()},h(){b(e,"class","svelte-8b44jz")},m(o,n){T(o,e,n),_(e,t),_(e,r)},p(o,n){n&1&&l!==(l=o[0].error+"")&&Y(r,l)},i:q,o:q,d(o){o&&u(e)}}}function ms(s){let e,t;return{c(){e=y("div"),t=D("Messages not loaded"),this.h()},l(l){e=E(l,"DIV",{class:!0});var r=k(e);t=V(r,"Messages not loaded"),r.forEach(u),this.h()},h(){b(e,"class","svelte-8b44jz")},m(l,r){T(l,e,r),_(e,t)},p:q,i:q,o:q,d(l){l&&u(e)}}}function ps(s){let e,t;return{c(){e=ie("svg"),t=ie("path"),this.h()},l(l){e=se(l,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var r=k(e);t=se(r,"path",{d:!0,class:!0}),k(t).forEach(u),r.forEach(u),this.h()},h(){b(t,"d","M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"),b(t,"class","svelte-8b44jz"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"class","h-5 w-5 svelte-8b44jz"),b(e,"viewBox","0 0 20 20"),b(e,"fill","currentColor")},m(l,r){T(l,e,r),_(e,t)},d(l){l&&u(e)}}}function bs(s){let e,t,l,r;return{c(){e=y("button"),t=D("Click here to join the game!"),this.h()},l(o){e=E(o,"BUTTON",{class:!0,type:!0});var n=k(e);t=V(n,"Click here to join the game!"),n.forEach(u),this.h()},h(){b(e,"class","flex-shrink-0 bg-yellow-500 hover:bg-yellow-600 border-yellow-500 hover:border-yellow-600 text-xl border-4 text-white py-1 px-2 rounded disabled:bg-gray-400 disabled:border-gray-400 disabled:cursor-not-allowed svelte-8b44jz"),b(e,"type","button")},m(o,n){T(o,e,n),_(e,t),l||(r=re(e,"click",s[6]),l=!0)},p:q,i:q,o:q,d(o){o&&u(e),l=!1,r()}}}function gs(s){let e,t;return e=new Xi({props:{players:s[0].data,currentPlayer:s[0].data.find(s[5])}}),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){const o={};r&1&&(o.players=l[0].data),r&3&&(o.currentPlayer=l[0].data.find(l[5])),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ks(s){let e,t,l,r;const o=[ms,vs,hs,_s,ds],n=[];function a(i,c){return i[0].step?i[0].error?1:i[0].step==="LOADING"?2:i[0].data?4:3:0}return e=a(s),t=n[e]=o[e](s),{c(){t.c(),l=ee()},l(i){t.l(i),l=ee()},m(i,c){n[e].m(i,c),T(i,l,c),r=!0},p(i,c){let f=e;e=a(i),e===f?n[e].p(i,c):(X(),R(n[f],1,1,()=>{n[f]=null}),J(),t=n[e],t?t.p(i,c):(t=n[e]=o[e](i),t.c()),O(t,1),t.m(l.parentNode,l))},i(i){r||(O(t),r=!0)},o(i){R(t),r=!1},d(i){n[e].d(i),i&&u(l)}}}function $s(s){let e,t,l,r,o;return r=new ln({props:{$$slots:{default:[ks]},$$scope:{ctx:s}}}),{c(){e=ie("symbol"),t=ie("path"),l=H(),F(r.$$.fragment),this.h()},l(n){e=se(n,"symbol",{id:!0,viewBox:!0,class:!0});var a=k(e);t=se(a,"path",{d:!0,class:!0}),k(t).forEach(u),a.forEach(u),l=z(n),Q(r.$$.fragment,n),this.h()},h(){b(t,"d","M12 4c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4s-4-1.791-4-4zM24.719 16c0 0 0 0 0 0 0-1.812 1.469-3.281 3.281-3.281s3.281 1.469 3.281 3.281c0 0 0 0 0 0 0 1.812-1.469 3.281-3.281 3.281s-3.281-1.469-3.281-3.281zM21.513 24.485c0-1.641 1.331-2.972 2.972-2.972s2.972 1.331 2.972 2.972c0 1.641-1.331 2.972-2.972 2.972s-2.972-1.331-2.972-2.972zM13.308 28c0-1.487 1.205-2.692 2.692-2.692s2.692 1.205 2.692 2.692c0 1.487-1.205 2.692-2.692 2.692s-2.692-1.205-2.692-2.692zM5.077 24.485c0-1.346 1.092-2.438 2.438-2.438s2.438 1.092 2.438 2.438c0 1.346-1.092 2.438-2.438 2.438s-2.438-1.092-2.438-2.438zM1.792 16c0-1.22 0.989-2.208 2.208-2.208s2.208 0.989 2.208 2.208c0 1.22-0.989 2.208-2.208 2.208s-2.208-0.989-2.208-2.208zM5.515 7.515c0 0 0 0 0 0 0-1.105 0.895-2 2-2s2 0.895 2 2c0 0 0 0 0 0 0 1.105-0.895 2-2 2s-2-0.895-2-2zM28.108 7.515c0 2.001-1.622 3.623-3.623 3.623s-3.623-1.622-3.623-3.623c0-2.001 1.622-3.623 3.623-3.623s3.623 1.622 3.623 3.623z"),b(t,"class","svelte-8b44jz"),b(e,"id","icon-spinner6"),b(e,"viewBox","0 0 32 32"),b(e,"class","svelte-8b44jz")},m(n,a){T(n,e,a),_(e,t),T(n,l,a),G(r,n,a),o=!0},p(n,[a]){const i={};a&131&&(i.$$scope={dirty:a,ctx:n}),r.$set(i)},i(n){o||(O(r.$$.fragment,n),o=!0)},o(n){R(r.$$.fragment,n),o=!1},d(n){n&&u(e),n&&u(l),K(r,n)}}}function ws(s,e,t){let l,r;he(s,un,f=>t(0,l=f)),he(s,Ae,f=>t(1,r=f));async function o(){await de.execute(f=>f.UnionQuest.move(0,0))}return[l,r,o,f=>f.id===r.address.toLowerCase(),f=>r.address?f.id===r.address.toLowerCase():!1,f=>r.address?f.id===r.address.toLowerCase():!1,()=>o()]}class Ms extends ce{constructor(e){super();fe(this,e,ws,$s,ue,{})}}export{Ms as default};
//# sourceMappingURL=map.svelte-6aa35081.js.map
