var Ot=Object.defineProperty;var nt=Object.getOwnPropertySymbols;var jt=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable;var it=(s,e,t)=>e in s?Ot(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Ve=(s,e)=>{for(var t in e||(e={}))jt.call(e,t)&&it(s,t,e[t]);if(nt)for(var t of nt(e))Xt.call(e,t)&&it(s,t,e[t]);return s};import{S as ge,i as we,s as $e,e as E,c as y,a as g,d as h,b,$ as ot,f as P,J as B,r as Rt,a0 as Ue,F as pe,j as N,t as $,G as me,l as Y,g as I,H as u,I as ie,h as G,P as He,R as qe,T as ze,U as We,p as j,n as H,N as Qe,K as Ht,a1 as qt,a2 as zt,k as re,m as fe,o as ue,L as Ie,Z as at,v as x,w as ee,x as te,A as le,M as Ge,a3 as Me,a4 as Wt,a5 as Qt,a6 as Fe,a7 as Gt,a8 as ct,a9 as Ft,aa as Kt,ab as Zt,C as Jt,E as xt,ac as Ke,ad as el,ae as Ze,af as tl,u as Oe,ag as ll,ah as rl,ai as sl}from"../chunks/vendor-ec6c92af.js";import{b as nl,w as Te,f as be,c as Be,d as il,e as ol,h as Ne,i as al,t as Je,j as xe}from"../chunks/wallet-8d8cfc10.js";import{N as Se,u as cl}from"../chunks/url-d3f08647.js";import{b as et}from"../chunks/paths-28a87002.js";/* empty css                                                            */function fl(s){let e,t,l;return{c(){e=E("canvas"),this.h()},l(r){e=y(r,"CANVAS",{class:!0,id:!0}),g(e).forEach(h),this.h()},h(){b(e,"class",t=""+(ot(s[0])+" svelte-1ac911f")),b(e,"id",l=s[1].toLowerCase())},m(r,i){P(r,e,i),s[4](e)},p(r,[i]){i&1&&t!==(t=""+(ot(r[0])+" svelte-1ac911f"))&&b(e,"class",t),i&2&&l!==(l=r[1].toLowerCase())&&b(e,"id",l)},i:B,o:B,d(r){r&&h(e),s[4](null)}}}function ul(s,e,t,l,r,i){const n=Math.sqrt(e.length),a=n*l;s.width=a,s.height=a;const o=s.getContext("2d");if(o){o.fillStyle=r,o.fillRect(0,0,s.width,s.height),o.fillStyle=t;for(let f=0;f<e.length;f++)if(o.fillStyle=e[f]===1?t:i,e[f]){const c=Math.floor(f/n),d=f%n;o.fillRect(d*l,c*l,l,l)}}else console.error("could not create 2d context for Blockie canvas")}function dl(s,e,t){let{class:l=""}=e,{address:r}=e,{scale:i=4}=e,n,a;const o=new Array(4);function f(_){for(let m=0;m<o.length;m++)o[m]=0;for(let m=0;m<_.length;m++)o[m%4]=(o[m%4]<<5)-o[m%4]+_.charCodeAt(m)}function c(){const _=o[0]^o[0]<<11;return o[0]=o[1],o[1]=o[2],o[2]=o[3],o[3]=o[3]^o[3]>>19^_^_>>8,(o[3]>>>0)/(1<<31>>>0)}function d(){const _=Math.floor(c()*360),m=c()*60+40+"%",w=(c()+c()+c()+c())*25+"%";return"hsl("+_+","+m+","+w+")"}function v(_){const m=_,w=_,M=Math.ceil(m/2),D=m-M,A=[];for(let U=0;U<w;U++){let S=[];for(let T=0;T<M;T++)S[T]=Math.floor(c()*2.3);const L=S.slice(0,D);L.reverse(),S=S.concat(L);for(let T=0;T<S.length;T++)A.push(S[T])}return A}function p(){if(n&&n.address===r&&n.scale===i)return;n={address:r,scale:i},f(r&&r.toLowerCase()||"0x0000000000000000000000000000000000000000");const _=d(),m=d(),w=d(),M=v(8);ul(a,M,_,i,m,w)}Rt(p);function k(_){Ue[_?"unshift":"push"](()=>{a=_,t(2,a)})}return s.$$set=_=>{"class"in _&&t(0,l=_.class),"address"in _&&t(1,r=_.address),"scale"in _&&t(3,i=_.scale)},[l,r,a,i,k]}class ft extends ge{constructor(e){super();we(this,e,dl,fl,$e,{class:0,address:1,scale:3})}}const{window:hl}=zt,_l=s=>({}),ut=s=>({});function dt(s){let e,t,l,r,i,n,a,o;return{c(){e=E("div"),t=pe("svg"),l=pe("path"),r=N(),i=E("span"),n=$("(Esc)"),this.h()},l(f){e=y(f,"DIV",{class:!0});var c=g(e);t=me(c,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var d=g(t);l=me(d,"path",{d:!0}),g(l).forEach(h),d.forEach(h),r=Y(c),i=y(c,"SPAN",{class:!0});var v=g(i);n=I(v,"(Esc)"),v.forEach(h),c.forEach(h),this.h()},h(){b(l,"d","M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"),b(t,"class","fill-current text-white"),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"width","18"),b(t,"height","18"),b(t,"viewBox","0 0 18 18"),b(i,"class","text-sm"),b(e,"class","modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-sm")},m(f,c){P(f,e,c),u(e,t),u(t,l),u(e,r),u(e,i),u(i,n),a||(o=ie(e,"click",s[4]),a=!0)},p:B,d(f){f&&h(e),a=!1,o()}}}function ht(s){let e,t;return{c(){e=E("p"),t=$(s[2]),this.h()},l(l){e=y(l,"P",{class:!0});var r=g(e);t=I(r,s[2]),r.forEach(h),this.h()},h(){b(e,"class","text-2xl font-bold")},m(l,r){P(l,e,r),u(e,t)},p(l,r){r&4&&G(t,l[2])},d(l){l&&h(e)}}}function _t(s){let e,t,l,r,i;return{c(){e=E("div"),t=pe("svg"),l=pe("path"),this.h()},l(n){e=y(n,"DIV",{class:!0});var a=g(e);t=me(a,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var o=g(t);l=me(o,"path",{d:!0}),g(l).forEach(h),o.forEach(h),a.forEach(h),this.h()},h(){b(l,"d","M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"),b(t,"class","fill-current text-black"),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"width","18"),b(t,"height","18"),b(t,"viewBox","0 0 18 18"),b(e,"class","modal-close cursor-pointer z-50")},m(n,a){P(n,e,a),u(e,t),u(t,l),r||(i=ie(e,"click",s[4]),r=!0)},p:B,d(n){n&&h(e),r=!1,i()}}}function vl(s){let e,t,l,r,i,n,a,o,f,c,d,v,p,k,_=s[0]&&dt(s),m=s[2]&&ht(s),w=s[1]&&_t(s);const M=s[8].default,D=He(M,s,s[7],null),A=s[8].footer,U=He(A,s,s[7],ut);return{c(){e=E("div"),t=E("div"),l=N(),r=E("div"),_&&_.c(),i=N(),n=E("div"),a=E("div"),m&&m.c(),o=N(),w&&w.c(),f=N(),D&&D.c(),c=N(),d=E("div"),U&&U.c(),this.h()},l(S){e=y(S,"DIV",{class:!0});var L=g(e);t=y(L,"DIV",{class:!0}),g(t).forEach(h),l=Y(L),r=y(L,"DIV",{class:!0});var T=g(r);_&&_.l(T),i=Y(T),n=y(T,"DIV",{class:!0});var X=g(n);a=y(X,"DIV",{class:!0});var V=g(a);m&&m.l(V),o=Y(V),w&&w.l(V),V.forEach(h),f=Y(X),D&&D.l(X),c=Y(X),d=y(X,"DIV",{class:!0});var C=g(d);U&&U.l(C),C.forEach(h),X.forEach(h),T.forEach(h),L.forEach(h),this.h()},h(){b(t,"class","absolute w-full h-full bg-gray-900 opacity-80"),b(a,"class","flex justify-between items-center"),b(d,"class","flex justify-end pt-2"),b(n,"class","modal-content py-4 text-left px-6"),b(r,"class","absolute border-2 w-11/12 md:max-w-md mx-auto overflow-y-auto max-h-screen dark:bg-black dark:border-2 dark:border-gray-800 bg-white"),b(e,"class","z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center text-black dark:text-white")},m(S,L){P(S,e,L),u(e,t),u(e,l),u(e,r),_&&_.m(r,null),u(r,i),u(r,n),u(n,a),m&&m.m(a,null),u(a,o),w&&w.m(a,null),u(n,f),D&&D.m(n,null),u(n,c),u(n,d),U&&U.m(d,null),s[9](n),v=!0,p||(k=[ie(hl,"keydown",s[5]),ie(t,"click",s[4])],p=!0)},p(S,[L]){S[0]?_?_.p(S,L):(_=dt(S),_.c(),_.m(r,i)):_&&(_.d(1),_=null),S[2]?m?m.p(S,L):(m=ht(S),m.c(),m.m(a,o)):m&&(m.d(1),m=null),S[1]?w?w.p(S,L):(w=_t(S),w.c(),w.m(a,null)):w&&(w.d(1),w=null),D&&D.p&&(!v||L&128)&&qe(D,M,S,S[7],v?We(M,S[7],L,null):ze(S[7]),null),U&&U.p&&(!v||L&128)&&qe(U,A,S,S[7],v?We(A,S[7],L,_l):ze(S[7]),ut)},i(S){v||(j(D,S),j(U,S),v=!0)},o(S){H(D,S),H(U,S),v=!1},d(S){S&&h(e),_&&_.d(),m&&m.d(),w&&w.d(),D&&D.d(S),U&&U.d(S),s[9](null),p=!1,Qe(k)}}}function pl(s,e,t){let{$$slots:l={},$$scope:r}=e,{globalCloseButton:i=!1}=e,{closeButton:n=!1}=e,{title:a=""}=e,{cancelable:o=!0}=e;const f=Ht(),c=()=>o&&f("close");let d;function v(_){_=_||window.event;var m=!1;if("key"in _?m=_.key==="Escape"||_.key==="Esc":m=_.keyCode===27,m){c();return}if(_.key==="Tab"){const w=d.querySelectorAll("*"),M=Array.from(w).filter(A=>A.tabIndex>=0);let D=-1;document.activeElement&&(D=M.indexOf(document.activeElement)),D===-1&&_.shiftKey&&(D=0),D+=M.length+(_.shiftKey?-1:1),D%=M.length,M[D].focus&&M[D].focus(),_.preventDefault()}}const p=typeof document!="undefined"&&document.activeElement;p&&qt(()=>{const _=p;_.focus&&_.focus()});function k(_){Ue[_?"unshift":"push"](()=>{d=_,t(3,d)})}return s.$$set=_=>{"globalCloseButton"in _&&t(0,i=_.globalCloseButton),"closeButton"in _&&t(1,n=_.closeButton),"title"in _&&t(2,a=_.title),"cancelable"in _&&t(6,o=_.cancelable),"$$scope"in _&&t(7,r=_.$$scope)},[i,n,a,d,c,v,o,r,l,k]}class Pe extends ge{constructor(e){super();we(this,e,pl,vl,$e,{globalCloseButton:0,closeButton:1,title:2,cancelable:6})}}function vt(s,e,t){const l=s.slice();return l[21]=e[t],l}function ml(s){let e,t,l,r,i,n,a;return{c(){e=E("div"),t=E("p"),l=$("chain reset detected! Metamask need to have its account reset! "),r=E("button"),i=$("OK"),this.h()},l(o){e=y(o,"DIV",{class:!0,style:!0});var f=g(e);t=y(f,"P",{class:!0});var c=g(t);l=I(c,"chain reset detected! Metamask need to have its account reset! "),r=y(c,"BUTTON",{class:!0});var d=g(r);i=I(d,"OK"),d.forEach(h),c.forEach(h),f.forEach(h),this.h()},h(){b(r,"class","border-2 border-white p-2"),b(t,"class","w-64 text-center rounded-bl-xl rounded-br-xl text-gray-200 bg-red-500 p-1"),b(e,"class","w-full flex items-center justify-center fixed top-0"),at(e,"z-index","5")},m(o,f){P(o,e,f),u(e,t),u(t,l),u(t,r),u(r,i),n||(a=ie(r,"click",s[8]),n=!0)},p:B,d(o){o&&h(e),n=!1,a()}}}function bl(s){let e,t,l,r,i,n,a,o,f;return{c(){e=E("div"),t=E("p"),l=$(`Wrong network, switch to
      `),r=$(Ne),i=N(),n=E("button"),a=$("OK"),this.h()},l(c){e=y(c,"DIV",{class:!0,style:!0});var d=g(e);t=y(d,"P",{class:!0});var v=g(t);l=I(v,`Wrong network, switch to
      `),r=I(v,Ne),i=Y(v),n=y(v,"BUTTON",{class:!0});var p=g(n);a=I(p,"OK"),p.forEach(h),v.forEach(h),d.forEach(h),this.h()},h(){b(n,"class","border-2 border-white p-2"),b(t,"class","w-64 text-center rounded-bl-xl rounded-br-xl text-gray-200 bg-pink-600 p-1"),b(e,"class","w-full flex items-center justify-center fixed top-0"),at(e,"z-index","5")},m(c,d){P(c,e,d),u(e,t),u(t,l),u(t,r),u(t,i),u(t,n),u(n,a),o||(f=ie(n,"click",s[9]),o=!0)},p:B,d(c){c&&h(e),o=!1,f()}}}function kl(s){return{c:B,l:B,m:B,p:B,d:B}}function gl(s){return{c:B,l:B,m:B,p:B,d:B}}function wl(s){let e,t;return e=new Pe({props:{title:s[0],cancelable:!s[1].connecting,closeButton:!1,$$slots:{default:[xl]},$$scope:{ctx:s}}}),e.$on("close",s[19]),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){te(e,l,r),t=!0},p(l,r){const i={};r&1&&(i.title=l[0]),r&2&&(i.cancelable=!l[1].connecting),r&1048698&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function $l(s){let e,t;return e=new Pe({props:{title:"An Error Happened",$$slots:{default:[er]},$$scope:{ctx:s}}}),e.$on("close",s[13]),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){te(e,l,r),t=!0},p(l,r){const i={};r&1048640&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function Il(s){let e,t;return e=new Pe({props:{title:"An Error Happened",$$slots:{default:[tr]},$$scope:{ctx:s}}}),e.$on("close",s[12]),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){te(e,l,r),t=!0},p(l,r){const i={};r&1048578&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function El(s){let e,t,l,r=s[1].state+"",i,n,a,o;return a=new Se({props:{class:"mt-4",label:"Cancel",$$slots:{default:[Tl]},$$scope:{ctx:s}}}),a.$on("click",s[18]),{c(){e=E("div"),t=E("p"),l=$("Flow aborted "),i=$(r),n=N(),x(a.$$.fragment),this.h()},l(f){e=y(f,"DIV",{class:!0});var c=g(e);t=y(c,"P",{});var d=g(t);l=I(d,"Flow aborted "),i=I(d,r),d.forEach(h),n=Y(c),ee(a.$$.fragment,c),c.forEach(h),this.h()},h(){b(e,"class","text-center")},m(f,c){P(f,e,c),u(e,t),u(t,l),u(t,i),u(e,n),te(a,e,null),o=!0},p(f,c){(!o||c&2)&&r!==(r=f[1].state+"")&&G(i,r);const d={};c&1048576&&(d.$$scope={dirty:c,ctx:f}),a.$set(d)},i(f){o||(j(a.$$.fragment,f),o=!0)},o(f){H(a.$$.fragment,f),o=!1},d(f){f&&h(e),le(a)}}}function yl(s){let e;return{c(){e=$("Please wait...")},l(t){e=I(t,"Please wait...")},m(t,l){P(t,e,l)},p:B,i:B,o:B,d(t){t&&h(e)}}}function Dl(s){let e;function t(i,n){return i[1].pendingUserConfirmation[0]==="transaction"?Yl:i[1].pendingUserConfirmation[0]==="signature"?Nl:Bl}let l=t(s),r=l(s);return{c(){r.c(),e=re()},l(i){r.l(i),e=re()},m(i,n){r.m(i,n),P(i,e,n)},p(i,n){l!==(l=t(i))&&(r.d(1),r=l(i),r&&(r.c(),r.m(e.parentNode,e)))},i:B,o:B,d(i){r.d(i),i&&h(e)}}}function Vl(s){let e,t,l,r,i;function n(f,c){return f[5].code===4001?Ul:f[5].message?Al:Ll}let a=n(s),o=a(s);return r=new Se({props:{class:"mt-4",label:"Retry",$$slots:{default:[Ol]},$$scope:{ctx:s}}}),r.$on("click",s[17]),{c(){e=E("div"),t=E("p"),o.c(),l=N(),x(r.$$.fragment),this.h()},l(f){e=y(f,"DIV",{class:!0});var c=g(e);t=y(c,"P",{});var d=g(t);o.l(d),d.forEach(h),l=Y(c),ee(r.$$.fragment,c),c.forEach(h),this.h()},h(){b(e,"class","text-center")},m(f,c){P(f,e,c),u(e,t),o.m(t,null),u(e,l),te(r,e,null),i=!0},p(f,c){a===(a=n(f))&&o?o.p(f,c):(o.d(1),o=a(f),o&&(o.c(),o.m(t,null)));const d={};c&1048576&&(d.$$scope={dirty:c,ctx:f}),r.$set(d)},i(f){i||(j(r.$$.fragment,f),i=!0)},o(f){H(r.$$.fragment,f),i=!1},d(f){f&&h(e),o.d(),le(r)}}}function Ml(s){let e,t,l,r;const i=[Xl,jl],n=[];function a(o,f){return o[6].loadingData?0:o[6].notSupported?1:-1}return~(e=a(s))&&(t=n[e]=i[e](s)),{c(){t&&t.c(),l=re()},l(o){t&&t.l(o),l=re()},m(o,f){~e&&n[e].m(o,f),P(o,l,f),r=!0},p(o,f){let c=e;e=a(o),e===c?~e&&n[e].p(o,f):(t&&(fe(),H(n[c],1,1,()=>{n[c]=null}),ue()),~e?(t=n[e],t?t.p(o,f):(t=n[e]=i[e](o),t.c()),j(t,1),t.m(l.parentNode,l)):t=null)},i(o){r||(j(t),r=!0)},o(o){H(t),r=!1},d(o){~e&&n[e].d(o),o&&h(l)}}}function Sl(s){let e,t,l,r;const i=[ql,Hl],n=[];function a(o,f){return o[6].connecting?0:o[6].error?1:-1}return~(e=a(s))&&(t=n[e]=i[e](s)),{c(){t&&t.c(),l=re()},l(o){t&&t.l(o),l=re()},m(o,f){~e&&n[e].m(o,f),P(o,l,f),r=!0},p(o,f){let c=e;e=a(o),e===c?~e&&n[e].p(o,f):(t&&(fe(),H(n[c],1,1,()=>{n[c]=null}),ue()),~e?(t=n[e],t?t.p(o,f):(t=n[e]=i[e](o),t.c()),j(t,1),t.m(l.parentNode,l)):t=null)},i(o){r||(j(t),r=!0)},o(o){H(t),r=!1},d(o){~e&&n[e].d(o),o&&h(l)}}}function Pl(s){let e,t,l,r;const i=[Ql,Wl],n=[];function a(o,f){return o[1].unlocking?0:1}return e=a(s),t=n[e]=i[e](s),{c(){t.c(),l=re()},l(o){t.l(o),l=re()},m(o,f){n[e].m(o,f),P(o,l,f),r=!0},p(o,f){let c=e;e=a(o),e===c?n[e].p(o,f):(fe(),H(n[c],1,1,()=>{n[c]=null}),ue(),t=n[e],t?t.p(o,f):(t=n[e]=i[e](o),t.c()),j(t,1),t.m(l.parentNode,l))},i(o){r||(j(t),r=!0)},o(o){H(t),r=!1},d(o){n[e].d(o),o&&h(l)}}}function Cl(s){let e,t,l,r;const i=[Zl,Kl,Fl],n=[];function a(o,f){return o[1].loadingModule?0:o[1].connecting?1:2}return e=a(s),t=n[e]=i[e](s),{c(){t.c(),l=re()},l(o){t.l(o),l=re()},m(o,f){n[e].m(o,f),P(o,l,f),r=!0},p(o,f){let c=e;e=a(o),e===c?n[e].p(o,f):(fe(),H(n[c],1,1,()=>{n[c]=null}),ue(),t=n[e],t?t.p(o,f):(t=n[e]=i[e](o),t.c()),j(t,1),t.m(l.parentNode,l))},i(o){r||(j(t),r=!0)},o(o){H(t),r=!1},d(o){n[e].d(o),o&&h(l)}}}function Tl(s){let e;return{c(){e=$("OK")},l(t){e=I(t,"OK")},m(t,l){P(t,e,l)},d(t){t&&h(e)}}}function Bl(s){let e;return{c(){e=$("Please accept request...")},l(t){e=I(t,"Please accept request...")},m(t,l){P(t,e,l)},d(t){t&&h(e)}}}function Nl(s){let e;return{c(){e=$("Please accept signature...")},l(t){e=I(t,"Please accept signature...")},m(t,l){P(t,e,l)},d(t){t&&h(e)}}}function Yl(s){let e;return{c(){e=$("Please accept transaction...")},l(t){e=I(t,"Please accept transaction...")},m(t,l){P(t,e,l)},d(t){t&&h(e)}}}function Ll(s){let e,t;return{c(){e=$("Error: "),t=$(s[5])},l(l){e=I(l,"Error: "),t=I(l,s[5])},m(l,r){P(l,e,r),P(l,t,r)},p(l,r){r&32&&G(t,l[5])},d(l){l&&h(e),l&&h(t)}}}function Al(s){let e=s[5].message+"",t;return{c(){t=$(e)},l(l){t=I(l,e)},m(l,r){P(l,t,r)},p(l,r){r&32&&e!==(e=l[5].message+"")&&G(t,e)},d(l){l&&h(t)}}}function Ul(s){let e;return{c(){e=$("You rejected the request")},l(t){e=I(t,"You rejected the request")},m(t,l){P(t,e,l)},p:B,d(t){t&&h(e)}}}function Ol(s){let e;return{c(){e=$("Retry")},l(t){e=I(t,"Retry")},m(t,l){P(t,e,l)},d(t){t&&h(e)}}}function jl(s){let e,t,l,r,i;return r=new Se({props:{label:"Unlock Wallet",$$slots:{default:[Rl]},$$scope:{ctx:s}}}),r.$on("click",s[9]),{c(){e=$(`Please switch to
        `),t=$(Ne),l=N(),x(r.$$.fragment)},l(n){e=I(n,`Please switch to
        `),t=I(n,Ne),l=Y(n),ee(r.$$.fragment,n)},m(n,a){P(n,e,a),P(n,t,a),P(n,l,a),te(r,n,a),i=!0},p(n,a){const o={};a&1048576&&(o.$$scope={dirty:a,ctx:n}),r.$set(o)},i(n){i||(j(r.$$.fragment,n),i=!0)},o(n){H(r.$$.fragment,n),i=!1},d(n){n&&h(e),n&&h(t),n&&h(l),le(r,n)}}}function Xl(s){let e;return{c(){e=$("Loading contracts...")},l(t){e=I(t,"Loading contracts...")},m(t,l){P(t,e,l)},p:B,i:B,o:B,d(t){t&&h(e)}}}function Rl(s){let e;return{c(){e=$("Switch")},l(t){e=I(t,"Switch")},m(t,l){P(t,e,l)},d(t){t&&h(e)}}}function Hl(s){var o;let e,t,l=(((o=s[6].error)==null?void 0:o.message)||""+s[6].error)+"",r,i,n,a;return n=new Se({props:{class:"mt-4",label:"OK",$$slots:{default:[zl]},$$scope:{ctx:s}}}),n.$on("click",s[16]),{c(){e=E("div"),t=E("p"),r=$(l),i=N(),x(n.$$.fragment),this.h()},l(f){e=y(f,"DIV",{class:!0});var c=g(e);t=y(c,"P",{});var d=g(t);r=I(d,l),d.forEach(h),i=Y(c),ee(n.$$.fragment,c),c.forEach(h),this.h()},h(){b(e,"class","text-center")},m(f,c){P(f,e,c),u(e,t),u(t,r),u(e,i),te(n,e,null),a=!0},p(f,c){var v;(!a||c&64)&&l!==(l=(((v=f[6].error)==null?void 0:v.message)||""+f[6].error)+"")&&G(r,l);const d={};c&1048576&&(d.$$scope={dirty:c,ctx:f}),n.$set(d)},i(f){a||(j(n.$$.fragment,f),a=!0)},o(f){H(n.$$.fragment,f),a=!1},d(f){f&&h(e),le(n)}}}function ql(s){let e;return{c(){e=$("Connecting...")},l(t){e=I(t,"Connecting...")},m(t,l){P(t,e,l)},p:B,i:B,o:B,d(t){t&&h(e)}}}function zl(s){let e;return{c(){e=$("OK")},l(t){e=I(t,"OK")},m(t,l){P(t,e,l)},d(t){t&&h(e)}}}function Wl(s){let e,t;return e=new Se({props:{label:"Unlock Wallet",$$slots:{default:[Gl]},$$scope:{ctx:s}}}),e.$on("click",s[15]),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){te(e,l,r),t=!0},p(l,r){const i={};r&1048576&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function Ql(s){let e;return{c(){e=$("Please accept the application to access your wallet.")},l(t){e=I(t,"Please accept the application to access your wallet.")},m(t,l){P(t,e,l)},p:B,i:B,o:B,d(t){t&&h(e)}}}function Gl(s){let e;return{c(){e=$("Unlock")},l(t){e=I(t,"Unlock")},m(t,l){P(t,e,l)},d(t){t&&h(e)}}}function Fl(s){let e,t,l,r,i,n,a,o,f=s[3],c=[];for(let v=0;v<f.length;v+=1)c[v]=pt(vt(s,f,v));let d=s[4]&&mt(s);return{c(){e=E("div"),t=E("p"),l=$("You need to connect your wallet."),r=N(),i=E("div");for(let v=0;v<c.length;v+=1)c[v].c();n=N(),d&&d.c(),a=re(),this.h()},l(v){e=y(v,"DIV",{class:!0});var p=g(e);t=y(p,"P",{});var k=g(t);l=I(k,"You need to connect your wallet."),k.forEach(h),p.forEach(h),r=Y(v),i=y(v,"DIV",{class:!0});var _=g(i);for(let m=0;m<c.length;m+=1)c[m].l(_);_.forEach(h),n=Y(v),d&&d.l(v),a=re(),this.h()},h(){b(e,"class","text-center"),b(i,"class","flex flex-wrap justify-center pb-3")},m(v,p){P(v,e,p),u(e,t),u(t,l),P(v,r,p),P(v,i,p);for(let k=0;k<c.length;k+=1)c[k].m(i,null);P(v,n,p),d&&d.m(v,p),P(v,a,p),o=!0},p(v,p){if(p&8){f=v[3];let k;for(k=0;k<f.length;k+=1){const _=vt(v,f,k);c[k]?c[k].p(_,p):(c[k]=pt(_),c[k].c(),c[k].m(i,null))}for(;k<c.length;k+=1)c[k].d(1);c.length=f.length}v[4]?d?(d.p(v,p),p&16&&j(d,1)):(d=mt(v),d.c(),j(d,1),d.m(a.parentNode,a)):d&&(fe(),H(d,1,1,()=>{d=null}),ue())},i(v){o||(j(d),o=!0)},o(v){H(d),o=!1},d(v){v&&h(e),v&&h(r),v&&h(i),Me(c,v),v&&h(n),d&&d.d(v),v&&h(a)}}}function Kl(s){let e;return{c(){e=$("Connecting to wallet...")},l(t){e=I(t,"Connecting to wallet...")},m(t,l){P(t,e,l)},p:B,i:B,o:B,d(t){t&&h(e)}}}function Zl(s){let e,t=s[1].selected+"",l;return{c(){e=$(`Loading module:
        `),l=$(t)},l(r){e=I(r,`Loading module:
        `),l=I(r,t)},m(r,i){P(r,e,i),P(r,l,i)},p(r,i){i&2&&t!==(t=r[1].selected+"")&&G(l,t)},i:B,o:B,d(r){r&&h(e),r&&h(l)}}}function pt(s){let e,t,l,r,i;function n(){return s[14](s[21])}return{c(){e=E("img"),this.h()},l(a){e=y(a,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){b(e,"class","cursor-pointer p-2 m-2 border-2 h-12 w-12 object-contain"),b(e,"alt",t=`Login with ${s[21].name}`),Ge(e.src,l=`${et}/${s[21].img}`)||b(e,"src",l)},m(a,o){P(a,e,o),r||(i=ie(e,"click",n),r=!0)},p(a,o){s=a,o&8&&t!==(t=`Login with ${s[21].name}`)&&b(e,"alt",t),o&8&&!Ge(e.src,l=`${et}/${s[21].img}`)&&b(e,"src",l)},d(a){a&&h(e),r=!1,i()}}}function mt(s){let e,t,l,r,i,n;return i=new Se({props:{label:"Download Metamask",blank:!0,href:"https://metamask.io/download.html",class:"m-4 w-max-content",$$slots:{default:[Jl]},$$scope:{ctx:s}}}),{c(){e=E("div"),t=$("OR"),l=N(),r=E("div"),x(i.$$.fragment),this.h()},l(a){e=y(a,"DIV",{class:!0});var o=g(e);t=I(o,"OR"),o.forEach(h),l=Y(a),r=y(a,"DIV",{class:!0});var f=g(r);ee(i.$$.fragment,f),f.forEach(h),this.h()},h(){b(e,"class","text-center"),b(r,"class","flex justify-center")},m(a,o){P(a,e,o),u(e,t),P(a,l,o),P(a,r,o),te(i,r,null),n=!0},p(a,o){const f={};o&1048576&&(f.$$scope={dirty:o,ctx:a}),i.$set(f)},i(a){n||(j(i.$$.fragment,a),n=!0)},o(a){H(i.$$.fragment,a),n=!1},d(a){a&&h(e),a&&h(l),a&&h(r),le(i)}}}function Jl(s){let e,t,l;return{c(){e=E("img"),l=$(`
              Download metamask`),this.h()},l(r){e=y(r,"IMG",{class:!0,alt:!0,src:!0}),l=I(r,`
              Download metamask`),this.h()},h(){b(e,"class","cursor-pointer p-0 mx-2 h-10 w-10 object-contain"),b(e,"alt","Download Metamask}"),Ge(e.src,t=`${et}/images/metamask.svg`)||b(e,"src",t)},m(r,i){P(r,e,i),P(r,l,i)},p:B,d(r){r&&h(e),r&&h(l)}}}function xl(s){let e,t,l,r;const i=[Cl,Pl,Sl,Ml,Vl,Dl,yl,El],n=[];function a(o,f){return o[1].state==="Idle"?0:o[1].state==="Locked"?1:o[6].state==="Idle"?2:o[6].state==="Connected"?3:o[5]?4:o[1].pendingUserConfirmation?5:o[1].state==="Ready"?6:7}return e=a(s),t=n[e]=i[e](s),{c(){t.c(),l=re()},l(o){t.l(o),l=re()},m(o,f){n[e].m(o,f),P(o,l,f),r=!0},p(o,f){let c=e;e=a(o),e===c?n[e].p(o,f):(fe(),H(n[c],1,1,()=>{n[c]=null}),ue(),t=n[e],t?t.p(o,f):(t=n[e]=i[e](o),t.c()),j(t,1),t.m(l.parentNode,l))},i(o){r||(j(t),r=!0)},o(o){H(t),r=!1},d(o){n[e].d(o),o&&h(l)}}}function er(s){let e,t=s[6].error.message+"",l;return{c(){e=E("p"),l=$(t),this.h()},l(r){e=y(r,"P",{class:!0});var i=g(e);l=I(i,t),i.forEach(h),this.h()},h(){b(e,"class","w-64 text-center text-red-500 p-1")},m(r,i){P(r,e,i),u(e,l)},p(r,i){i&64&&t!==(t=r[6].error.message+"")&&G(l,t)},d(r){r&&h(e)}}}function tr(s){let e,t=s[1].error.message+"",l;return{c(){e=E("p"),l=$(t),this.h()},l(r){e=y(r,"P",{class:!0});var i=g(e);l=I(i,t),i.forEach(h),this.h()},h(){b(e,"class","w-64 text-center text-red-500 p-1")},m(r,i){P(r,e,i),u(e,l)},p(r,i){i&2&&t!==(t=r[1].error.message+"")&&G(l,t)},d(r){r&&h(e)}}}function lr(s){let e,t,l,r,i,n;const a=s[11].default,o=He(a,s,s[20],null);function f(_,m){if(_[6].state==="Idle"&&!_[6].connecting&&_[7].state==="Idle"&&!_[7].connecting)return gl;if(_[6].state==="Idle"&&!_[6].connecting&&_[7].error)return kl;if(_[6].notSupported)return bl;if(_[6].genesisChanged)return ml}let c=f(s),d=c&&c(s);const v=[Il,$l,wl],p=[];function k(_,m){return _[1].error?0:_[6].error?1:_[2].inProgress?2:-1}return~(l=k(s))&&(r=p[l]=v[l](s)),{c(){o&&o.c(),e=N(),d&&d.c(),t=N(),r&&r.c(),i=re()},l(_){o&&o.l(_),e=Y(_),d&&d.l(_),t=Y(_),r&&r.l(_),i=re()},m(_,m){o&&o.m(_,m),P(_,e,m),d&&d.m(_,m),P(_,t,m),~l&&p[l].m(_,m),P(_,i,m),n=!0},p(_,[m]){o&&o.p&&(!n||m&1048576)&&qe(o,a,_,_[20],n?We(a,_[20],m,null):ze(_[20]),null),c===(c=f(_))&&d?d.p(_,m):(d&&d.d(1),d=c&&c(_),d&&(d.c(),d.m(t.parentNode,t)));let w=l;l=k(_),l===w?~l&&p[l].p(_,m):(r&&(fe(),H(p[w],1,1,()=>{p[w]=null}),ue()),~l?(r=p[l],r?r.p(_,m):(r=p[l]=v[l](_),r.c()),j(r,1),r.m(i.parentNode,i)):r=null)},i(_){n||(j(o,_),j(r),n=!0)},o(_){H(o,_),H(r),n=!1},d(_){o&&o.d(_),_&&h(e),d&&d.d(_),_&&h(t),~l&&p[l].d(_),_&&h(i)}}}function rr(s,e,t){let l,r,i,n,a,o,f;Ie(s,nl,T=>t(10,i=T)),Ie(s,Te,T=>t(1,n=T)),Ie(s,be,T=>t(2,a=T)),Ie(s,Be,T=>t(6,o=T)),Ie(s,il,T=>t(7,f=T));let{$$slots:c={},$$scope:d}=e,{title:v=""}=e,p=[];function k(){Be.acknowledgeNewGenesisHash()}async function _(){let T;const X=[];await Be.switchChain(ol,{chainName:Ne,rpcUrls:X,blockExplorerUrls:T})}const m=()=>Te.acknowledgeError(),w=()=>Be.acknowledgeError(),M=T=>Te.connect(T.id),D=()=>Te.unlock(),A=()=>be.cancel(),U=()=>be.retry(),S=()=>be.cancel(),L=()=>be.cancel();return s.$$set=T=>{"title"in T&&t(0,v=T.title),"$$scope"in T&&t(20,d=T.$$scope)},s.$$.update=()=>{s.$$.dirty&4&&t(5,l=a.executionError),s.$$.dirty&1026&&t(4,r=n.options.filter(T=>T==="builtin"&&!i.available).length>0),s.$$.dirty&1026&&t(3,p=n.options.filter(T=>T!=="builtin"||i.available).map(T=>({img:(X=>{if(X==="builtin"){if(i.state==="Ready"){if(i.vendor==="Metamask")return"images/metamask.svg";if(i.vendor==="Opera")return"images/opera.svg"}return"images/web3-default.png"}else return X.startsWith("torus-")?`images/torus/${X.slice(6)}.svg`:`images/${X}.svg`})(T),id:T,name:T})))},[v,n,a,p,r,l,o,f,k,_,i,c,m,w,M,D,A,U,S,L,d]}class sr extends ge{constructor(e){super();we(this,e,rr,lr,$e,{title:0})}}const nr={fetching:!1,stale:!1,error:void 0,data:void 0,extensions:void 0},ir=Wt.concat();class or{constructor(e){e?this.client=new Qt({url:e,exchanges:ir}):console.error("need an url for graphql queries")}mutate(e,t){return this.client.mutation(e,t==null?void 0:t.variables,t==null?void 0:t.context).toPromise()}query(e,t){return this.client.query(e,t==null?void 0:t.variables,t==null?void 0:t.context).toPromise()}async queryList(e,t){const l=t.path.split("."),r=100;let i="0x0",n=r,a=[];for(;n===r;){const o=await this.client.query(e,Ve({first:r,lastId:i},t==null?void 0:t.variables),t==null?void 0:t.context).toPromise();if(o.error)throw new Error(o.error.message);const f=o.data;let c=[];if(f&&t.path){let d=f;for(const v of l)d=d[v];c=d}if(n=c.length,n>0){const d=(t==null?void 0:t.getLastId)!==void 0?t==null?void 0:t.getLastId(a):c[n-1].id;if(i===d){console.log("same query, stop");break}i=d}a=a.concat(c)}return a}subscribeToQuery(e,t){const l=Fe(Gt([ct({fetching:!0,stale:!1}),Fe(this.client.query(e,t==null?void 0:t.variables,t==null?void 0:t.context),Ft(({stale:r,data:i,error:n,extensions:a})=>({fetching:!1,stale:!!r,data:i,error:n,extensions:a}))),ct({fetching:!1,stale:!1})]),Kt((r,i)=>Ve(Ve({},r),i),nr));return{subscribe(r){return Fe(l,Zt(r)).unsubscribe}}}}const tt=new or(al);function bt(s,e){for(const t of Object.keys(e))s[t]&&typeof s[t]=="object"&&typeof e[t]=="object"?bt(s[t],e[t]):s[t]=e[t]}class ar{constructor(e){this.$store=e,this.store=Jt(this.$store)}subscribe(e,t){return this.store.subscribe(e,t)}setPartial(e){this.$store||(this.$store={});for(const t of Object.keys(e))this.$store[t]=e[t];return this.store.set(this.$store),this.$store}set(e){if(this.$store||(this.$store={}),e||(this.$store=e),e!==this.$store){for(const t of Object.keys(this.$store))e[t]===void 0&&(this.$store[t]=void 0);for(const t of Object.keys(e))this.$store[t]=e[t]}return this.store.set(this.$store),this.$store}}class cr extends ar{constructor(e){super(e)}setData(e,t){return this.$store.data=this.$store.data||{},bt(this.$store.data,e),t&&this.setPartial(t),this.store.set(this.$store),this.$store}}const Ye=xt("graphql");class fr extends cr{constructor(e,t,l){super({step:"IDLE"});this.endpoint=e,this.query=t,this.options=l,this.runtimeVariables={}}acknowledgeError(){this.setPartial({error:void 0})}async fetch(e){var a,o,f,c,d,v,p;Ye.info("fetching....");const t=typeof((o=(a=this.options)==null?void 0:a.variables)==null?void 0:o.first)=="number"?(c=(f=this.options)==null?void 0:f.variables)==null?void 0:c.first:1e3;let l=t,r="0x0",i,n;for(;l===t;)try{const k=Ve(Ve(Ve({first:t,lastId:r},(d=this.options)==null?void 0:d.variables),this.runtimeVariables),e),_=this.query.split("?");let m="";for(let D=0;D<_.length;D++){const A=_[D];A.startsWith("$")?k[A.substr(1)]||D++:m+=A}const w=await this.endpoint.query(m,{variables:k,context:{requestPolicy:"cache-and-network"}});if(!w.data)throw this.setPartial({error:"cannot fetch from thegraph node"}),new Error("cannot fetch from thegraph node");const M=((v=this.options)==null?void 0:v.path)?w.data[this.options.path]:w.data;if(i||(i=M),(p=this.options)==null?void 0:p.list){let D=M;if(typeof this.options.list!="boolean"&&this.options.list.path&&(D=M[this.options.list.path]),l=D.length,l>0){const A=typeof this.options.list!="boolean"&&this.options.list.getLastId!==void 0?this.options.list.getLastId(D):D[l-1].id;if(r===A){Ye.log("same query, stop");break}r=A}n?n.push(...D):n=D}else l=0}catch(k){l=0,Ye.error(k)}this.setPartial({data:i,step:"READY"})}}class lt extends fr{constructor(e,t,l,r){super(e,t,r);this.listenerCount=0,this.hook=l}acknowledgeError(){this.setPartial({error:void 0})}subscribe(e,t){this.listenerCount++,this.listenerCount===1&&(Ye.info("start fetching"),this.stopUpdates=this.hook.subscribe(r=>this.fetch({blockNumber:r.lastBlockNumber})));const l=this.store.subscribe(e,t);return()=>{this.listenerCount--,this.listenerCount===0&&(Ye.info("stop fetching"),this.stopUpdates&&(this.stopUpdates(),this.stopUpdates=void 0)),l()}}}class ur{constructor(e,t){this.transactions=t,this.queryStore=new lt(e,`
    query {
      players {
        id
        startTimestamp
        woodSkill
        stoneSkill
        vouch
        startX
        startY
        endX
        endY
        balances {
          id
          value
          item {
            id
            name
            symbol
          }
        }
      }
    }`,xe,{path:"players"}),this.store=Ke([this.queryStore,this.transactions],l=>this.update(l))}update([e]){if(e.data){let t=e.data;return{step:e.step,error:e.error,data:t}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,t){return this.store.subscribe(e,t)}}const dr=new ur(tt,Je),je=10,kt=10,ye=(s,e,t,l)=>{const r=t-s,i=l-e;return Math.sqrt(r*r+i*i)},ne=(s,e)=>{if(s==0&&e==0||s>10||s<-9||e>10||e<-9)return 0;const t=new el,l=Ze.from(tl(t.encode(["int256","int256"],[s,e]))).mod(Ze.from(5)).toNumber();return l<2?0:l<4?1:2},Ee=(s,e)=>{const t=(e-parseInt(s.startTimestamp))/10,l=ye(parseInt(s.startX),parseInt(s.startY),parseInt(s.endX),parseInt(s.endY));if(t<l){const r=parseInt(s.endX)-parseInt(s.startX),i=parseInt(s.endY)-parseInt(s.startY);return[parseInt(s.startX)+r*t/l,parseInt(s.startY)+i*t/l]}return[parseInt(s.endX),parseInt(s.endY)]},ce=(s,e,t)=>{const l=(e-parseInt(s.startTimestamp))/je,r=ye(parseInt(s.startX),parseInt(s.startY),parseInt(s.endX),parseInt(s.endY)),i=parseInt(t===1?s.woodSkill:s.stoneSkill),n=ne(parseInt(s.endX),parseInt(s.endY));return l>=r&&t.toString()===n.toString()?i+(e-(parseInt(s.startTimestamp)+r*je))/kt:i},ve=(s,e,t)=>{const l=s.balances.find(f=>f.item.id===t.toString()),r=l?parseInt(l.value):0,i=parseInt(t==="1"?s.woodSkill:s.stoneSkill),n=(e-parseInt(s.startTimestamp))/je,a=ye(parseInt(s.startX),parseInt(s.startY),parseInt(s.endX),parseInt(s.endY)),o=ne(parseInt(s.endX),parseInt(s.endY));if(n>=a&&t.toString()===o.toString()){const f=(e-(parseInt(s.startTimestamp)+a*je))/kt;return r+f*i+f*f/2}return r};function hr(s){let e,t,l,r,i,n,a;return{c(){e=pe("svg"),t=pe("path"),l=pe("path"),r=pe("defs"),i=pe("linearGradient"),n=pe("stop"),a=pe("stop"),this.h()},l(o){e=me(o,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var f=g(e);t=me(f,"path",{d:!0,fill:!0}),g(t).forEach(h),l=me(f,"path",{d:!0,fill:!0}),g(l).forEach(h),r=me(f,"defs",{});var c=g(r);i=me(c,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,gradientUnits:!0});var d=g(i);n=me(d,"stop",{"stop-color":!0}),g(n).forEach(h),a=me(d,"stop",{offset:!0,"stop-color":!0}),g(a).forEach(h),d.forEach(h),c.forEach(h),f.forEach(h),this.h()},h(){b(t,"d","M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"),b(t,"fill","url(#paint0_linear)"),b(l,"d","M12.744 6.67999H11.7947C11.272 5.22932 9.86668 4.23466 8.01334 4.23466H4.96534V6.67999H3.90668V7.55732H4.96534V8.47732H3.90668V9.35466H4.96534V11.7707H8.01334C9.84534 11.7707 11.24 10.784 11.776 9.35466H12.744V8.47732H11.9893C12.008 8.32266 12.0187 8.16266 12.0187 8.00266V7.98132C12.0187 7.83732 12.0107 7.69599 11.9973 7.55732H12.7467V6.67999H12.744ZM5.81868 5.01599H8.01334C9.37334 5.01599 10.384 5.68532 10.8507 6.67732H5.81868V5.01599ZM8.01334 10.9813H5.81868V9.35199H10.8453C10.376 10.328 9.36801 10.9813 8.01334 10.9813ZM11.136 8.02132C11.136 8.17599 11.1253 8.32799 11.104 8.47466H5.81868V7.55466H11.1067C11.1253 7.69866 11.136 7.84799 11.136 7.99999V8.02132Z"),b(l,"fill","white"),b(n,"stop-color","#F9A606"),b(a,"offset","1"),b(a,"stop-color","#FBCC5F"),b(i,"id","paint0_linear"),b(i,"x1","8"),b(i,"y1","-2.26667"),b(i,"x2","8"),b(i,"y2","17.68"),b(i,"gradientUnits","userSpaceOnUse"),b(e,"class","dai"),b(e,"width","16"),b(e,"height","16"),b(e,"viewBox","0 0 16 16"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(o,f){P(o,e,f),u(e,t),u(e,l),u(e,r),u(r,i),u(i,n),u(i,a)},p:B,i:B,o:B,d(o){o&&h(e)}}}class Le extends ge{constructor(e){super();we(this,e,null,hr,$e,{})}}class _r{constructor(e,t){this.transactions=t,this.queryStore=new lt(e,`
    query {
      items(where: {id_in: [3, 4]}) {
        id
        name
        symbol
        stake
      }
    }`,xe,{path:"items"}),this.store=Ke([this.queryStore,this.transactions],l=>this.update(l))}update([e]){if(e.data){let t=e.data;return{step:e.step,error:e.error,data:t}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,t){return this.store.subscribe(e,t)}}const vr=new _r(tt,Je);function gt(s,e,t){const l=s.slice();return l[10]=e[t],l}function wt(s){let e,t;return e=new Pe({props:{title:"Shop",closeButton:!0,$$slots:{default:[Ir]},$$scope:{ctx:s}}}),e.$on("close",s[8]),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){te(e,l,r),t=!0},p(l,r){const i={};r&8203&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function pr(s){let e,t,l=s[3].data,r=[];for(let n=0;n<l.length;n+=1)r[n]=It(gt(s,l,n));const i=n=>H(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=re()},l(n){for(let a=0;a<r.length;a+=1)r[a].l(n);e=re()},m(n,a){for(let o=0;o<r.length;o+=1)r[o].m(n,a);P(n,e,a),t=!0},p(n,a){if(a&59){l=n[3].data;let o;for(o=0;o<l.length;o+=1){const f=gt(n,l,o);r[o]?(r[o].p(f,a),j(r[o],1)):(r[o]=It(f),r[o].c(),j(r[o],1),r[o].m(e.parentNode,e))}for(fe(),o=l.length;o<r.length;o+=1)i(o);ue()}},i(n){if(!t){for(let a=0;a<l.length;a+=1)j(r[a]);t=!0}},o(n){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)H(r[a]);t=!1},d(n){Me(r,n),n&&h(e)}}}function mr(s){let e,t;return{c(){e=E("div"),t=$("Shop items failed to load!")},l(l){e=y(l,"DIV",{});var r=g(e);t=I(r,"Shop items failed to load!"),r.forEach(h)},m(l,r){P(l,e,r),u(e,t)},p:B,i:B,o:B,d(l){l&&h(e)}}}function br(s){let e,t;return{c(){e=E("div"),t=$("Loading Map...")},l(l){e=y(l,"DIV",{});var r=g(e);t=I(r,"Loading Map..."),r.forEach(h)},m(l,r){P(l,e,r),u(e,t)},p:B,i:B,o:B,d(l){l&&h(e)}}}function kr(s){let e,t,l=s[3].error+"",r;return{c(){e=E("div"),t=$("Error: "),r=$(l)},l(i){e=y(i,"DIV",{});var n=g(e);t=I(n,"Error: "),r=I(n,l),n.forEach(h)},m(i,n){P(i,e,n),u(e,t),u(e,r)},p(i,n){n&8&&l!==(l=i[3].error+"")&&G(r,l)},i:B,o:B,d(i){i&&h(e)}}}function gr(s){let e,t;return{c(){e=E("div"),t=$("Messages not loaded")},l(l){e=y(l,"DIV",{});var r=g(e);t=I(r,"Messages not loaded"),r.forEach(h)},m(l,r){P(l,e,r),u(e,t)},p:B,i:B,o:B,d(l){l&&h(e)}}}function $t(s){let e,t,l,r,i,n,a;function o(v,p){return(t==null||p&2)&&(t=!!v[1].gt(Ze.from(0))),t?$r:wr}let f=o(s,-1),c=f(s);function d(){return s[7](s[10])}return{c(){e=E("div"),c.c(),l=N(),r=E("div"),i=$("Sell 1"),this.h()},l(v){e=y(v,"DIV",{class:!0});var p=g(e);c.l(p),l=Y(p),r=y(p,"DIV",{class:!0});var k=g(r);i=I(k,"Sell 1"),k.forEach(h),p.forEach(h),this.h()},h(){b(r,"class","border-2 w-full m-1"),b(e,"class","flex")},m(v,p){P(v,e,p),c.m(e,null),u(e,l),u(e,r),u(r,i),n||(a=ie(r,"click",d),n=!0)},p(v,p){s=v,f===(f=o(s,p))&&c?c.p(s,p):(c.d(1),c=f(s),c&&(c.c(),c.m(e,l)))},d(v){v&&h(e),c.d(),n=!1,a()}}}function wr(s){let e,t;return{c(){e=E("div"),t=$("Buy 1"),this.h()},l(l){e=y(l,"DIV",{class:!0});var r=g(e);t=I(r,"Buy 1"),r.forEach(h),this.h()},h(){b(e,"class","border-2 w-full m-1 bg-red-400")},m(l,r){P(l,e,r),u(e,t)},p:B,d(l){l&&h(e)}}}function $r(s){let e,t,l,r;function i(){return s[6](s[10])}return{c(){e=E("div"),t=$("Buy 1"),this.h()},l(n){e=y(n,"DIV",{class:!0});var a=g(e);t=I(a,"Buy 1"),a.forEach(h),this.h()},h(){b(e,"class","border-2 w-full m-1")},m(n,a){P(n,e,a),u(e,t),l||(r=ie(e,"click",i),l=!0)},p(n,a){s=n},d(n){n&&h(e),l=!1,r()}}}function It(s){let e,t,l,r=s[10].symbol+"",i,n=s[10].name+"",a,o,f,c=s[10].stake+"",d,v,p,k,_,m;p=new Le({});let w=s[0]&&$t(s);return{c(){e=E("div"),t=E("div"),l=E("div"),i=$(r),a=$(n),o=N(),f=E("div"),d=$(c),v=N(),x(p.$$.fragment),k=N(),w&&w.c(),_=N(),this.h()},l(M){e=y(M,"DIV",{class:!0});var D=g(e);t=y(D,"DIV",{class:!0});var A=g(t);l=y(A,"DIV",{});var U=g(l);i=I(U,r),a=I(U,n),U.forEach(h),o=Y(A),f=y(A,"DIV",{class:!0});var S=g(f);d=I(S,c),v=Y(S),ee(p.$$.fragment,S),S.forEach(h),A.forEach(h),k=Y(D),w&&w.l(D),_=Y(D),D.forEach(h),this.h()},h(){b(f,"class","flex"),b(t,"class","flex flex-row justify-between"),b(e,"class","flex flex-col border-2 border-dotted p-1")},m(M,D){P(M,e,D),u(e,t),u(t,l),u(l,i),u(l,a),u(t,o),u(t,f),u(f,d),u(f,v),te(p,f,null),u(e,k),w&&w.m(e,null),u(e,_),m=!0},p(M,D){(!m||D&8)&&r!==(r=M[10].symbol+"")&&G(i,r),(!m||D&8)&&n!==(n=M[10].name+"")&&G(a,n),(!m||D&8)&&c!==(c=M[10].stake+"")&&G(d,c),M[0]?w?w.p(M,D):(w=$t(M),w.c(),w.m(e,_)):w&&(w.d(1),w=null)},i(M){m||(j(p.$$.fragment,M),m=!0)},o(M){H(p.$$.fragment,M),m=!1},d(M){M&&h(e),le(p),w&&w.d()}}}function Ir(s){let e,t,l,r=s[1].div("1000000000000000000")+"",i,n,a,o,f,c,d,v;a=new Le({});const p=[gr,kr,br,mr,pr],k=[];function _(m,w){return m[3].step?m[3].error?1:m[3].step==="LOADING"?2:m[3].data?4:3:0}return c=_(s),d=k[c]=p[c](s),{c(){e=E("div"),t=E("div"),l=$(`You own
          `),i=$(r),n=N(),x(a.$$.fragment),o=N(),f=E("div"),d.c(),this.h()},l(m){e=y(m,"DIV",{class:!0});var w=g(e);t=y(w,"DIV",{class:!0});var M=g(t);l=I(M,`You own
          `),i=I(M,r),n=Y(M),ee(a.$$.fragment,M),M.forEach(h),o=Y(w),f=y(w,"DIV",{class:!0});var D=g(f);d.l(D),D.forEach(h),w.forEach(h),this.h()},h(){b(t,"class","flex border-2 justify-center m-2 w-fit"),b(f,"class","border-2 p-2"),b(e,"class","flex flex-col")},m(m,w){P(m,e,w),u(e,t),u(t,l),u(t,i),u(t,n),te(a,t,null),u(e,o),u(e,f),k[c].m(f,null),v=!0},p(m,w){(!v||w&2)&&r!==(r=m[1].div("1000000000000000000")+"")&&G(i,r);let M=c;c=_(m),c===M?k[c].p(m,w):(fe(),H(k[M],1,1,()=>{k[M]=null}),ue(),d=k[c],d?d.p(m,w):(d=k[c]=p[c](m),d.c()),j(d,1),d.m(f,null))},i(m){v||(j(a.$$.fragment,m),j(d),v=!0)},o(m){H(a.$$.fragment,m),H(d),v=!1},d(m){m&&h(e),le(a),k[c].d()}}}function Er(s){let e,t,l,r,i,n,a,o,f,c,d=s[2]&&wt(s);return{c(){e=E("div"),d&&d.c(),t=N(),l=E("div"),r=$("Shop"),i=N(),n=E("button"),a=$("Enter the shop"),this.h()},l(v){e=y(v,"DIV",{class:!0});var p=g(e);d&&d.l(p),t=Y(p),l=y(p,"DIV",{class:!0});var k=g(l);r=I(k,"Shop"),k.forEach(h),i=Y(p),n=y(p,"BUTTON",{class:!0});var _=g(n);a=I(_,"Enter the shop"),_.forEach(h),p.forEach(h),this.h()},h(){b(l,"class","text-xl"),b(n,"class","border-2 border-gray-700 p-1"),b(e,"class","h-full")},m(v,p){P(v,e,p),d&&d.m(e,null),u(e,t),u(e,l),u(l,r),u(e,i),u(e,n),u(n,a),o=!0,f||(c=ie(n,"click",s[9]),f=!0)},p(v,[p]){v[2]?d?(d.p(v,p),p&4&&j(d,1)):(d=wt(v),d.c(),j(d,1),d.m(e,t)):d&&(fe(),H(d,1,1,()=>{d=null}),ue())},i(v){o||(j(d),o=!0)},o(v){H(d),o=!1},d(v){v&&h(e),d&&d.d(),f=!1,c()}}}function yr(s,e,t){let l;Ie(s,vr,p=>t(3,l=p));let{currentPlayer:r}=e,{balance:i}=e;async function n(p,k){await be.execute(_=>_.UnionQuest.buy(p,k))}async function a(p,k){await be.execute(_=>_.UnionQuest.sell(p,k))}let o=!1;const f=p=>n(p.id,"1"),c=p=>a(p.id,"1"),d=()=>t(2,o=!1),v=()=>t(2,o=!0);return s.$$set=p=>{"currentPlayer"in p&&t(0,r=p.currentPlayer),"balance"in p&&t(1,i=p.balance)},[r,i,o,l,n,a,f,c,d,v]}class Dr extends ge{constructor(e){super();we(this,e,yr,Er,$e,{currentPlayer:0,balance:1})}}class Vr{constructor(e,t){this.transactions=t,this.queryStore=new lt(e,`
    query {
      recipes {
        id
        inputIds {
          id
          name
          symbol
        }
        inputQuantities
        output {
          id
          name
          symbol
        }
      }
    }`,xe,{path:"recipes"}),this.store=Ke([this.queryStore,this.transactions],l=>this.update(l))}update([e]){if(e.data){let t=e.data;return{step:e.step,error:e.error,data:t}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,t){return this.store.subscribe(e,t)}}const Mr=new Vr(tt,Je);function Et(s,e,t){const l=s.slice();return l[7]=e[t],l}function yt(s,e,t){const l=s.slice();return l[10]=e[t],l[12]=t,l}function Dt(s){let e,t;return e=new Pe({props:{title:"Crafting",closeButton:!0,$$slots:{default:[Lr]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){te(e,l,r),t=!0},p(l,r){const i={};r&8203&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function Sr(s){let e,t,l,r=Math.round(ve(s[0],s[1]/1e3,"1"))+"",i,n,a,o,f=Math.round(ve(s[0],s[1]/1e3,"2"))+"",c,d,v,p=s[3].data,k=[];for(let _=0;_<p.length;_+=1)k[_]=Mt(Et(s,p,_));return{c(){e=E("div"),t=E("div"),l=E("div"),i=$(r),n=$(" \u{1FAB5}"),a=N(),o=E("div"),c=$(f),d=$(" \u{1FAA8}"),v=N();for(let _=0;_<k.length;_+=1)k[_].c();this.h()},l(_){e=y(_,"DIV",{class:!0});var m=g(e);t=y(m,"DIV",{class:!0});var w=g(t);l=y(w,"DIV",{class:!0});var M=g(l);i=I(M,r),n=I(M," \u{1FAB5}"),M.forEach(h),a=Y(w),o=y(w,"DIV",{class:!0});var D=g(o);c=I(D,f),d=I(D," \u{1FAA8}"),D.forEach(h),w.forEach(h),v=Y(m);for(let A=0;A<k.length;A+=1)k[A].l(m);m.forEach(h),this.h()},h(){b(l,"class","border-2 w-full border-gray-500"),b(o,"class","border-2 w-full border-gray-500"),b(t,"class","flex justify-between text-center"),b(e,"class","flex flex-col")},m(_,m){P(_,e,m),u(e,t),u(t,l),u(l,i),u(l,n),u(t,a),u(t,o),u(o,c),u(o,d),u(e,v);for(let w=0;w<k.length;w+=1)k[w].m(e,null)},p(_,m){if(m&3&&r!==(r=Math.round(ve(_[0],_[1]/1e3,"1"))+"")&&G(i,r),m&3&&f!==(f=Math.round(ve(_[0],_[1]/1e3,"2"))+"")&&G(c,f),m&27){p=_[3].data;let w;for(w=0;w<p.length;w+=1){const M=Et(_,p,w);k[w]?k[w].p(M,m):(k[w]=Mt(M),k[w].c(),k[w].m(e,null))}for(;w<k.length;w+=1)k[w].d(1);k.length=p.length}},d(_){_&&h(e),Me(k,_)}}}function Pr(s){let e,t;return{c(){e=E("div"),t=$("Recipes failed to load!")},l(l){e=y(l,"DIV",{});var r=g(e);t=I(r,"Recipes failed to load!"),r.forEach(h)},m(l,r){P(l,e,r),u(e,t)},p:B,d(l){l&&h(e)}}}function Cr(s){let e,t;return{c(){e=E("div"),t=$("Loading Map...")},l(l){e=y(l,"DIV",{});var r=g(e);t=I(r,"Loading Map..."),r.forEach(h)},m(l,r){P(l,e,r),u(e,t)},p:B,d(l){l&&h(e)}}}function Tr(s){let e,t,l=s[3].error+"",r;return{c(){e=E("div"),t=$("Error: "),r=$(l)},l(i){e=y(i,"DIV",{});var n=g(e);t=I(n,"Error: "),r=I(n,l),n.forEach(h)},m(i,n){P(i,e,n),u(e,t),u(e,r)},p(i,n){n&8&&l!==(l=i[3].error+"")&&G(r,l)},d(i){i&&h(e)}}}function Br(s){let e,t;return{c(){e=E("div"),t=$("Messages not loaded")},l(l){e=y(l,"DIV",{});var r=g(e);t=I(r,"Messages not loaded"),r.forEach(h)},m(l,r){P(l,e,r),u(e,t)},p:B,d(l){l&&h(e)}}}function Vt(s){let e,t,l=s[7].inputQuantities[s[12]]+"",r,i,n,a=s[10].symbol+"",o,f;return{c(){e=E("div"),t=E("div"),r=$(l),i=N(),n=E("div"),o=$(a),f=N(),this.h()},l(c){e=y(c,"DIV",{class:!0});var d=g(e);t=y(d,"DIV",{class:!0});var v=g(t);r=I(v,l),v.forEach(h),i=Y(d),n=y(d,"DIV",{class:!0});var p=g(n);o=I(p,a),p.forEach(h),f=Y(d),d.forEach(h),this.h()},h(){b(t,"class","border-2 bg-gray-300"),b(n,"class","border-2 text-xl"),b(e,"class","border-2")},m(c,d){P(c,e,d),u(e,t),u(t,r),u(e,i),u(e,n),u(n,o),u(e,f)},p(c,d){d&8&&l!==(l=c[7].inputQuantities[c[12]]+"")&&G(r,l),d&8&&a!==(a=c[10].symbol+"")&&G(o,a)},d(c){c&&h(e)}}}function Nr(s){let e,t;return{c(){e=E("button"),t=$("Craft"),this.h()},l(l){e=y(l,"BUTTON",{class:!0});var r=g(e);t=I(r,"Craft"),r.forEach(h),this.h()},h(){b(e,"class","border-2 bg-red-400 border-gray-500 p-1 m-2")},m(l,r){P(l,e,r),u(e,t)},p:B,d(l){l&&h(e)}}}function Yr(s){let e,t,l,r;return{c(){e=E("button"),t=$("Craft"),this.h()},l(i){e=y(i,"BUTTON",{class:!0});var n=g(e);t=I(n,"Craft"),n.forEach(h),this.h()},h(){b(e,"class","border-2 bg-green-400 border-gray-500 p-1 m-2")},m(i,n){P(i,e,n),u(e,t),l||(r=ie(e,"click",s[4]),l=!0)},p:B,d(i){i&&h(e),l=!1,r()}}}function Mt(s){let e,t,l=s[7].id+"",r,i,n,a,o,f,c,d,v,p,k,_=s[7].output.symbol+"",m,w,M,D=s[7].output.name+"",A,U,S,L,T=s[7].inputIds,X=[];for(let R=0;R<T.length;R+=1)X[R]=Vt(yt(s,T,R));function V(R,F){return(S==null||F&11)&&(S=ve(R[0],R[1]/1e3,R[7].inputIds[0].id)>parseInt(R[7].inputQuantities[0])&&ve(R[0],R[1]/1e3,R[7].inputIds[1].id)>parseInt(R[7].inputQuantities[1])),S?Yr:Nr}let C=V(s,-1),O=C(s);return{c(){e=E("div"),t=$("Recipe "),r=$(l),i=N(),n=E("div"),a=E("div");for(let R=0;R<X.length;R+=1)X[R].c();o=N(),f=E("div"),c=$("\u27A1\uFE0F"),d=N(),v=E("div"),p=E("div"),k=E("div"),m=$(_),w=N(),M=E("div"),A=$(D),U=N(),O.c(),L=N(),this.h()},l(R){e=y(R,"DIV",{class:!0});var F=g(e);t=I(F,"Recipe "),r=I(F,l),F.forEach(h),i=Y(R),n=y(R,"DIV",{class:!0});var z=g(n);a=y(z,"DIV",{});var q=g(a);for(let oe=0;oe<X.length;oe+=1)X[oe].l(q);q.forEach(h),o=Y(z),f=y(z,"DIV",{class:!0});var W=g(f);c=I(W,"\u27A1\uFE0F"),W.forEach(h),d=Y(z),v=y(z,"DIV",{class:!0});var J=g(v);p=y(J,"DIV",{class:!0});var K=g(p);k=y(K,"DIV",{class:!0});var de=g(k);m=I(de,_),de.forEach(h),w=Y(K),M=y(K,"DIV",{class:!0});var se=g(M);A=I(se,D),se.forEach(h),K.forEach(h),U=Y(J),O.l(J),J.forEach(h),L=Y(z),z.forEach(h),this.h()},h(){b(e,"class","text-xl "),b(f,"class","text-2xl"),b(k,"class","border-2 text-2xl"),b(M,"class","border-2 text-xl bg-gray-300"),b(p,"class","border-2 text-center"),b(v,"class","flex flex-col"),b(n,"class","flex flex-row justify-between m-2 border-2")},m(R,F){P(R,e,F),u(e,t),u(e,r),P(R,i,F),P(R,n,F),u(n,a);for(let z=0;z<X.length;z+=1)X[z].m(a,null);u(n,o),u(n,f),u(f,c),u(n,d),u(n,v),u(v,p),u(p,k),u(k,m),u(p,w),u(p,M),u(M,A),u(v,U),O.m(v,null),u(n,L)},p(R,F){if(F&8&&l!==(l=R[7].id+"")&&G(r,l),F&8){T=R[7].inputIds;let z;for(z=0;z<T.length;z+=1){const q=yt(R,T,z);X[z]?X[z].p(q,F):(X[z]=Vt(q),X[z].c(),X[z].m(a,null))}for(;z<X.length;z+=1)X[z].d(1);X.length=T.length}F&8&&_!==(_=R[7].output.symbol+"")&&G(m,_),F&8&&D!==(D=R[7].output.name+"")&&G(A,D),C===(C=V(R,F))&&O?O.p(R,F):(O.d(1),O=C(R),O&&(O.c(),O.m(v,null)))},d(R){R&&h(e),R&&h(i),R&&h(n),Me(X,R),O.d()}}}function Lr(s){let e;function t(i,n){return i[3].step?i[3].error?Tr:i[3].step==="LOADING"?Cr:i[3].data?Sr:Pr:Br}let l=t(s),r=l(s);return{c(){r.c(),e=re()},l(i){r.l(i),e=re()},m(i,n){r.m(i,n),P(i,e,n)},p(i,n){l===(l=t(i))&&r?r.p(i,n):(r.d(1),r=l(i),r&&(r.c(),r.m(e.parentNode,e)))},d(i){r.d(i),i&&h(e)}}}function Ar(s){let e,t,l,r,i,n,a,o,f,c,d=s[2]&&Dt(s);return{c(){e=E("div"),d&&d.c(),t=N(),l=E("div"),r=$("Crafting"),i=N(),n=E("button"),a=$("View the crafting table"),this.h()},l(v){e=y(v,"DIV",{});var p=g(e);d&&d.l(p),t=Y(p),l=y(p,"DIV",{class:!0});var k=g(l);r=I(k,"Crafting"),k.forEach(h),i=Y(p),n=y(p,"BUTTON",{class:!0});var _=g(n);a=I(_,"View the crafting table"),_.forEach(h),p.forEach(h),this.h()},h(){b(l,"class","text-xl"),b(n,"class","border-2 border-gray-700 p-1")},m(v,p){P(v,e,p),d&&d.m(e,null),u(e,t),u(e,l),u(l,r),u(e,i),u(e,n),u(n,a),o=!0,f||(c=ie(n,"click",s[6]),f=!0)},p(v,[p]){v[2]?d?(d.p(v,p),p&4&&j(d,1)):(d=Dt(v),d.c(),j(d,1),d.m(e,t)):d&&(fe(),H(d,1,1,()=>{d=null}),ue())},i(v){o||(j(d),o=!0)},o(v){H(d),o=!1},d(v){v&&h(e),d&&d.d(),f=!1,c()}}}function Ur(s,e,t){let l;Ie(s,Mr,c=>t(3,l=c));let{currentPlayer:r}=e;async function i(){await be.execute(c=>c.UnionQuest.craft(0))}let n=Date.now(),a=!1;Oe(()=>{const c=setInterval(()=>{t(1,n=Date.now())},100);return()=>{clearInterval(c)}});const o=()=>t(2,a=!1),f=()=>t(2,a=!0);return s.$$set=c=>{"currentPlayer"in c&&t(0,r=c.currentPlayer)},[r,n,a,l,i,o,f]}class Or extends ge{constructor(e){super();we(this,e,Ur,Ar,$e,{currentPlayer:0})}}function St(s,e,t){const l=s.slice();return l[7]=e[t],l}function Pt(s,e,t){const l=s.slice();return l[21]=e[t],l[23]=t,l}function Ct(s){let e,t;return e=new Pe({props:{title:"Info",closeButton:!0,$$slots:{default:[jr]},$$scope:{ctx:s}}}),e.$on("close",s[15]),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){te(e,l,r),t=!0},p(l,r){const i={};r&16777216&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function jr(s){let e,t,l,r,i,n,a,o,f,c,d,v,p,k,_,m,w,M;return{c(){e=E("div"),t=$("As a reward for improving your skills, you are entitled to a credit line from the Bank of UnionQuest."),l=N(),r=E("div"),i=$("Your vouch must be manually updated and does "),n=E("div"),a=$("not"),o=$(`
        automatically increase when you perform an activity. This difference is indicated by the
        `),f=E("span"),c=$('"Actual Vouch"'),d=$(`
        and `),v=E("span"),p=$('"Potential Vouch"'),k=$(" amounts."),_=N(),m=E("div"),w=E("a"),M=$("View the Bank on union.finance"),this.h()},l(D){e=y(D,"DIV",{class:!0});var A=g(e);t=I(A,"As a reward for improving your skills, you are entitled to a credit line from the Bank of UnionQuest."),A.forEach(h),l=Y(D),r=y(D,"DIV",{class:!0});var U=g(r);i=I(U,"Your vouch must be manually updated and does "),n=y(U,"DIV",{class:!0});var S=g(n);a=I(S,"not"),S.forEach(h),o=I(U,`
        automatically increase when you perform an activity. This difference is indicated by the
        `),f=y(U,"SPAN",{class:!0});var L=g(f);c=I(L,'"Actual Vouch"'),L.forEach(h),d=I(U,`
        and `),v=y(U,"SPAN",{class:!0});var T=g(v);p=I(T,'"Potential Vouch"'),T.forEach(h),k=I(U," amounts."),U.forEach(h),_=Y(D),m=y(D,"DIV",{class:!0});var X=g(m);w=y(X,"A",{rel:!0,target:!0,href:!0});var V=g(w);M=I(V,"View the Bank on union.finance"),V.forEach(h),X.forEach(h),this.h()},h(){b(e,"class","p-1"),b(n,"class","inline font-bold"),b(f,"class","italic"),b(v,"class","italic"),b(r,"class","p-1"),b(w,"rel","noopener"),b(w,"target","_blank"),b(w,"href",`https://kovan.union.finance/profile/${Be.contracts.UnionQuest.address}`),b(m,"class","border-2 bg-gray-200 border-gray-500 m-1 p-2")},m(D,A){P(D,e,A),u(e,t),P(D,l,A),P(D,r,A),u(r,i),u(r,n),u(n,a),u(r,o),u(r,f),u(f,c),u(r,d),u(r,v),u(v,p),u(r,k),P(D,_,A),P(D,m,A),u(m,w),u(w,M)},p:B,d(D){D&&h(e),D&&h(l),D&&h(r),D&&h(_),D&&h(m)}}}function Tt(s){let e,t,l,r,i,n;function a(){return s[16](s[23])}return{c(){e=E("button"),t=$(s[21]),l=N(),this.h()},l(o){e=y(o,"BUTTON",{class:!0});var f=g(e);t=I(f,s[21]),l=Y(f),f.forEach(h),this.h()},h(){b(e,"class",r="w-12 border-2 border-gray-700 "+(s[1]===s[23]?"bg-red-700":"bg-neutral-400"))},m(o,f){P(o,e,f),u(e,t),u(e,l),i||(n=ie(e,"click",a),i=!0)},p(o,f){s=o,f&2&&r!==(r="w-12 border-2 border-gray-700 "+(s[1]===s[23]?"bg-red-700":"bg-neutral-400"))&&b(e,"class",r)},d(o){o&&h(e),i=!1,n()}}}function Xr(s){let e,t,l,r,i,n,a,o,f,c,d,v,p;return{c(){e=E("div"),t=E("div"),l=$("Settings"),r=N(),i=E("div"),n=N(),a=E("div"),o=$("Allow DAI transfers for The Shop"),f=N(),c=E("div"),d=$("Allow NFT transfers for The Shop"),this.h()},l(k){e=y(k,"DIV",{});var _=g(e);t=y(_,"DIV",{class:!0});var m=g(t);l=I(m,"Settings"),m.forEach(h),r=Y(_),i=y(_,"DIV",{});var w=g(i);n=Y(w),a=y(w,"DIV",{class:!0});var M=g(a);o=I(M,"Allow DAI transfers for The Shop"),M.forEach(h),f=Y(w),c=y(w,"DIV",{class:!0});var D=g(c);d=I(D,"Allow NFT transfers for The Shop"),D.forEach(h),w.forEach(h),_.forEach(h),this.h()},h(){b(t,"class","text-xl"),b(a,"class","border-2"),b(c,"class","border-2")},m(k,_){P(k,e,_),u(e,t),u(t,l),u(e,r),u(e,i),u(i,n),u(i,a),u(a,o),u(i,f),u(i,c),u(c,d),v||(p=[ie(a,"click",s[9]),ie(c,"click",s[10])],v=!0)},p(k,_){},i:B,o:B,d(k){k&&h(e),v=!1,Qe(p)}}}function Rr(s){let e,t,l,r,i,n,a,o,f,c,d,v,p=s[13](parseInt(s[0].vouch)/10**18)+"",k,_,m,w,M,D,A,U,S,L=s[13]((ce(s[0],s[3]/1e3,1)+ce(s[0],s[3]/1e3,2))/10**2)+"",T,X,V,C,O,R,F,z,q;return m=new Le({}),V=new Le({}),{c(){e=E("div"),t=E("div"),l=$(`Vouching rewards
          `),r=E("button"),i=$("\u2139\uFE0F"),n=N(),a=E("div"),o=E("div"),f=E("div"),c=$("Actual Vouch:"),d=N(),v=E("div"),k=$(p),_=N(),x(m.$$.fragment),w=N(),M=E("div"),D=E("div"),A=$("Potential Vouch:"),U=N(),S=E("div"),T=$(L),X=N(),x(V.$$.fragment),C=N(),O=E("button"),R=$("Update"),this.h()},l(W){e=y(W,"DIV",{});var J=g(e);t=y(J,"DIV",{class:!0});var K=g(t);l=I(K,`Vouching rewards
          `),r=y(K,"BUTTON",{class:!0});var de=g(r);i=I(de,"\u2139\uFE0F"),de.forEach(h),K.forEach(h),n=Y(J),a=y(J,"DIV",{class:!0});var se=g(a);o=y(se,"DIV",{class:!0});var oe=g(o);f=y(oe,"DIV",{class:!0});var he=g(f);c=I(he,"Actual Vouch:"),he.forEach(h),d=Y(oe),v=y(oe,"DIV",{class:!0});var De=g(v);k=I(De,p),_=Y(De),ee(m.$$.fragment,De),De.forEach(h),oe.forEach(h),w=Y(se),M=y(se,"DIV",{class:!0});var Q=g(M);D=y(Q,"DIV",{class:!0});var Z=g(D);A=I(Z,"Potential Vouch:"),Z.forEach(h),U=Y(Q),S=y(Q,"DIV",{class:!0});var ae=g(S);T=I(ae,L),X=Y(ae),ee(V.$$.fragment,ae),ae.forEach(h),Q.forEach(h),C=Y(se),O=y(se,"BUTTON",{class:!0});var ke=g(O);R=I(ke,"Update"),ke.forEach(h),se.forEach(h),J.forEach(h),this.h()},h(){b(r,"class","border-2 border-gray-700"),b(t,"class","text-xl"),b(f,"class","font-bold"),b(v,"class","flex"),b(o,"class","text-left flex"),b(D,"class","font-bold"),b(S,"class","flex"),b(M,"class","text-left flex"),b(O,"class","border-2 bg-yellow-400 border-gray-500 p-1"),b(a,"class","p-1")},m(W,J){P(W,e,J),u(e,t),u(t,l),u(t,r),u(r,i),u(e,n),u(e,a),u(a,o),u(o,f),u(f,c),u(o,d),u(o,v),u(v,k),u(v,_),te(m,v,null),u(a,w),u(a,M),u(M,D),u(D,A),u(M,U),u(M,S),u(S,T),u(S,X),te(V,S,null),u(a,C),u(a,O),u(O,R),F=!0,z||(q=[ie(r,"click",s[18]),ie(O,"click",s[11])],z=!0)},p(W,J){(!F||J&1)&&p!==(p=W[13](parseInt(W[0].vouch)/10**18)+"")&&G(k,p),(!F||J&9)&&L!==(L=W[13]((ce(W[0],W[3]/1e3,1)+ce(W[0],W[3]/1e3,2))/10**2)+"")&&G(T,L)},i(W){F||(j(m.$$.fragment,W),j(V.$$.fragment,W),F=!0)},o(W){H(m.$$.fragment,W),H(V.$$.fragment,W),F=!1},d(W){W&&h(e),le(m),le(V),z=!1,Qe(q)}}}function Hr(s){let e,t;return e=new Or({props:{currentPlayer:s[0]}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){te(e,l,r),t=!0},p(l,r){const i={};r&1&&(i.currentPlayer=l[0]),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function qr(s){let e,t;return e=new Dr({props:{currentPlayer:s[0],balance:s[7]}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){te(e,l,r),t=!0},p(l,r){const i={};r&1&&(i.currentPlayer=l[0]),r&128&&(i.balance=l[7]),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function zr(s){let e,t,l,r,i;function n(f,c){return(i==null||c&9)&&(i=f[0].balances.filter(f[14]).length>0),i?Fr:Gr}let a=n(s,-1),o=a(s);return{c(){e=E("div"),t=E("div"),l=$("Equipment"),r=N(),o.c(),this.h()},l(f){e=y(f,"DIV",{});var c=g(e);t=y(c,"DIV",{class:!0});var d=g(t);l=I(d,"Equipment"),d.forEach(h),r=Y(c),o.l(c),c.forEach(h),this.h()},h(){b(t,"class","text-xl")},m(f,c){P(f,e,c),u(e,t),u(t,l),u(e,r),o.m(e,null)},p(f,c){a===(a=n(f,c))&&o?o.p(f,c):(o.d(1),o=a(f),o&&(o.c(),o.m(e,null)))},i:B,o:B,d(f){f&&h(e),o.d()}}}function Wr(s){let e,t,l,r,i,n,a,o,f=Math.round(ce(s[0],s[3]/1e3,2))+"",c,d,v,p,k=Math.round(ce(s[0],s[3]/1e3,1))+"",_,m,w,M,D,A,U=Math.round(ce(s[0],s[3]/1e3,1)+ce(s[0],s[3]/1e3,2))+"",S;return{c(){e=E("div"),t=E("div"),l=$("Skills"),r=N(),i=E("div"),n=E("div"),a=E("div"),o=$("\u26CF\uFE0F "),c=$(f),d=N(),v=E("div"),p=$("\u{1FA93} "),_=$(k),m=N(),w=E("div"),M=E("div"),D=$("Total level:"),A=N(),S=$(U),this.h()},l(L){e=y(L,"DIV",{});var T=g(e);t=y(T,"DIV",{class:!0});var X=g(t);l=I(X,"Skills"),X.forEach(h),r=Y(T),i=y(T,"DIV",{class:!0});var V=g(i);n=y(V,"DIV",{class:!0});var C=g(n);a=y(C,"DIV",{class:!0});var O=g(a);o=I(O,"\u26CF\uFE0F "),c=I(O,f),O.forEach(h),d=Y(C),v=y(C,"DIV",{class:!0});var R=g(v);p=I(R,"\u{1FA93} "),_=I(R,k),R.forEach(h),C.forEach(h),m=Y(V),w=y(V,"DIV",{class:!0});var F=g(w);M=y(F,"DIV",{class:!0});var z=g(M);D=I(z,"Total level:"),z.forEach(h),A=Y(F),S=I(F,U),F.forEach(h),V.forEach(h),T.forEach(h),this.h()},h(){b(t,"class","text-xl"),b(a,"class","border-2 rounded-lg border-gray-600 m-1 w-full text-center"),b(v,"class","border-2 rounded-lg border-gray-600 m-1 w-full text-center"),b(n,"class","flex"),b(M,"class","inline font-medium"),b(w,"class","border-2 rounded-lg border-gray-600 m-1 text-center"),b(i,"class","text-left text-lg")},m(L,T){P(L,e,T),u(e,t),u(t,l),u(e,r),u(e,i),u(i,n),u(n,a),u(a,o),u(a,c),u(n,d),u(n,v),u(v,p),u(v,_),u(i,m),u(i,w),u(w,M),u(M,D),u(w,A),u(w,S)},p(L,T){T&9&&f!==(f=Math.round(ce(L[0],L[3]/1e3,2))+"")&&G(c,f),T&9&&k!==(k=Math.round(ce(L[0],L[3]/1e3,1))+"")&&G(_,k),T&9&&U!==(U=Math.round(ce(L[0],L[3]/1e3,1)+ce(L[0],L[3]/1e3,2))+"")&&G(S,U)},i:B,o:B,d(L){L&&h(e)}}}function Qr(s){let e,t,l,r,i,n,a=Math.round(s[4])+"",o,f,c=Math.round(s[5])+"",d,v,p,k;function _(M,D){return(k==null||D&49)&&(k=M[4]===parseInt(M[0].endX)&&M[5]===parseInt(M[0].endY)),k?Zr:Kr}let m=_(s,-1),w=m(s);return{c(){e=E("div"),t=E("div"),l=$("Status"),r=N(),i=E("div"),n=$("Location: ("),o=$(a),f=$(", "),d=$(c),v=$(")"),p=N(),w.c(),this.h()},l(M){e=y(M,"DIV",{});var D=g(e);t=y(D,"DIV",{class:!0});var A=g(t);l=I(A,"Status"),A.forEach(h),r=Y(D),i=y(D,"DIV",{});var U=g(i);n=I(U,"Location: ("),o=I(U,a),f=I(U,", "),d=I(U,c),v=I(U,")"),U.forEach(h),p=Y(D),w.l(D),D.forEach(h),this.h()},h(){b(t,"class","text-xl")},m(M,D){P(M,e,D),u(e,t),u(t,l),u(e,r),u(e,i),u(i,n),u(i,o),u(i,f),u(i,d),u(i,v),u(e,p),w.m(e,null)},p(M,D){D&16&&a!==(a=Math.round(M[4])+"")&&G(o,a),D&32&&c!==(c=Math.round(M[5])+"")&&G(d,c),m===(m=_(M,D))&&w?w.p(M,D):(w.d(1),w=m(M),w&&(w.c(),w.m(e,null)))},i:B,o:B,d(M){M&&h(e),w.d()}}}function Gr(s){let e;return{c(){e=$("You don't own any equipment.")},l(t){e=I(t,"You don't own any equipment.")},m(t,l){P(t,e,l)},p:B,d(t){t&&h(e)}}}function Fr(s){let e,t=s[0].balances.filter(s[17]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Bt(St(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=re()},l(r){for(let i=0;i<l.length;i+=1)l[i].l(r);e=re()},m(r,i){for(let n=0;n<l.length;n+=1)l[n].m(r,i);P(r,e,i)},p(r,i){if(i&9){t=r[0].balances.filter(r[17]);let n;for(n=0;n<t.length;n+=1){const a=St(r,t,n);l[n]?l[n].p(a,i):(l[n]=Bt(a),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){Me(l,r),r&&h(e)}}}function Bt(s){let e,t=s[7].item.symbol+"",l,r=s[7].item.name+"",i,n,a=Math.round(ve(s[0],s[3]/1e3,s[7].item.id))+"",o,f;return{c(){e=E("div"),l=$(t),i=$(r),n=$(": "),o=$(a),f=N(),this.h()},l(c){e=y(c,"DIV",{class:!0});var d=g(e);l=I(d,t),i=I(d,r),n=I(d,": "),o=I(d,a),f=Y(d),d.forEach(h),this.h()},h(){b(e,"class","border-2")},m(c,d){P(c,e,d),u(e,l),u(e,i),u(e,n),u(e,o),u(e,f)},p(c,d){d&9&&t!==(t=c[7].item.symbol+"")&&G(l,t),d&9&&r!==(r=c[7].item.name+"")&&G(i,r),d&9&&a!==(a=Math.round(ve(c[0],c[3]/1e3,c[7].item.id))+"")&&G(o,a)},d(c){c&&h(e)}}}function Kr(s){let e,t,l,r,i,n,a,o=s[0].endX+"",f,c,d=s[0].endY+"",v,p,k,_,m,w=s[12](ye(s[4],s[5],parseInt(s[0].endX),parseInt(s[0].endY)))+"",M,D,A,U;return{c(){e=E("div"),t=E("div"),l=$("Walking"),r=N(),i=E("div"),n=E("div"),a=$("Walking to: ("),f=$(o),c=$(", "),v=$(d),p=$(")"),k=N(),_=E("div"),m=$("Distance: "),M=$(w),D=$(` tiles
                `),A=E("div"),U=$("(-0.1 tiles/s)"),this.h()},l(S){e=y(S,"DIV",{class:!0});var L=g(e);t=y(L,"DIV",{});var T=g(t);l=I(T,"Walking"),T.forEach(h),r=Y(L),i=y(L,"DIV",{class:!0});var X=g(i);n=y(X,"DIV",{});var V=g(n);a=I(V,"Walking to: ("),f=I(V,o),c=I(V,", "),v=I(V,d),p=I(V,")"),V.forEach(h),k=Y(X),_=y(X,"DIV",{});var C=g(_);m=I(C,"Distance: "),M=I(C,w),D=I(C,` tiles
                `),A=y(C,"DIV",{class:!0});var O=g(A);U=I(O,"(-0.1 tiles/s)"),O.forEach(h),C.forEach(h),X.forEach(h),L.forEach(h),this.h()},h(){b(A,"class","inline text-sm text-green-700"),b(i,"class","text-left"),b(e,"class","border-2 border-gray-600")},m(S,L){P(S,e,L),u(e,t),u(t,l),u(e,r),u(e,i),u(i,n),u(n,a),u(n,f),u(n,c),u(n,v),u(n,p),u(i,k),u(i,_),u(_,m),u(_,M),u(_,D),u(_,A),u(A,U)},p(S,L){L&1&&o!==(o=S[0].endX+"")&&G(f,o),L&1&&d!==(d=S[0].endY+"")&&G(v,d),L&49&&w!==(w=S[12](ye(S[4],S[5],parseInt(S[0].endX),parseInt(S[0].endY)))+"")&&G(M,w)},d(S){S&&h(e)}}}function Zr(s){let e,t;function l(n,a){return(e==null||a&1)&&(e=ne(parseInt(n[0].endX),parseInt(n[0].endY))===0),e?xr:Jr}let r=l(s,-1),i=r(s);return{c(){i.c(),t=re()},l(n){i.l(n),t=re()},m(n,a){i.m(n,a),P(n,t,a)},p(n,a){r===(r=l(n,a))&&i?i.p(n,a):(i.d(1),i=r(n),i&&(i.c(),i.m(t.parentNode,t)))},d(n){i.d(n),n&&h(t)}}}function Jr(s){let e,t,l,r,i,n,a,o=(ne(parseInt(s[0].endX),parseInt(s[0].endY))===1?"\u{1FA93}":"\u26CF\uFE0F")+"",f,c,d=Math.round(ce(s[0],s[3]/1e3,ne(parseInt(s[0].endX),parseInt(s[0].endY))))+"",v,p,k,_,m,w,M=(ne(parseInt(s[0].endX),parseInt(s[0].endY))===1?"\u{1FAB5}":"\u{1FAA8}")+"",D,A,U=Math.round(ve(s[0],s[3]/1e3,ne(parseInt(s[0].endX),parseInt(s[0].endY)).toString()))+"",S,L,T,X,V=s[12](ce(s[0],s[3]/1e3,ne(parseInt(s[0].endX),parseInt(s[0].endY)))/10)+"",C,O;function R(q,W){return(r==null||W&1)&&(r=ne(parseInt(q[0].endX),parseInt(q[0].endY))===1),r?ts:es}let F=R(s,-1),z=F(s);return{c(){e=E("div"),t=E("div"),l=$(`Activity:
                `),z.c(),i=N(),n=E("div"),a=E("div"),f=$(o),c=N(),v=$(d),p=N(),k=E("div"),_=$("(+0.1 point/s)"),m=N(),w=E("div"),D=$(M),A=N(),S=$(U),L=N(),T=E("div"),X=$("(+"),C=$(V),O=$(" units/s)"),this.h()},l(q){e=y(q,"DIV",{class:!0});var W=g(e);t=y(W,"DIV",{});var J=g(t);l=I(J,`Activity:
                `),z.l(J),J.forEach(h),i=Y(W),n=y(W,"DIV",{class:!0});var K=g(n);a=y(K,"DIV",{});var de=g(a);f=I(de,o),c=Y(de),v=I(de,d),p=Y(de),k=y(de,"DIV",{class:!0});var se=g(k);_=I(se,"(+0.1 point/s)"),se.forEach(h),de.forEach(h),m=Y(K),w=y(K,"DIV",{});var oe=g(w);D=I(oe,M),A=Y(oe),S=I(oe,U),L=Y(oe),T=y(oe,"DIV",{class:!0});var he=g(T);X=I(he,"(+"),C=I(he,V),O=I(he," units/s)"),he.forEach(h),oe.forEach(h),K.forEach(h),W.forEach(h),this.h()},h(){b(k,"class","inline text-sm text-green-700"),b(T,"class","inline text-sm text-green-700"),b(n,"class","text-left"),b(e,"class","border-2 border-gray-600")},m(q,W){P(q,e,W),u(e,t),u(t,l),z.m(t,null),u(e,i),u(e,n),u(n,a),u(a,f),u(a,c),u(a,v),u(a,p),u(a,k),u(k,_),u(n,m),u(n,w),u(w,D),u(w,A),u(w,S),u(w,L),u(w,T),u(T,X),u(T,C),u(T,O)},p(q,W){F!==(F=R(q,W))&&(z.d(1),z=F(q),z&&(z.c(),z.m(t,null))),W&1&&o!==(o=(ne(parseInt(q[0].endX),parseInt(q[0].endY))===1?"\u{1FA93}":"\u26CF\uFE0F")+"")&&G(f,o),W&9&&d!==(d=Math.round(ce(q[0],q[3]/1e3,ne(parseInt(q[0].endX),parseInt(q[0].endY))))+"")&&G(v,d),W&1&&M!==(M=(ne(parseInt(q[0].endX),parseInt(q[0].endY))===1?"\u{1FAB5}":"\u{1FAA8}")+"")&&G(D,M),W&9&&U!==(U=Math.round(ve(q[0],q[3]/1e3,ne(parseInt(q[0].endX),parseInt(q[0].endY)).toString()))+"")&&G(S,U),W&9&&V!==(V=q[12](ce(q[0],q[3]/1e3,ne(parseInt(q[0].endX),parseInt(q[0].endY)))/10)+"")&&G(C,V)},d(q){q&&h(e),z.d()}}}function xr(s){let e,t;return{c(){e=E("div"),t=$("There's nothing to do here!"),this.h()},l(l){e=y(l,"DIV",{class:!0});var r=g(e);t=I(r,"There's nothing to do here!"),r.forEach(h),this.h()},h(){b(e,"class","border-2 border-gray-600")},m(l,r){P(l,e,r),u(e,t)},p:B,d(l){l&&h(e)}}}function es(s){let e;return{c(){e=$("Mining")},l(t){e=I(t,"Mining")},m(t,l){P(t,e,l)},d(t){t&&h(e)}}}function ts(s){let e;return{c(){e=$("Woodcutting")},l(t){e=I(t,"Woodcutting")},m(t,l){P(t,e,l)},d(t){t&&h(e)}}}function ls(s){let e,t,l,r=s[6].address.slice(0,4)+"",i,n,a=s[6].address.slice(-4)+"",o,f,c,d,v,p,k=Math.round(ve(s[0],s[3]/1e3,"1"))+"",_,m,w,M,D=Math.round(ve(s[0],s[3]/1e3,"2"))+"",A,U,S,L,T=s[7].div("1000000000000000000")+"",X,V,C,O,R,F,z,q,W,J,K=s[2]&&Ct(s);c=new ft({props:{address:s[6].address,class:"m-1 h-6 w-6"}}),C=new Le({});let de=["\u{1F3AE}","\u{1F4CA}","\u{1F392}","\u{1F3EA}","\u{1F6E0}\uFE0F","\u{1F3E6}","\u2699\uFE0F"],se=[];for(let Q=0;Q<7;Q+=1)se[Q]=Tt(Pt(s,de,Q));const oe=[Qr,Wr,zr,qr,Hr,Rr,Xr],he=[];function De(Q,Z){return Q[1]===0?0:Q[1]===1?1:Q[1]===2?2:Q[1]===3?3:Q[1]===4?4:Q[1]===5?5:6}return q=De(s),W=he[q]=oe[q](s),{c(){e=E("div"),K&&K.c(),t=N(),l=E("div"),i=$(r),n=$("..."),o=$(a),f=N(),x(c.$$.fragment),d=N(),v=E("div"),p=E("div"),_=$(k),m=$(" \u{1FAB5}"),w=N(),M=E("div"),A=$(D),U=$(" \u{1FAA8}"),S=N(),L=E("div"),X=$(T),V=N(),x(C.$$.fragment),O=N(),R=E("div");for(let Q=0;Q<7;Q+=1)se[Q].c();F=N(),z=E("div"),W.c(),this.h()},l(Q){e=y(Q,"DIV",{class:!0});var Z=g(e);K&&K.l(Z),t=Y(Z),l=y(Z,"DIV",{class:!0});var ae=g(l);i=I(ae,r),n=I(ae,"..."),o=I(ae,a),f=Y(ae),ee(c.$$.fragment,ae),ae.forEach(h),d=Y(Z),v=y(Z,"DIV",{class:!0});var ke=g(v);p=y(ke,"DIV",{class:!0});var _e=g(p);_=I(_e,k),m=I(_e," \u{1FAB5}"),_e.forEach(h),w=Y(ke),M=y(ke,"DIV",{class:!0});var Ce=g(M);A=I(Ce,D),U=I(Ce," \u{1FAA8}"),Ce.forEach(h),S=Y(ke),L=y(ke,"DIV",{class:!0});var Ae=g(L);X=I(Ae,T),V=Y(Ae),ee(C.$$.fragment,Ae),Ae.forEach(h),ke.forEach(h),O=Y(Z),R=y(Z,"DIV",{class:!0});var rt=g(R);for(let Re=0;Re<7;Re+=1)se[Re].l(rt);rt.forEach(h),F=Y(Z),z=y(Z,"DIV",{class:!0});var st=g(z);W.l(st),st.forEach(h),Z.forEach(h),this.h()},h(){b(l,"class","flex text-2xl justify-center p-2"),b(p,"class","border-2 w-full border-gray-500"),b(M,"class","border-2 w-full border-gray-500"),b(L,"class","flex border-2 border-gray-500 w-full justify-center"),b(v,"class","flex text-2xl justify-between text-base"),b(R,"class","flex text-2xl justify-start"),b(z,"class","border-2 border-gray-700 p-2 h-full"),b(e,"class","flex flex-col text-center bg-neutral-300 w-64 h-72")},m(Q,Z){P(Q,e,Z),K&&K.m(e,null),u(e,t),u(e,l),u(l,i),u(l,n),u(l,o),u(l,f),te(c,l,null),u(e,d),u(e,v),u(v,p),u(p,_),u(p,m),u(v,w),u(v,M),u(M,A),u(M,U),u(v,S),u(v,L),u(L,X),u(L,V),te(C,L,null),u(e,O),u(e,R);for(let ae=0;ae<7;ae+=1)se[ae].m(R,null);u(e,F),u(e,z),he[q].m(z,null),J=!0},p(Q,[Z]){Q[2]?K?(K.p(Q,Z),Z&4&&j(K,1)):(K=Ct(Q),K.c(),j(K,1),K.m(e,t)):K&&(fe(),H(K,1,1,()=>{K=null}),ue()),(!J||Z&64)&&r!==(r=Q[6].address.slice(0,4)+"")&&G(i,r),(!J||Z&64)&&a!==(a=Q[6].address.slice(-4)+"")&&G(o,a);const ae={};if(Z&64&&(ae.address=Q[6].address),c.$set(ae),(!J||Z&9)&&k!==(k=Math.round(ve(Q[0],Q[3]/1e3,"1"))+"")&&G(_,k),(!J||Z&9)&&D!==(D=Math.round(ve(Q[0],Q[3]/1e3,"2"))+"")&&G(A,D),(!J||Z&128)&&T!==(T=Q[7].div("1000000000000000000")+"")&&G(X,T),Z&2){de=["\u{1F3AE}","\u{1F4CA}","\u{1F392}","\u{1F3EA}","\u{1F6E0}\uFE0F","\u{1F3E6}","\u2699\uFE0F"];let _e;for(_e=0;_e<7;_e+=1){const Ce=Pt(Q,de,_e);se[_e]?se[_e].p(Ce,Z):(se[_e]=Tt(Ce),se[_e].c(),se[_e].m(R,null))}for(;_e<7;_e+=1)se[_e].d(1)}let ke=q;q=De(Q),q===ke?he[q].p(Q,Z):(fe(),H(he[ke],1,1,()=>{he[ke]=null}),ue(),W=he[q],W?W.p(Q,Z):(W=he[q]=oe[q](Q),W.c()),j(W,1),W.m(z,null))},i(Q){J||(j(K),j(c.$$.fragment,Q),j(C.$$.fragment,Q),j(W),J=!0)},o(Q){H(K),H(c.$$.fragment,Q),H(C.$$.fragment,Q),H(W),J=!1},d(Q){Q&&h(e),K&&K.d(),le(c),le(C),Me(se,Q),he[q].d()}}}function rs(s,e,t){let l;Ie(s,Te,S=>t(6,l=S));let{currentPlayer:r}=e;async function i(){await be.execute(S=>S.DAI.mint(l.address,"100000000000000000000"))}async function n(){await be.execute(S=>S.DAI.approve(S.UnionQuest.address,"100000000000000000000000000000000"))}async function a(){await be.execute(S=>S.UnionQuest.setApprovalForAll(S.UnionQuest.address,!0))}async function o(){await be.execute(S=>S.UnionQuest.updateTrust(l.address))}let f=0,c=!1,d=Date.now(),v=0,p=0,k=ll.from("0");const _=S=>Math.round(S*10)/10,m=S=>Math.round(S*100)/100;Oe(()=>{be.execute(L=>L.DAI.balanceOf(l.address).then(T=>t(7,k=T)));const S=setInterval(()=>{t(3,d=Date.now()),r&&t(4,[v,p]=Ee(r,d/1e3),v,t(5,p))},100);return()=>{clearInterval(S)}});const w=S=>S.item.id!=="1"&&S.item.id!=="2"&&Math.round(ve(r,d/1e3,S.item.id))>0,M=()=>t(2,c=!1),D=S=>t(1,f=S),A=S=>S.item.id!=="1"&&S.item.id!=="2"&&Math.round(ve(r,d/1e3,S.item.id))>0,U=()=>t(2,c=!0);return s.$$set=S=>{"currentPlayer"in S&&t(0,r=S.currentPlayer)},[r,f,c,d,v,p,l,k,i,n,a,o,_,m,w,M,D,A,U]}class ss extends ge{constructor(e){super();we(this,e,rs,ls,$e,{currentPlayer:0})}}function Nt(s){let e,t;return e=new Pe({props:{title:`Tile (${s[1]},${s[2]})`,closeButton:!0,$$slots:{default:[cs]},$$scope:{ctx:s}}}),e.$on("close",s[8]),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){te(e,l,r),t=!0},p(l,r){const i={};r&6&&(i.title=`Tile (${l[1]},${l[2]})`),r&542&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function ns(s){let e,t;return{c(){e=E("div"),t=$("You need to join the game first!")},l(l){e=y(l,"DIV",{});var r=g(e);t=I(r,"You need to join the game first!"),r.forEach(h)},m(l,r){P(l,e,r),u(e,t)},p:B,d(l){l&&h(e)}}}function is(s){let e,t,l,r=s[5](ye(s[1],s[2],Ee(s[3],s[4]/1e3)[0],Ee(s[3],s[4]/1e3)[1]))+"",i,n,a,o,f,c,d=s[5](Lt*ye(s[1],s[2],Ee(s[3],s[4]/1e3)[0],Ee(s[3],s[4]/1e3)[1]))+"",v,p,k,_,m,w,M,D,A,U,S;function L(V,C){return(w==null||C&6)&&(w=ne(V[1],V[2])!==0),w?as:os}let T=L(s,-1),X=T(s);return{c(){e=E("div"),t=E("div"),l=$("This tile is "),i=$(r),n=$(" unit(s) from you."),a=N(),o=E("div"),f=$(`It will take
                `),c=E("span"),v=$(d),p=$(" seconds"),k=$(`
                to walk here.`),_=N(),m=E("div"),X.c(),M=N(),D=E("button"),A=$("MOVE HERE"),this.h()},l(V){e=y(V,"DIV",{class:!0});var C=g(e);t=y(C,"DIV",{});var O=g(t);l=I(O,"This tile is "),i=I(O,r),n=I(O," unit(s) from you."),O.forEach(h),a=Y(C),o=y(C,"DIV",{});var R=g(o);f=I(R,`It will take
                `),c=y(R,"SPAN",{class:!0});var F=g(c);v=I(F,d),p=I(F," seconds"),F.forEach(h),k=I(R,`
                to walk here.`),R.forEach(h),_=Y(C),m=y(C,"DIV",{});var z=g(m);X.l(z),z.forEach(h),M=Y(C),D=y(C,"BUTTON",{class:!0,type:!0});var q=g(D);A=I(q,"MOVE HERE"),q.forEach(h),C.forEach(h),this.h()},h(){b(c,"class","font-bold"),b(D,"class","flex-shrink-0 bg-yellow-500 hover:bg-yellow-600 border-yellow-500 hover:border-yellow-600 text-sm border-4 text-white py-1 px-2 rounded disabled:bg-gray-400 disabled:border-gray-400 disabled:cursor-not-allowed m-1"),b(D,"type","button"),b(e,"class","p-1")},m(V,C){P(V,e,C),u(e,t),u(t,l),u(t,i),u(t,n),u(e,a),u(e,o),u(o,f),u(o,c),u(c,v),u(c,p),u(o,k),u(e,_),u(e,m),X.m(m,null),u(e,M),u(e,D),u(D,A),U||(S=ie(D,"click",s[7]),U=!0)},p(V,C){C&30&&r!==(r=V[5](ye(V[1],V[2],Ee(V[3],V[4]/1e3)[0],Ee(V[3],V[4]/1e3)[1]))+"")&&G(i,r),C&30&&d!==(d=V[5](Lt*ye(V[1],V[2],Ee(V[3],V[4]/1e3)[0],Ee(V[3],V[4]/1e3)[1]))+"")&&G(v,d),T===(T=L(V,C))&&X?X.p(V,C):(X.d(1),X=T(V),X&&(X.c(),X.m(m,null)))},d(V){V&&h(e),X.d(),U=!1,S()}}}function os(s){let e;return{c(){e=$("There are no resources on this tile.")},l(t){e=I(t,"There are no resources on this tile.")},m(t,l){P(t,e,l)},p:B,d(t){t&&h(e)}}}function as(s){let e,t,l=(ne(s[1],s[2])===1?"\u{1FAB5}":"\u{1FAA8}")+"",r,i,n,a=Math.round(ce(s[3],s[4]/1e3,ne(s[1],s[2])))+"",o,f;return{c(){e=$(`Once you arrive, you will start gathering
                  `),t=E("span"),r=$(l),i=$(`
                  at a rate of
                  `),n=E("div"),o=$(a),f=$(`
                  units/s.`),this.h()},l(c){e=I(c,`Once you arrive, you will start gathering
                  `),t=y(c,"SPAN",{class:!0});var d=g(t);r=I(d,l),d.forEach(h),i=I(c,`
                  at a rate of
                  `),n=y(c,"DIV",{class:!0});var v=g(n);o=I(v,a),v.forEach(h),f=I(c,`
                  units/s.`),this.h()},h(){b(t,"class","inline font-bold"),b(n,"class","inline font-bold")},m(c,d){P(c,e,d),P(c,t,d),u(t,r),P(c,i,d),P(c,n,d),u(n,o),P(c,f,d)},p(c,d){d&6&&l!==(l=(ne(c[1],c[2])===1?"\u{1FAB5}":"\u{1FAA8}")+"")&&G(r,l),d&30&&a!==(a=Math.round(ce(c[3],c[4]/1e3,ne(c[1],c[2])))+"")&&G(o,a)},d(c){c&&h(e),c&&h(t),c&&h(i),c&&h(n),c&&h(f)}}}function Yt(s){let e,t;return{c(){e=E("div"),t=$("This is the spawn tile. All new players enter the UnionQuest world from here."),this.h()},l(l){e=y(l,"DIV",{class:!0});var r=g(e);t=I(r,"This is the spawn tile. All new players enter the UnionQuest world from here."),r.forEach(h),this.h()},h(){b(e,"class","italic")},m(l,r){P(l,e,r),u(e,t)},d(l){l&&h(e)}}}function cs(s){let e,t,l;function r(o,f){return o[3]?is:ns}let i=r(s),n=i(s),a=s[1]===0&&s[2]===0&&Yt();return{c(){e=E("div"),t=E("div"),n.c(),l=N(),a&&a.c(),this.h()},l(o){e=y(o,"DIV",{class:!0});var f=g(e);t=y(f,"DIV",{class:!0});var c=g(t);n.l(c),l=Y(c),a&&a.l(c),c.forEach(h),f.forEach(h),this.h()},h(){b(t,"class","p-2 border-2 border-gray-400 h-full"),b(e,"class","flex flex-col border-2 border-gray-400 text-center")},m(o,f){P(o,e,f),u(e,t),n.m(t,null),u(t,l),a&&a.m(t,null)},p(o,f){i===(i=r(o))&&n?n.p(o,f):(n.d(1),n=i(o),n&&(n.c(),n.m(t,l))),o[1]===0&&o[2]===0?a||(a=Yt(),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(o){o&&h(e),n.d(),a&&a.d()}}}function fs(s){let e,t,l=s[0]&&Nt(s);return{c(){e=E("div"),l&&l.c()},l(r){e=y(r,"DIV",{});var i=g(e);l&&l.l(i),i.forEach(h)},m(r,i){P(r,e,i),l&&l.m(e,null),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&j(l,1)):(l=Nt(r),l.c(),j(l,1),l.m(e,null)):l&&(fe(),H(l,1,1,()=>{l=null}),ue())},i(r){t||(j(l),t=!0)},o(r){H(l),t=!1},d(r){r&&h(e),l&&l.d()}}}const Lt=10;function us(s,e,t){let{x:l}=e,{y:r}=e,{currentPlayer:i}=e,{showModal:n}=e;const a=v=>Math.round(v*10)/10;async function o(v,p){await be.execute(k=>k.UnionQuest.move(v,p))}let f=Date.now();Oe(()=>{const v=setInterval(()=>{t(4,f=Date.now())},100);return()=>{clearInterval(v)}});const c=()=>o(l,r),d=()=>t(0,n=!1);return s.$$set=v=>{"x"in v&&t(1,l=v.x),"y"in v&&t(2,r=v.y),"currentPlayer"in v&&t(3,i=v.currentPlayer),"showModal"in v&&t(0,n=v.showModal)},[n,l,r,i,f,a,o,c,d]}class ds extends ge{constructor(e){super();we(this,e,us,fs,$e,{x:1,y:2,currentPlayer:3,showModal:0})}}function At(s,e,t){const l=s.slice();return l[24]=e[t],l}function Ut(s){let e,t;return e=new ft({props:{class:"hidden",address:s[24].id}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){te(e,l,r),t=!0},p(l,r){const i={};r&1&&(i.address=l[24].id),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function hs(s){let e,t,l,r,i,n,a;function o(p){s[6](p)}let f={x:s[3]+.5,y:s[4]+.5,currentPlayer:s[1]};s[5]!==void 0&&(f.showModal=s[5]),t=new ds({props:f}),Ue.push(()=>rl(t,"showModal",o));let c=s[0],d=[];for(let p=0;p<c.length;p+=1)d[p]=Ut(At(s,c,p));const v=p=>H(d[p],1,1,()=>{d[p]=null});return{c(){e=E("div"),x(t.$$.fragment),r=N(),i=E("canvas"),n=N();for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){e=y(p,"DIV",{});var k=g(e);ee(t.$$.fragment,k),r=Y(k),i=y(k,"CANVAS",{class:!0}),g(i).forEach(h),n=Y(k);for(let _=0;_<d.length;_+=1)d[_].l(k);k.forEach(h),this.h()},h(){b(i,"class","svelte-1up74zk")},m(p,k){P(p,e,k),te(t,e,null),u(e,r),u(e,i),s[7](i),u(e,n);for(let _=0;_<d.length;_+=1)d[_].m(e,null);a=!0},p(p,[k]){const _={};if(k&8&&(_.x=p[3]+.5),k&16&&(_.y=p[4]+.5),k&2&&(_.currentPlayer=p[1]),!l&&k&32&&(l=!0,_.showModal=p[5],sl(()=>l=!1)),t.$set(_),k&1){c=p[0];let m;for(m=0;m<c.length;m+=1){const w=At(p,c,m);d[m]?(d[m].p(w,k),j(d[m],1)):(d[m]=Ut(w),d[m].c(),j(d[m],1),d[m].m(e,null))}for(fe(),m=c.length;m<d.length;m+=1)v(m);ue()}},i(p){if(!a){j(t.$$.fragment,p);for(let k=0;k<c.length;k+=1)j(d[k]);a=!0}},o(p){H(t.$$.fragment,p),d=d.filter(Boolean);for(let k=0;k<d.length;k+=1)H(d[k]);a=!1},d(p){p&&h(e),le(t),s[7](null),Me(d,p)}}}const _s=25,vs=100;function Xe(s){if(s.touches&&s.touches.length==1)return{x:s.touches[0].clientX,y:s.touches[0].clientY};if(s.clientX&&s.clientY)return{x:s.clientX,y:s.clientY}}function ps(s,e,t){let{players:l}=e,{currentPlayer:r}=e,i=Date.now(),n,a=50,o,f=!1,c={x:0,y:0},d=1e8,v=1e8,p=!1,k={};const _=()=>{let V=n.getContext("2d");t(2,n.width=window.innerWidth,n),t(2,n.height=window.innerHeight,n),V.setTransform(1,0,0,1,0,0),V.translate(window.innerWidth/2,window.innerHeight/2),V.scale(a,a),V.translate(-window.innerWidth/2+o.x,-window.innerHeight/2+o.y),V.clearRect(0,0,window.innerWidth,window.innerHeight),V.strokeStyle="#BBBBBB",V.lineWidth=.01,V.font="1px Arial";for(let C=-50;C<50;C++)for(let O=-50;O<50;O++)V.fillStyle="#808080",V.fillRect(C-.5,O-.5,1,1),V.fillText("\u26F0\uFE0F",C-.5,O+.5);for(let C=-9;C<11;C++)for(let O=-9;O<11;O++)k[C]||(k[C]={}),k[C][O]||(k[C][O]=ne(C,O)),C===0&&O===0?(V.fillStyle="#1CA3EC",V.fillRect(C-.5,O-.5,1,1),V.fillText("\u{1F3F0}",C-.5,O+.5)):k[C][O]===1?(V.fillStyle="#22c55e",V.fillRect(C-.5,O-.5,1,1),V.fillText("\u{1F332}",C-.5,O+.5)):k[C][O]===2?(V.fillStyle="#cd9575",V.fillRect(C-.5,O-.5,1,1),V.fillText("\u{1FAA8}",C-.5,O+.5)):(V.fillStyle="#59A608",V.fillRect(C-.5,O-.5,1,1)),V.strokeRect(C-.5,O-.5,1,1);V.lineWidth=.04,r&&(V.strokeStyle="#FF0000",V.strokeRect(parseInt(r.endX)-.5,parseInt(r.endY)-.5,1,1)),l.forEach(C=>{const O=Ee(C,i/1e3);let R=document.getElementById(C.id);V.drawImage(R,O[0]-.25,O[1]-.25,.5,.5),V.strokeStyle="#ffffff",V.strokeRect(O[0]-.25,O[1]-.25,.5,.5),O[0]===parseInt(C.endX)&&O[1]===parseInt(C.endY)&&ne(parseInt(C.endX),parseInt(C.endY))&&(ne(parseInt(C.endX),parseInt(C.endY))===1?V.fillText("\u{1FA93}",O[0],O[1]):V.fillText("\u26CF\uFE0F",O[0],O[1]))}),V.strokeStyle="#0000FF",V.strokeRect(d,v,1,1)};function m(){t(5,p=!0)}function w(V){f=!0,c.x=Xe(V).x/a-o.x,c.y=Xe(V).y/a-o.y}function M(V){f=!1}function D(V){f&&(o.x=Xe(V).x/a-c.x,o.y=Xe(V).y/a-c.y);let C=n.getBoundingClientRect();t(3,d=Math.floor((V.clientX-C.left-window.innerWidth/2)/a+(window.innerWidth/2-o.x)+.5)-.5),t(4,v=Math.floor((V.clientY-C.left-window.innerHeight/2)/a+(window.innerHeight/2-o.y)-.5)+.5)}function A(V,C){V.touches.length==1?C(V):V.type=="touchmove"&&V.touches.length==2&&(f=!1,S(V))}let U=null;function S(V){V.preventDefault();let C={x:V.touches[0].clientX,y:V.touches[0].clientY},O={x:V.touches[1].clientX,y:V.touches[1].clientY},R=(C.x-O.x)**2+(C.y-O.y)**2;U==null?U=R:L(null)}function L(V){a-=V.deltaY,a=Math.min(a,vs),a=Math.max(a,_s)}Oe(()=>{o={x:window.innerWidth/2,y:window.innerHeight/2},n.addEventListener("mousedown",w),n.addEventListener("touchstart",C=>A(C,w)),n.addEventListener("mouseup",M),n.addEventListener("touchend",C=>A(C,M)),n.addEventListener("mousemove",D),n.addEventListener("touchmove",C=>A(C,D)),n.addEventListener("wheel",C=>L(C)),n.addEventListener("dblclick",m);const V=setInterval(()=>{i=Date.now(),_()},10);return()=>{clearInterval(V)}});function T(V){p=V,t(5,p)}function X(V){Ue[V?"unshift":"push"](()=>{n=V,t(2,n)})}return s.$$set=V=>{"players"in V&&t(0,l=V.players),"currentPlayer"in V&&t(1,r=V.currentPlayer)},[l,r,n,d,v,p,T,X]}class ms extends ge{constructor(e){super();we(this,e,ps,hs,$e,{players:0,currentPlayer:1})}}function bs(s){let e,t,l,r,i,n,a,o,f,c,d;e=new ms({props:{players:s[0].data,currentPlayer:s[0].data.find(s[4])}}),i=new Se({props:{href:cl("/"),label:"Home",$$slots:{default:[Is]},$$scope:{ctx:s}}});const v=[ys,Es],p=[];function k(_,m){return(o==null||m&3)&&(o=!!(_[1].address&&_[0].data.find(_[3]))),o?0:1}return f=k(s,-1),c=p[f]=v[f](s),{c(){x(e.$$.fragment),t=N(),l=E("div"),r=E("div"),x(i.$$.fragment),n=N(),a=E("div"),c.c(),this.h()},l(_){ee(e.$$.fragment,_),t=Y(_),l=y(_,"DIV",{class:!0});var m=g(l);r=y(m,"DIV",{class:!0});var w=g(r);ee(i.$$.fragment,w),w.forEach(h),n=Y(m),a=y(m,"DIV",{class:!0});var M=g(a);c.l(M),M.forEach(h),m.forEach(h),this.h()},h(){b(r,"class","fixed bottom-0 left-0 m-2 svelte-8b44jz"),b(a,"class","fixed bottom-0 right-0 border-8 border-double border-gray-700 bg-gray-300 p-1 svelte-8b44jz"),b(l,"class","relative svelte-8b44jz")},m(_,m){te(e,_,m),P(_,t,m),P(_,l,m),u(l,r),te(i,r,null),u(l,n),u(l,a),p[f].m(a,null),d=!0},p(_,m){const w={};m&1&&(w.players=_[0].data),m&3&&(w.currentPlayer=_[0].data.find(_[4])),e.$set(w);const M={};m&128&&(M.$$scope={dirty:m,ctx:_}),i.$set(M);let D=f;f=k(_,m),f===D?p[f].p(_,m):(fe(),H(p[D],1,1,()=>{p[D]=null}),ue(),c=p[f],c?c.p(_,m):(c=p[f]=v[f](_),c.c()),j(c,1),c.m(a,null))},i(_){d||(j(e.$$.fragment,_),j(i.$$.fragment,_),j(c),d=!0)},o(_){H(e.$$.fragment,_),H(i.$$.fragment,_),H(c),d=!1},d(_){le(e,_),_&&h(t),_&&h(l),le(i),p[f].d()}}}function ks(s){let e,t;return{c(){e=E("div"),t=$("Players failed to load!"),this.h()},l(l){e=y(l,"DIV",{class:!0});var r=g(e);t=I(r,"Players failed to load!"),r.forEach(h),this.h()},h(){b(e,"class","svelte-8b44jz")},m(l,r){P(l,e,r),u(e,t)},p:B,i:B,o:B,d(l){l&&h(e)}}}function gs(s){let e,t;return{c(){e=E("div"),t=$("Loading Map..."),this.h()},l(l){e=y(l,"DIV",{class:!0});var r=g(e);t=I(r,"Loading Map..."),r.forEach(h),this.h()},h(){b(e,"class","svelte-8b44jz")},m(l,r){P(l,e,r),u(e,t)},p:B,i:B,o:B,d(l){l&&h(e)}}}function ws(s){let e,t,l=s[0].error+"",r;return{c(){e=E("div"),t=$("Error: "),r=$(l),this.h()},l(i){e=y(i,"DIV",{class:!0});var n=g(e);t=I(n,"Error: "),r=I(n,l),n.forEach(h),this.h()},h(){b(e,"class","svelte-8b44jz")},m(i,n){P(i,e,n),u(e,t),u(e,r)},p(i,n){n&1&&l!==(l=i[0].error+"")&&G(r,l)},i:B,o:B,d(i){i&&h(e)}}}function $s(s){let e,t;return{c(){e=E("div"),t=$("Messages not loaded"),this.h()},l(l){e=y(l,"DIV",{class:!0});var r=g(e);t=I(r,"Messages not loaded"),r.forEach(h),this.h()},h(){b(e,"class","svelte-8b44jz")},m(l,r){P(l,e,r),u(e,t)},p:B,i:B,o:B,d(l){l&&h(e)}}}function Is(s){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(l){e=me(l,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var r=g(e);t=me(r,"path",{d:!0,class:!0}),g(t).forEach(h),r.forEach(h),this.h()},h(){b(t,"d","M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"),b(t,"class","svelte-8b44jz"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"class","h-5 w-5 svelte-8b44jz"),b(e,"viewBox","0 0 20 20"),b(e,"fill","currentColor")},m(l,r){P(l,e,r),u(e,t)},d(l){l&&h(e)}}}function Es(s){let e,t,l,r;return{c(){e=E("button"),t=$("Click here to join the game!"),this.h()},l(i){e=y(i,"BUTTON",{class:!0,type:!0});var n=g(e);t=I(n,"Click here to join the game!"),n.forEach(h),this.h()},h(){b(e,"class","flex-shrink-0 bg-yellow-500 hover:bg-yellow-600 border-yellow-500 hover:border-yellow-600 text-xl border-4 text-white py-1 px-2 rounded disabled:bg-gray-400 disabled:border-gray-400 disabled:cursor-not-allowed svelte-8b44jz"),b(e,"type","button")},m(i,n){P(i,e,n),u(e,t),l||(r=ie(e,"click",s[6]),l=!0)},p:B,i:B,o:B,d(i){i&&h(e),l=!1,r()}}}function ys(s){let e,t;return e=new ss({props:{currentPlayer:s[0].data.find(s[5])}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){te(e,l,r),t=!0},p(l,r){const i={};r&3&&(i.currentPlayer=l[0].data.find(l[5])),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function Ds(s){let e,t,l,r;const i=[$s,ws,gs,ks,bs],n=[];function a(o,f){return o[0].step?o[0].error?1:o[0].step==="LOADING"?2:o[0].data?4:3:0}return e=a(s),t=n[e]=i[e](s),{c(){t.c(),l=re()},l(o){t.l(o),l=re()},m(o,f){n[e].m(o,f),P(o,l,f),r=!0},p(o,f){let c=e;e=a(o),e===c?n[e].p(o,f):(fe(),H(n[c],1,1,()=>{n[c]=null}),ue(),t=n[e],t?t.p(o,f):(t=n[e]=i[e](o),t.c()),j(t,1),t.m(l.parentNode,l))},i(o){r||(j(t),r=!0)},o(o){H(t),r=!1},d(o){n[e].d(o),o&&h(l)}}}function Vs(s){let e,t,l,r,i;return r=new sr({props:{$$slots:{default:[Ds]},$$scope:{ctx:s}}}),{c(){e=pe("symbol"),t=pe("path"),l=N(),x(r.$$.fragment),this.h()},l(n){e=me(n,"symbol",{id:!0,viewBox:!0,class:!0});var a=g(e);t=me(a,"path",{d:!0,class:!0}),g(t).forEach(h),a.forEach(h),l=Y(n),ee(r.$$.fragment,n),this.h()},h(){b(t,"d","M12 4c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4s-4-1.791-4-4zM24.719 16c0 0 0 0 0 0 0-1.812 1.469-3.281 3.281-3.281s3.281 1.469 3.281 3.281c0 0 0 0 0 0 0 1.812-1.469 3.281-3.281 3.281s-3.281-1.469-3.281-3.281zM21.513 24.485c0-1.641 1.331-2.972 2.972-2.972s2.972 1.331 2.972 2.972c0 1.641-1.331 2.972-2.972 2.972s-2.972-1.331-2.972-2.972zM13.308 28c0-1.487 1.205-2.692 2.692-2.692s2.692 1.205 2.692 2.692c0 1.487-1.205 2.692-2.692 2.692s-2.692-1.205-2.692-2.692zM5.077 24.485c0-1.346 1.092-2.438 2.438-2.438s2.438 1.092 2.438 2.438c0 1.346-1.092 2.438-2.438 2.438s-2.438-1.092-2.438-2.438zM1.792 16c0-1.22 0.989-2.208 2.208-2.208s2.208 0.989 2.208 2.208c0 1.22-0.989 2.208-2.208 2.208s-2.208-0.989-2.208-2.208zM5.515 7.515c0 0 0 0 0 0 0-1.105 0.895-2 2-2s2 0.895 2 2c0 0 0 0 0 0 0 1.105-0.895 2-2 2s-2-0.895-2-2zM28.108 7.515c0 2.001-1.622 3.623-3.623 3.623s-3.623-1.622-3.623-3.623c0-2.001 1.622-3.623 3.623-3.623s3.623 1.622 3.623 3.623z"),b(t,"class","svelte-8b44jz"),b(e,"id","icon-spinner6"),b(e,"viewBox","0 0 32 32"),b(e,"class","svelte-8b44jz")},m(n,a){P(n,e,a),u(e,t),P(n,l,a),te(r,n,a),i=!0},p(n,[a]){const o={};a&131&&(o.$$scope={dirty:a,ctx:n}),r.$set(o)},i(n){i||(j(r.$$.fragment,n),i=!0)},o(n){H(r.$$.fragment,n),i=!1},d(n){n&&h(e),n&&h(l),le(r,n)}}}function Ms(s,e,t){let l,r;Ie(s,dr,c=>t(0,l=c)),Ie(s,Te,c=>t(1,r=c));async function i(){await be.execute(c=>c.UnionQuest.move(0,0))}return[l,r,i,c=>c.id===r.address.toLowerCase(),c=>r.address?c.id===r.address.toLowerCase():!1,c=>r.address?c.id===r.address.toLowerCase():!1,()=>i()]}class Ys extends ge{constructor(e){super();we(this,e,Ms,Vs,$e,{})}}export{Ys as default};
//# sourceMappingURL=map.svelte-752eed2b.js.map
